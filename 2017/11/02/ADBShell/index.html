<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>adb shell | 朝着牛逼的道路一路狂奔</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="androidadb">
  
  
  
  
  <meta name="description" content="Android调试桥(adb)是一种命令行工具，可以让您与仿真器或连接的Android设备进行通信。您可以在android sdk/platform-tools中找到adb工具，或者下载adb工具包。 目录 ADB调试 无线 包管理器 文件管理器 网络 调试 截图 系统">
<meta name="keywords" content="android,adb">
<meta property="og:type" content="article">
<meta property="og:title" content="ADB Shell">
<meta property="og:url" content="https://jigangduan.github.io/2017/11/02/ADBShell/index.html">
<meta property="og:site_name" content="朝着牛逼的道路一路狂奔">
<meta property="og:description" content="Android调试桥(adb)是一种命令行工具，可以让您与仿真器或连接的Android设备进行通信。您可以在android sdk/platform-tools中找到adb工具，或者下载adb工具包。 目录 ADB调试 无线 包管理器 文件管理器 网络 调试 截图 系统">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1509609605843&di=88105c30fe37995440f33d837967ebe5&imgtype=0&src=http%3A%2F%2Fcdn.droidviews.com%2Fwp-content%2Fuploads%2F2013%2F04%2FADB-Android-Debug-Bridge.jpg">
<meta property="og:updated_time" content="2020-07-25T02:57:18.147Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ADB Shell">
<meta name="twitter:description" content="Android调试桥(adb)是一种命令行工具，可以让您与仿真器或连接的Android设备进行通信。您可以在android sdk/platform-tools中找到adb工具，或者下载adb工具包。 目录 ADB调试 无线 包管理器 文件管理器 网络 调试 截图 系统">
<meta name="twitter:image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1509609605843&di=88105c30fe37995440f33d837967ebe5&imgtype=0&src=http%3A%2F%2Fcdn.droidviews.com%2Fwp-content%2Fuploads%2F2013%2F04%2FADB-Android-Debug-Bridge.jpg">
  
    <link rel="alternate" href="/atom.xml" title="朝着牛逼的道路一路狂奔" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("/css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("/css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("/css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">首页</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">归档</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">分类</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">标签</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">关于</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-ADBShell" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      ADB Shell
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/02/ADBShell/" class="article-date">
	  <time datetime="2017-11-02T05:09:20.000Z" itemprop="datePublished">2017-11-02</time>
	</a>

      
    <a class="article-category-link" href="/categories/Android/">Android</a><a class="article-category-link" href="/categories/Android/ADB/">ADB</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		阅读量<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1509609605843&amp;di=88105c30fe37995440f33d837967ebe5&amp;imgtype=0&amp;src=http%3A%2F%2Fcdn.droidviews.com%2Fwp-content%2Fuploads%2F2013%2F04%2FADB-Android-Debug-Bridge.jpg" alt="adb"></p>
<p>Android调试桥(<code>adb</code>)是一种命令行工具，可以让您与仿真器或连接的Android设备进行通信。您可以在android <code>sdk/platform-tools</code>中找到adb工具，或者下载<a href="http://adbshell.com/downloads" target="_blank" rel="noopener">adb工具包</a>。</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li><a href="#adb_debugging">ADB调试</a></li>
<li><a href="#wireless">无线</a></li>
<li><a href="#package_manager">包管理器</a></li>
<li><a href="#file_manager">文件管理器</a></li>
<li><a href="#network">网络</a></li>
<li><a href="#logcat">调试</a></li>
<li><a href="#screenshot">截图</a></li>
<li><a href="#system">系统</a></li>
</ol>
<a id="more"></a>
<hr>
<h2 id="ADB调试"><a href="#ADB调试" class="headerlink" title="ADB调试"></a><a name="adb_debugging"></a>ADB调试</h2><h3 id="adb-devices"><a href="#adb-devices" class="headerlink" title="adb devices"></a>adb devices</h3><p>打印所有附加的模拟器/设备的列表</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>
<p>打印所有附加的模拟器/设备的列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e4b25377        device</span><br><span class="line">emulator-5554  device</span><br></pre></td></tr></table></figure>
<h3 id="adb-forward"><a href="#adb-forward" class="headerlink" title="adb forward"></a>adb forward</h3><p>设备的端口转发</p>
<p><code>adb forward &lt;local&gt; &lt;remote&gt;</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb forward tcp:8000 tcp:9000 <span class="comment">##把PC端8000端口的数据, 转发到Android端的9000端口上</span></span><br></pre></td></tr></table></figure>
<p>执行命令后, PC端的8000端口会被 adb监听, 这个时候我们只需要往8000端口写数据, 这个数据就会发送到手机端的9000端口上.</p>
<blockquote>
<p>这个命令对于我们在调试的时候非常有用，特别在 IDA 调试中。</p>
</blockquote>
<blockquote>
<p>先决条件:在设备上启用USB调试。</p>
</blockquote>
<h3 id="adb-forward-1"><a href="#adb-forward-1" class="headerlink" title="adb forward"></a>adb forward</h3><p>查看设备中可以被调试的应用的进程号</p>
<p><code>adb jdwp</code></p>
<blockquote>
<p>这个命令或许用途不是很多，但是对于调试的时候还是有点用途。可以忽略这个命令。</p>
</blockquote>
<h3 id="adb-kill-server"><a href="#adb-kill-server" class="headerlink" title="adb kill-server"></a>adb kill-server</h3><p>终止adb服务器进程</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb <span class="built_in">kill</span>-server</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注释:如果服务器正在运行，就将其杀死。(终端adb.exe进程)</p>
</blockquote>
<hr>
<h2 id="无线"><a href="#无线" class="headerlink" title="无线"></a><a name="wireless"></a>无线</h2><h3 id="adb-connect"><a href="#adb-connect" class="headerlink" title="adb connect"></a>adb connect</h3><p>使用ADB Wi-Fi</p>
<p><code>adb connect &lt;host&gt;[:&lt;port&gt;]</code></p>
<p><em>步骤1</em></p>
<p>通过USB连接到设备。</p>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>
<p>附加的设备列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">######## device</span><br></pre></td></tr></table></figure>
<p><em>步骤3</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb tcpip 5555</span><br></pre></td></tr></table></figure>
<p>在TCP模式端口555重新启动</p>
<p><em>步骤4</em></p>
<p>找出Android设备的IP地址: Settings -&gt; About -&gt; Status -&gt; IP address。记住IP地址 #.#.#.#</p>
<p><em>步骤5</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb connect #.#.#.#</span><br></pre></td></tr></table></figure>
<p>连接到#.#.#.#:5555</p>
<p><em>步骤6</em></p>
<p>从设备中移除USB电缆，并确认你仍然可以访问设备:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>
<p>附加的设备列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#.#.#.#:5555 device</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:确保你的主机仍然连接到你的Android设备上的相同的wifi网络。</p>
</blockquote>
<h3 id="adb-usb"><a href="#adb-usb" class="headerlink" title="adb usb"></a>adb usb</h3><p>以USB模式重新启动ADB。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb usb</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参见:adb connect</p>
</blockquote>
<hr>
<h2 id="包管理器"><a href="#包管理器" class="headerlink" title="包管理器"></a><a name="package_manager"></a>包管理器</h2><h3 id="adb-install"><a href="#adb-install" class="headerlink" title="adb install"></a>adb install</h3><p>安装一个Android应用程序(指定一个完整路径的.apk文件)到一个模拟器/设备。</p>
<p><code>adb install [option] &lt;path&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">adb install test.apk</span><br><span class="line"></span><br><span class="line">adb install -l test.apk ##安装锁定应用程序</span><br><span class="line"></span><br><span class="line">adb install -r test.apk ##替换现有的应用程序</span><br><span class="line"></span><br><span class="line">adb install -t test.apk ##允许test包</span><br><span class="line"></span><br><span class="line">adb install -s test.apk ##sdcard上安装应用程序</span><br><span class="line"></span><br><span class="line">adb install -d test.apk ##允许降级版本代码</span><br><span class="line"></span><br><span class="line">adb install -p test.apk ##部分应用程序安装</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果应用已经安装了，需要使用 adb install –r [ apk 文件] 相当于升级安装</p>
</blockquote>
<h3 id="adb-uninstall"><a href="#adb-uninstall" class="headerlink" title="adb uninstall"></a>adb uninstall</h3><p>从模拟器/设备中删除一个包。</p>
<p><code>adb uninstall [options] &lt;PACKAGE&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb uninstall com.test.app</span><br><span class="line">adb uninstall -k com.test.app ##在包删除后保留数据和缓存目录.</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-pm-list-packages"><a href="#adb-shell-pm-list-packages" class="headerlink" title="adb shell pm list packages"></a>adb shell pm list packages</h3><p>打印所有包，可选的只有那些包名包含<filter>文本的包。</filter></p>
<p><code>adb shell pm list packages [options] &lt;FILTER&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm list packages</span><br><span class="line"></span><br><span class="line">adb shell pm list packages -f ##看到他们的相关文件.</span><br><span class="line"></span><br><span class="line">adb shell pm list packages -d ##只显示禁用的包.</span><br><span class="line"></span><br><span class="line">adb shell pm list packages -e ##过滤仅显示已启用的包.</span><br><span class="line"></span><br><span class="line">adb shell pm list packages -s ##只显示系统包.</span><br><span class="line"></span><br><span class="line">adb shell pm list packages -3 ##筛选只显示第三方包.</span><br><span class="line"></span><br><span class="line">adb shell pm list packages -i ##查看包的安装程序.</span><br><span class="line"></span><br><span class="line">adb shell pm list packages -u ##还包括卸载包.</span><br><span class="line"></span><br><span class="line">adb shell pm list packages --user &lt;USER_ID&gt; ##查询用户空间.</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-pm-path"><a href="#adb-shell-pm-path" class="headerlink" title="adb shell pm path"></a>adb shell pm path</h3><p>打印给定的<package>APK的路径。</package></p>
<p><code>adb shell pm path &lt;PACKAGE&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm path com.android.phone</span><br></pre></td></tr></table></figure>
<p>package:/system/priv-app/TeleService/TeleService.apk</p>
<h3 id="adb-shell-pm-clear"><a href="#adb-shell-pm-clear" class="headerlink" title="adb shell pm clear"></a>adb shell pm clear</h3><p>删除一个包相关的所有数据。</p>
<p><code>adb shell pm clear &lt;PACKAGE&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm clear com.test.abc</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:清除应用程序数据，缓存</p>
</blockquote>
<hr>
<h2 id="文件管理器"><a href="#文件管理器" class="headerlink" title="文件管理器"></a><a name="file_manager"></a>文件管理器</h2><h3 id="adb-pull"><a href="#adb-pull" class="headerlink" title="adb pull"></a>adb pull</h3><p>从模拟器/设备下载指定的文件到您的计算机</p>
<p><code>adb pull &lt;remote&gt; [local]</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/demo.mp4</span><br></pre></td></tr></table></figure>
<p>下载/sdcard/demo.mp4 到<android-sdk-path>/platform-tools目录。</android-sdk-path></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/demo.mp4 e:\</span><br></pre></td></tr></table></figure>
<p>下载/sdcard/demo.mp4 到E盘。</p>
<h3 id="adb-push"><a href="#adb-push" class="headerlink" title="adb push"></a>adb push</h3><p>从你的电脑上上传一个指定的文件到一个模拟器/设备。</p>
<p><code>adb push &lt;local&gt; &lt;remote&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb push test.apk /sdcard</span><br></pre></td></tr></table></figure>
<p>复制 <android-sdk-path>/platform-tools/test.apk 到 /sdcard 目录</android-sdk-path></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb push d:\test.apk /sdcard</span><br></pre></td></tr></table></figure>
<p>复制 d:\test.apk 到 /sdcard 目录</p>
<h3 id="adb-shell-ls"><a href="#adb-shell-ls" class="headerlink" title="adb shell ls"></a>adb shell ls</h3><p>列出目录的内容</p>
<p><code>ls [options] &lt;directory&gt;</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br><span class="line">ls -a ##不隐藏条目</span><br><span class="line">ls -i ##每个文件的打印索引号</span><br><span class="line">ls -s ##每个文件的打印大小，在块中</span><br><span class="line">ls -n ##列出数字uid和gid</span><br><span class="line">ls -R ##递归地列出子目录</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:按 Ctrl-C停止</p>
</blockquote>
<h3 id="adb-shell-cd"><a href="#adb-shell-cd" class="headerlink" title="adb shell cd"></a>adb shell cd</h3><p>改变当前工作目录</p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /system</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-rm"><a href="#adb-shell-rm" class="headerlink" title="adb shell rm"></a>adb shell rm</h3><p>删除文件或目录</p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rm /sdcard/test.txt</span><br><span class="line">rm -f /sdcard/test.txt 	## 强制删除没有提示</span><br><span class="line">rm -r /sdcard/tmp 		## 递归地删除目录的内容</span><br><span class="line">rm -d /sdcard/tmp 		## 删除目录，即使它是一个非空目录</span><br><span class="line">rm -i /sdcard/test.txt 	## 提示符之前删除</span><br></pre></td></tr></table></figure>
<blockquote>
<p>⚠️:rm -d相当于rmdir命令</p>
</blockquote>
<h3 id="adb-shell-mkdir"><a href="#adb-shell-mkdir" class="headerlink" title="adb shell mkdir"></a>adb shell mkdir</h3><p>创建目录</p>
<p><code>mkdir [options] &lt;directory name&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /sdcard/tmp</span><br><span class="line">mkdir -m 777 /sdcard/tmp 			## 设置权限模式</span><br><span class="line">mkdir -p /sdcard/tmp/sub1/sub2 	## 根据需要创建父目录</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-touch"><a href="#adb-shell-touch" class="headerlink" title="adb shell touch"></a>adb shell touch</h3><p>创建空文件或更改文件时间戳</p>
<p><code>touch [options] &lt;file&gt;</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /sdcard/tmp/test.txt</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-pwd"><a href="#adb-shell-pwd" class="headerlink" title="adb shell pwd"></a>adb shell pwd</h3><p>打印当前工作目录位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-cp"><a href="#adb-shell-cp" class="headerlink" title="adb shell cp"></a>adb shell cp</h3><p>复制文件和目录</p>
<p><code>cp [options] &lt;source&gt; &lt;dest&gt;</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /sdcard/test.txt /sdcard/demo.txt</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-mv"><a href="#adb-shell-mv" class="headerlink" title="adb shell mv"></a>adb shell mv</h3><p>移动或重命名文件</p>
<p><code>mv [options] &lt;source&gt; &lt;dest&gt;</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv /sdcard/tmp /system/tmp 	## 移动</span><br><span class="line">mv /sdcard/tmp /sdcard/test 	## 重命名</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a><a name="network"></a>网络</h2><h3 id="adb-shell-netstat"><a href="#adb-shell-netstat" class="headerlink" title="adb shell netstat"></a>adb shell netstat</h3><p>网络统计信息</p>
<p><code>netstat</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-ping"><a href="#adb-shell-ping" class="headerlink" title="adb shell ping"></a>adb shell ping</h3><p>测试两个网络连接之间的连接和延迟。</p>
<p><code>ping [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
[-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
[-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
[-w deadline] [-W timeout] [hop1 ...] destination</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping www.google.com</span><br><span class="line">ping www.google.com -c 4</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-netcfg"><a href="#adb-shell-netcfg" class="headerlink" title="adb shell netcfg"></a>adb shell netcfg</h3><p>通过配置文件配置和管理网络连接</p>
<p><code>netcfg [&lt;interface&gt; {dhcp|up|down}]</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netcfg</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-ip"><a href="#adb-shell-ip" class="headerlink" title="adb shell ip"></a>adb shell ip</h3><p>显示、操作路由、设备、策略路由和隧道</p>
<p><code>ip [ OPTIONS ] OBJECT</code></p>
<p>OBJECT := { link | addr | addrlabel | route | rule | neigh | ntable |tunnel | tuntap | maddr | mroute | mrule | monitor | xfrm |netns | l2tp }</p>
<p>OPTIONS := { -V[ersion] | -s[tatistics] | -d[etails] | -r[esolve] |-f[amily] { inet | inet6 | ipx | dnet | link } |-l[oops] { maximum-addr-flush-attempts } |-o[neline] | -t[imestamp] | -b[atch] [filename] |-rc[vbuf] [size]}</p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip -f inet addr show wlan0 ## 显示WiFi IP地址</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a><a name="logcat"></a>调试</h2><h3 id="adb-logcat"><a href="#adb-logcat" class="headerlink" title="adb logcat"></a>adb logcat</h3><p>将日志数据打印到屏幕上。</p>
<p><code>adb logcat [option] [filter-specs]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb logcat *:V ## 最低优先级，过滤只显示详细级别</span><br><span class="line">adb logcat *:D ## 只显示调试级别</span><br><span class="line">adb logcat *:I ## 只显示信息级别的过滤器</span><br><span class="line">adb logcat *:W ## 只显示警告级别</span><br><span class="line">adb logcat *:E ## 只显示错误级别</span><br><span class="line">adb logcat *:F ## 仅显示致命级别的过滤器</span><br><span class="line">adb logcat *:S ## 无声的，最高的优先级，没有任何东西被打印出来</span><br></pre></td></tr></table></figure>
<p><code>adb logcat -b &lt;Buffer&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -b radio ## 查看包含无线/电话相关消息的缓冲区.</span><br><span class="line">adb logcat -b event ## 查看包含与事件相关的消息的缓冲区.</span><br><span class="line">adb logcat -b main  ## 默认的</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -c ## 清除整个日志和退出。</span><br><span class="line">adb logcat -d ## 将日志转储到屏幕并退出。</span><br><span class="line">adb logcat -f ## test.logs记录日志消息输出以进行test.logs。</span><br><span class="line">adb logcat -g ## 打印指定的日志缓冲区和退出的大小。</span><br><span class="line">adb logcat -n &lt;count&gt; ## 将旋转日志的最大数量设置为可数。</span><br><span class="line">adb logcat -r &lt;kbytes&gt; ## 将日志文件旋转到输出的每一个字节。</span><br><span class="line">adb logcat -s ## 设置默认的过滤器规范为静默。</span><br></pre></td></tr></table></figure>
<p><code>adb logcat -v &lt;format&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -v brief ## D显示发送消息(默认格式)的进程的优先级/标记和PID.</span><br><span class="line">adb logcat -v process ## 只显示PID)</span><br><span class="line">adb logcat -v tag ## 只显示优先级/标记。</span><br><span class="line">adb logcat -v raw ## 显示原始的日志消息，没有其他的元数据字段。</span><br><span class="line">adb logcat -v time ## 显示发出消息的日期、调用时间、优先级/标记和PID。</span><br><span class="line">adb logcat -v threadtime ## 显示发出消息的线程的日期、调用时间、优先级、标记和PID和TID。</span><br><span class="line">adb logcat -v long ## 显示所有元数据字段和用空行分隔的消息。</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-dumpsys"><a href="#adb-shell-dumpsys" class="headerlink" title="adb shell dumpsys"></a>adb shell dumpsys</h3><p>转储文件系统数据</p>
<p>把当前系统中所有应用运行的四大组件都会打印出来</p>
<p><code>adb shell dumpsys [options]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys</span><br><span class="line">adb shell dumpsys meminfo</span><br><span class="line">adb shell dumpsys battery</span><br><span class="line">adb shell dumpsys batterystats <span class="comment">## 从你的设备收集电池数据</span></span><br><span class="line">adb shell dumpsys batterystats --reset <span class="comment">## 消除旧的收集数据</span></span><br><span class="line">adb shell dumpsys activity</span><br><span class="line">adb shell dumpsys gfxinfo com.android.phone <span class="comment">## 测量com.android.phone 用户界面性能</span></span><br></pre></td></tr></table></figure>
<h4 id="adb-shell-dumpsys-activity-top"><a href="#adb-shell-dumpsys-activity-top" class="headerlink" title="adb shell dumpsys activity top"></a>adb shell dumpsys activity top</h4><p>可以查看当前应用的 activity 信息</p>
<p>用法：</p>
<ul>
<li>运行需要查看的应用，然后运行此命令即可</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys activity top</span><br><span class="line">TASK com.android.settings id=513</span><br><span class="line">  ACTIVITY com.android.settings/.MainSettings f08d06d pid=7492</span><br><span class="line">    Local Activity d9b221 State:</span><br><span class="line">      mResumed=<span class="literal">true</span> mStopped=<span class="literal">false</span> mFinished=<span class="literal">false</span></span><br><span class="line">      mChangingConfigurations=<span class="literal">false</span></span><br><span class="line">      mCurrentConfig=&#123;1.0 ?mcc?mnc zh_CN ldltr sw360dp w360dp h616dp 320dpi nrml long port finger -keyb/v/h -nav/h s.4 themeChanged=0 themeChangedFlags=0&#125;</span><br><span class="line">      mLoadersStarted=<span class="literal">true</span></span><br><span class="line">      Active Fragments <span class="keyword">in</span> c1729ea:</span><br><span class="line">        <span class="comment">#0: SettingsFragment&#123;99e54db #0 id=0x1020002&#125;</span></span><br><span class="line">          mFragmentId=<span class="comment">#1020002 mContainerId=#1020002 mTag=null</span></span><br><span class="line">          mState=5 mIndex=0 mWho=android:fragment:0 mBackStackNesting=0</span><br><span class="line">          mAdded=<span class="literal">true</span> mRemoving=<span class="literal">false</span> mResumed=<span class="literal">true</span> mFromLayout=<span class="literal">false</span> mInLayout=<span class="literal">false</span></span><br><span class="line">          mHidden=<span class="literal">false</span> mDetached=<span class="literal">false</span> mMenuVisible=<span class="literal">true</span> mHasMenu=<span class="literal">false</span></span><br><span class="line">          mRetainInstance=<span class="literal">false</span> mRetaining=<span class="literal">false</span> mUserVisibleHint=<span class="literal">true</span></span><br><span class="line">          mFragmentManager=FragmentManager&#123;c1729ea <span class="keyword">in</span> HostCallbacks&#123;2a70b78&#125;&#125;</span><br><span class="line">          mHost=android.app.Activity<span class="variable">$HostCallbacks</span>@2a70b78</span><br><span class="line">          mContainer=android.widget.FrameLayout&#123;3f44a4f V.E...... ........ 0,128-720,1280 <span class="comment">#1020002 android:id/content&#125;</span></span><br><span class="line">          mView=com.miui.internal.widget.ActionBarOverlayLayout&#123;aa116cc V.E...... ........ 0,0-720,1152 <span class="comment">#100b004e miui:id/action_bar_overlay_layout&#125;</span></span><br><span class="line">          Child FragmentManager&#123;d6ea251 <span class="keyword">in</span> SettingsFragment&#123;99e54db&#125;&#125;:</span><br><span class="line">            FragmentManager misc state:</span><br><span class="line">              mHost=android.app.Activity<span class="variable">$HostCallbacks</span>@2a70b78</span><br><span class="line">              mContainer=android.app.Fragment<span class="variable">$1</span>@935fab6</span><br><span class="line">              mParent=SettingsFragment&#123;99e54db <span class="comment">#0 id=0x1020002&#125;</span></span><br><span class="line">              mCurState=5 mStateSaved=<span class="literal">false</span> mDestroyed=<span class="literal">false</span></span><br><span class="line">      Added Fragments:</span><br><span class="line">        <span class="comment">#0: SettingsFragment&#123;99e54db #0 id=0x1020002&#125;</span></span><br><span class="line">      FragmentManager misc state:</span><br><span class="line">        mHost=android.app.Activity<span class="variable">$HostCallbacks</span>@2a70b78</span><br><span class="line">        mContainer=android.app.Activity<span class="variable">$HostCallbacks</span>@2a70b78</span><br><span class="line">        mCurState=5 mStateSaved=<span class="literal">false</span> mDestroyed=<span class="literal">false</span></span><br><span class="line">    ViewRoot:</span><br><span class="line">      mAdded=<span class="literal">true</span> mRemoved=<span class="literal">false</span></span><br><span class="line">      mConsumeBatchedInputScheduled=<span class="literal">false</span></span><br><span class="line">      mConsumeBatchedInputImmediatelyScheduled=<span class="literal">false</span></span><br><span class="line">      mPendingInputEventCount=0</span><br><span class="line">      mProcessInputEventsScheduled=<span class="literal">false</span></span><br><span class="line">      mTraversalScheduled=<span class="literal">false</span></span><br><span class="line">      android.view.ViewRootImpl<span class="variable">$NativePreImeInputStage</span>: mQueueLength=0</span><br><span class="line">      android.view.ViewRootImpl<span class="variable">$ImeInputStage</span>: mQueueLength=0</span><br><span class="line">      android.view.ViewRootImpl<span class="variable">$NativePostImeInputStage</span>: mQueueLength=0</span><br><span class="line">    Choreographer:</span><br><span class="line">      mFrameScheduled=<span class="literal">false</span></span><br><span class="line">      mLastFrameTime=113407 (34516 ms ago)</span><br><span class="line">    View Hierarchy:</span><br><span class="line">      com.android.internal.policy.PhoneWindow<span class="variable">$DecorView</span>&#123;430fc62 V.E...... R....... 0,0-720,1280&#125;</span><br><span class="line">        com.miui.internal.widget.ActionBarOverlayLayout&#123;1267cae V.E...... ........ 0,0-720,1280 <span class="comment">#100b004e miui:id/action_bar_overlay_layout&#125;</span></span><br><span class="line">          android.widget.FrameLayout&#123;3f44a4f V.E...... ........ 0,128-720,1280 <span class="comment">#1020002 android:id/content&#125;</span></span><br><span class="line">            android.widget.FrameLayout&#123;9dc5534 V.E...... ........ 0,0-720,1152&#125;</span><br><span class="line">              miui.view.ViewPager&#123;efe4f5d VFED..... ........ 0,0-720,1152 <span class="comment">#100b0000 miui:id/view_pager&#125;</span></span><br><span class="line">              android.widget.ListView&#123;8c295a3 G.ED.VC.. ......I. 0,0-0,0 <span class="comment">#102000a android:id/list&#125;</span></span><br><span class="line">            com.miui.internal.widget.ActionBarOverlayLayout&#123;aa116cc V.E...... ........ 0,0-720,1152 <span class="comment">#100b004e miui:id/action_bar_overlay_layout&#125;</span></span><br><span class="line">              android.widget.FrameLayout&#123;9510d15 V.E...... ........ 0,0-720,1152 <span class="comment">#1020002 android:id/content&#125;</span></span><br><span class="line">                android.widget.FrameLayout&#123;16c61d0 V.E...... ........ 0,0-720,1152&#125;</span><br><span class="line">                  android.widget.ListView&#123;7d335c9 VFED.VC.. .F...... 0,0-720,1152 <span class="comment">#102000a android:id/list&#125;</span></span><br><span class="line">                    ... ...</span><br><span class="line"></span><br><span class="line">    Looper (main, tid 1) &#123;d2363b7&#125;</span><br><span class="line">      Message 0: &#123; when=+23s220ms what=1 target=com.xiaomi.mistatistic.sdk.controller.p<span class="variable">$1</span> &#125;</span><br><span class="line">      (Total messages: 1, polling=<span class="literal">false</span>, quitting=<span class="literal">false</span>)</span><br></pre></td></tr></table></figure>
<h4 id="adb-shell-dumpsys-package"><a href="#adb-shell-dumpsys-package" class="headerlink" title="adb shell dumpsys package"></a>adb shell dumpsys package</h4><p>可以查看指定包名应用的详细信息(相当于应用的 AndroidManifest.xml 中的内容)</p>
<p><code>adb shell dumpsys package [pkgname]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys package com.android.settings</span><br><span class="line">Activity Resolver Table:</span><br><span class="line">  Full MIME Types:</span><br><span class="line">      vnd.android.cursor.item/telephony-carrier:</span><br><span class="line">        94d08b7 com.android.settings/.MiuiApnEditor</span><br><span class="line">      vnd.android.document/root:</span><br><span class="line">        2fea824 com.android.settings/.Settings<span class="variable">$PublicVolumeSettingsActivity</span></span><br><span class="line">      vnd.android.cursor.dir/telephony-carrier:</span><br><span class="line">        94d08b7 com.android.settings/.MiuiApnEditor</span><br><span class="line"></span><br><span class="line">  Base MIME Types:</span><br><span class="line">      vnd.android.document:</span><br><span class="line">        2fea824 com.android.settings/.Settings<span class="variable">$PublicVolumeSettingsActivity</span></span><br><span class="line"></span><br><span class="line">  ... ...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里看到就是相当于把应用的清单文件打印出来而已。</p>
</blockquote>
<h4 id="adb-shell-dumpsys-meminfo"><a href="#adb-shell-dumpsys-meminfo" class="headerlink" title="adb shell dumpsys meminfo"></a>adb shell dumpsys meminfo</h4><p>可以查看指定进程名或者是进程 id 的内存信息</p>
<p><code>adb shell dumpsys meminfo [pname/pid]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys meminfo 7492</span><br><span class="line">Applications Memory Usage (kB):</span><br><span class="line">Uptime: 1360979 Realtime: 1360979</span><br><span class="line"></span><br><span class="line">** MEMINFO <span class="keyword">in</span> pid 7492 [com.android.settings] **</span><br><span class="line">                   Pss  Private  Private  Swapped     Heap     Heap     Heap</span><br><span class="line">                 Total    Dirty    Clean    Dirty     Size    Alloc     Free</span><br><span class="line">                ------   ------   ------   ------   ------   ------   ------</span><br><span class="line">  Native Heap     4526     4440        0        0     8384     7508      875</span><br><span class="line">  Dalvik Heap     6077     6016       36     3872    15479    10500     4979</span><br><span class="line"> Dalvik Other      994      992        0        4                           </span><br><span class="line">        Stack      280      280        0        0                           </span><br><span class="line">       Ashmem       12       12        0        0                           </span><br><span class="line">      Gfx dev     3228     3180        0        0                           </span><br><span class="line">    Other dev        4        0        4        0                           </span><br><span class="line">     .so mmap      733      208        0     2516                           </span><br><span class="line">    .apk mmap       13        0        0        0                           </span><br><span class="line">    .dex mmap      260       32      116       20                           </span><br><span class="line">    .oat mmap     1101      200      200        4                           </span><br><span class="line">    .art mmap     1809     1564       28      104                           </span><br><span class="line">   Other mmap       11        8        0        0                           </span><br><span class="line">      Unknown      261      260        0        0                           </span><br><span class="line">        TOTAL    19309    17192      384     6520    23863    18008     5854</span><br><span class="line"></span><br><span class="line"> App Summary</span><br><span class="line">                       Pss(KB)</span><br><span class="line">                        ------</span><br><span class="line">           Java Heap:     7608</span><br><span class="line">         Native Heap:     4440</span><br><span class="line">                Code:      756</span><br><span class="line">               Stack:      280</span><br><span class="line">            Graphics:     3180</span><br><span class="line">       Private Other:     1312</span><br><span class="line">              System:     1733</span><br><span class="line"></span><br><span class="line">               TOTAL:    19309      TOTAL SWAP (KB):     6520</span><br><span class="line"></span><br><span class="line"> Objects</span><br><span class="line">               Views:      122         ViewRootImpl:        1</span><br><span class="line">         AppContexts:        4           Activities:        1</span><br><span class="line">              Assets:        5        AssetManagers:        2</span><br><span class="line">       Local Binders:       49        Proxy Binders:       32</span><br><span class="line">       Parcel memory:        6         Parcel count:       27</span><br><span class="line">    Death Recipients:        2      OpenSSL Sockets:        0</span><br><span class="line"></span><br><span class="line"> SQL</span><br><span class="line">         MEMORY_USED:        0</span><br><span class="line">  PAGECACHE_OVERFLOW:        0          MALLOC_SIZE:       62</span><br></pre></td></tr></table></figure>
<blockquote>
<p>利用这个命令可以查看进程当前的内存情况</p>
</blockquote>
<h4 id="adb-shell-dumpsys-dbinfo"><a href="#adb-shell-dumpsys-dbinfo" class="headerlink" title="adb shell dumpsys dbinfo"></a>adb shell dumpsys dbinfo</h4><p>可以查看指定包名应用的数据库存储信息(包括存储的sql语句)</p>
<p><code>adb shell dumpsys dbinfo [packagename]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell dumpsys dbinfo com.android.mms</span><br><span class="line">Applications Database Info:</span><br><span class="line"></span><br><span class="line">** Database info <span class="keyword">for</span> pid 11635 [com.android.mms] **</span><br><span class="line"></span><br><span class="line">Connection pool <span class="keyword">for</span> /data/user/0/com.android.mms/databases/cache.db:</span><br><span class="line">  Open: <span class="literal">true</span></span><br><span class="line">  Max connections: 1</span><br><span class="line">  Available primary connection:</span><br><span class="line">    Connection <span class="comment">#0:</span></span><br><span class="line">      isPrimaryConnection: <span class="literal">true</span></span><br><span class="line">      onlyAllowReadOnlyOperations: <span class="literal">true</span></span><br><span class="line">      Most recently executed operations:</span><br><span class="line">        0: [2017-12-25 10:37:27.000] executeForCursorWindow took 1ms - succeeded, sql=<span class="string">"SELECT action_id, action, timestamp FROM ad_cache"</span></span><br><span class="line">        1: [2017-12-25 10:37:27.000] prepare took 0ms - succeeded, sql=<span class="string">"SELECT action_id, action, timestamp FROM ad_cache"</span></span><br><span class="line">        2: [2017-12-25 10:37:26.999] executeForLong took 1ms - succeeded, sql=<span class="string">"PRAGMA user_version;"</span></span><br><span class="line">        3: [2017-12-25 10:37:26.999] prepare took 0ms - succeeded, sql=<span class="string">"PRAGMA user_version;"</span></span><br><span class="line">        4: [2017-12-25 10:37:26.998] executeForString took 1ms - succeeded, sql=<span class="string">"SELECT locale FROM android_metadata UNION SELECT NULL ORDER BY locale DESC LIMIT 1"</span></span><br><span class="line">        5: [2017-12-25 10:37:26.995] execute took 3ms - succeeded, sql=<span class="string">"CREATE TABLE IF NOT EXISTS android_metadata (locale TEXT)"</span></span><br><span class="line">        6: [2017-12-25 10:37:26.995] executeForLong took 0ms - succeeded, sql=<span class="string">"PRAGMA wal_autocheckpoint=100"</span></span><br><span class="line">        7: [2017-12-25 10:37:26.995] executeForLong took 0ms - succeeded, sql=<span class="string">"PRAGMA wal_autocheckpoint"</span></span><br><span class="line">        8: [2017-12-25 10:37:26.995] executeForLong took 0ms - succeeded, sql=<span class="string">"PRAGMA journal_size_limit=524288"</span></span><br><span class="line">        9: [2017-12-25 10:37:26.995] executeForLong took 0ms - succeeded, sql=<span class="string">"PRAGMA journal_size_limit"</span></span><br><span class="line">        10: [2017-12-25 10:37:26.995] executeForString took 0ms - succeeded, sql=<span class="string">"PRAGMA synchronous"</span></span><br><span class="line">        11: [2017-12-25 10:37:26.995] executeForString took 0ms - succeeded, sql=<span class="string">"PRAGMA journal_mode=PERSIST"</span></span><br><span class="line">        12: [2017-12-25 10:37:26.994] executeForString took 1ms - succeeded, sql=<span class="string">"PRAGMA journal_mode"</span></span><br><span class="line">        13: [2017-12-25 10:37:26.994] executeForLong took 0ms - succeeded, sql=<span class="string">"PRAGMA foreign_keys"</span></span><br><span class="line">        14: [2017-12-25 10:37:26.993] executeForLong took 1ms - succeeded, sql=<span class="string">"PRAGMA page_size"</span></span><br><span class="line">  Available non-primary connections:</span><br><span class="line">    &lt;none&gt;</span><br><span class="line">  Acquired connections:</span><br><span class="line">    &lt;none&gt;</span><br><span class="line">  Connection waiters:</span><br><span class="line">    &lt;none&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里可以清晰的看到应用执行过的 sql 语句信息。在对应用逆向的时候具有一定用途。毕竟可以查看应用操作数据库信息了。</p>
</blockquote>
<h3 id="adb-shell-dumpstate"><a href="#adb-shell-dumpstate" class="headerlink" title="adb shell dumpstate"></a>adb shell dumpstate</h3><p>转储状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpstate</span><br><span class="line">adb shell dumpstate &gt; state.logs <span class="comment">## 将状态转储到文件中</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="adb-shell-input-text"><a href="#adb-shell-input-text" class="headerlink" title="adb shell input text"></a>adb shell input text</h3><p>输入文本内容</p>
<p><code>adb shell input text [需要输入文本框内容]</code></p>
<p>案例：</p>
<ul>
<li>让需要输入内容的文本框获取焦点，adb shell input text ‘HelloWorld’</li>
</ul>
<blockquote>
<p>注意：这个命令也可以模拟物理按键，虚拟键盘，滑动，滚动等事件</p>
</blockquote>
<blockquote>
<p>延伸：这个命令对于我们在需要输入一大堆信息到文本框中的时候非常有用，比如现在你在 PC 端有一段内容，想输入到手机的某个搜索框中，那么你可以通过把这段内容发送到手机，然后在复制操作。但是有了这个命令就非常简单，先让你想要输入的文本框获取焦点，然后运行这个命令即可。</p>
</blockquote>
<h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a><a name="screenshot"></a>截图</h2><h3 id="adb-shell-screencap"><a href="#adb-shell-screencap" class="headerlink" title="adb shell screencap"></a>adb shell screencap</h3><p>截屏操作。</p>
<p><code>adb shell screencap &lt;filename&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screencap /sdcard/screen.png</span><br></pre></td></tr></table></figure>
<p>从设备中下载文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/screen.png</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-screenrecord-4-4"><a href="#adb-shell-screenrecord-4-4" class="headerlink" title="adb shell screenrecord [4.4+]"></a>adb shell screenrecord [4.4+]</h3><p>录屏操作</p>
<p>录屏运行Android 4.4(API级别19)或更高的设备。</p>
<p><code>adb shell screenrecord [options] &lt;filename&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord /sdcard/demo.mp4</span><br></pre></td></tr></table></figure>
<p>从设备中下载文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/demo.mp4</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:按下Ctrl-C停止屏幕记录，否则记录在三分钟内自动停止，或按时间限制设定的时间限制。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord --size &lt;WIDTHxHEIGHT&gt;</span><br></pre></td></tr></table></figure>
<p>设置视频大小:1280x720。默认值是设备的本地显示分辨率(如果支持的话)，如果不是的话，则是1280x720。为了得到最好的结果，使用你的设备的高级视频编码(AVC)编码器所支持的尺寸。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord --bit-rate &lt;RATE&gt;</span><br></pre></td></tr></table></figure>
<p>设置视频的视频比特率，以每秒兆比特的速度。默认值是4Mbps。你可以增加比特率来提高视频质量，但是这样做会导致更大的电影文件。下面的示例将记录比特率设置为5Mbps:adb shell screenrecord –bit-rate 5000000 /sdcard/demo.mp4</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord --time-limit &lt;TIME&gt;</span><br></pre></td></tr></table></figure>
<p>设置最大的记录时间，以秒计。默认值和最大值是180(3分钟)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord --rotate</span><br></pre></td></tr></table></figure>
<p>将输出旋转90度。这个特性是实验性的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord --verbose</span><br></pre></td></tr></table></figure>
<p>在命令行屏幕上显示日志信息。如果您不设置此选项，则该实用程序在运行时不会显示任何信息。</p>
<hr>
<h2 id="系统"><a href="#系统" class="headerlink" title="系统"></a><a name="system"></a>系统</h2><h3 id="adb-root"><a href="#adb-root" class="headerlink" title="adb root"></a>adb root</h3><p>使用根权限重新启动adbd守护进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb root</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:adbd不能在生产构建中作为root运行(在模拟器中进行测试)</p>
</blockquote>
<h3 id="adb-sideload"><a href="#adb-sideload" class="headerlink" title="adb sideload"></a>adb sideload</h3><p>flashing/恢复 Android update.zip包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb sideload &lt;update.zip&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:adb重新启动Android M+</p>
</blockquote>
<h3 id="adb-shell-ps"><a href="#adb-shell-ps" class="headerlink" title="adb shell ps"></a>adb shell ps</h3><p>打印进程状态</p>
<p><code>ps [options]</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps</span><br><span class="line">ps -p</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-top"><a href="#adb-shell-top" class="headerlink" title="adb shell top"></a>adb shell top</h3><p>显示最高CPU进程</p>
<p><code>top [options]</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line">top -t ## 显示线程而不是进程.</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-getprop"><a href="#adb-shell-getprop" class="headerlink" title="adb shell getprop"></a>adb shell getprop</h3><p>通过安卓property服务获得property</p>
<p><code>getprop [options]</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">getprop</span><br><span class="line">getprop ro.build.version.sdk</span><br><span class="line">getprop ro.chipname</span><br><span class="line">getprop | grep adb</span><br></pre></td></tr></table></figure>
<h3 id="adb-shell-setprop"><a href="#adb-shell-setprop" class="headerlink" title="adb shell setprop"></a>adb shell setprop</h3><p>设置property服务</p>
<p><code>setprop &lt;key&gt; &lt;value&gt;</code></p>
<p><em>步骤1</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
<p><em>步骤2</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setprop service.adb.tcp.port 5555</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: '如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作!', // 可选参数，打赏标题
  btnText: '打赏支持', // 可选参数，打赏按钮文字
  el: document.getElementById('donation_div'),
  wechatImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/WeChanQR.png',
  alipayImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/AliPayQR.jpg'
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>本文作者:  </strong>段纪刚</a>
          </li>
          <li class="post-copyright-link">
          <strong>本文链接:  </strong>
          <a href="/2017/11/02/ADBShell/" target="_blank" title="ADB Shell">https://jigangduan.github.io/2017/11/02/ADBShell/</a>
          </li>
          <li class="post-copyright-license">
            <strong>版权声明:   </strong>
            本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            许可协议。转载请注明出处
          </li>
         
        </ul>
<div>

      
      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>



      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/adb/">adb</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/11/02/anko/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          Anko 简介
        
      </div>
    </a>
  
  
    <a href="/2017/11/02/MasteringAndroidNDKBuildSystem2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">掌握Android NDK构建系统——第2部分:独立的工具链</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#目录"><span class="nav-number">1.</span> <span class="nav-text">目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ADB调试"><span class="nav-number">2.</span> <span class="nav-text">ADB调试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-devices"><span class="nav-number">2.1.</span> <span class="nav-text">adb devices</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-forward"><span class="nav-number">2.2.</span> <span class="nav-text">adb forward</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-forward-1"><span class="nav-number">2.3.</span> <span class="nav-text">adb forward</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-kill-server"><span class="nav-number">2.4.</span> <span class="nav-text">adb kill-server</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#无线"><span class="nav-number">3.</span> <span class="nav-text">无线</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-connect"><span class="nav-number">3.1.</span> <span class="nav-text">adb connect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-usb"><span class="nav-number">3.2.</span> <span class="nav-text">adb usb</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#包管理器"><span class="nav-number">4.</span> <span class="nav-text">包管理器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-install"><span class="nav-number">4.1.</span> <span class="nav-text">adb install</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-uninstall"><span class="nav-number">4.2.</span> <span class="nav-text">adb uninstall</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-pm-list-packages"><span class="nav-number">4.3.</span> <span class="nav-text">adb shell pm list packages</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-pm-path"><span class="nav-number">4.4.</span> <span class="nav-text">adb shell pm path</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-pm-clear"><span class="nav-number">4.5.</span> <span class="nav-text">adb shell pm clear</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件管理器"><span class="nav-number">5.</span> <span class="nav-text">文件管理器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-pull"><span class="nav-number">5.1.</span> <span class="nav-text">adb pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-push"><span class="nav-number">5.2.</span> <span class="nav-text">adb push</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-ls"><span class="nav-number">5.3.</span> <span class="nav-text">adb shell ls</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-cd"><span class="nav-number">5.4.</span> <span class="nav-text">adb shell cd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-rm"><span class="nav-number">5.5.</span> <span class="nav-text">adb shell rm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-mkdir"><span class="nav-number">5.6.</span> <span class="nav-text">adb shell mkdir</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-touch"><span class="nav-number">5.7.</span> <span class="nav-text">adb shell touch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-pwd"><span class="nav-number">5.8.</span> <span class="nav-text">adb shell pwd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-cp"><span class="nav-number">5.9.</span> <span class="nav-text">adb shell cp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-mv"><span class="nav-number">5.10.</span> <span class="nav-text">adb shell mv</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网络"><span class="nav-number">6.</span> <span class="nav-text">网络</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-netstat"><span class="nav-number">6.1.</span> <span class="nav-text">adb shell netstat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-ping"><span class="nav-number">6.2.</span> <span class="nav-text">adb shell ping</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-netcfg"><span class="nav-number">6.3.</span> <span class="nav-text">adb shell netcfg</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-ip"><span class="nav-number">6.4.</span> <span class="nav-text">adb shell ip</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调试"><span class="nav-number">7.</span> <span class="nav-text">调试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-logcat"><span class="nav-number">7.1.</span> <span class="nav-text">adb logcat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-dumpsys"><span class="nav-number">7.2.</span> <span class="nav-text">adb shell dumpsys</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#adb-shell-dumpsys-activity-top"><span class="nav-number">7.2.1.</span> <span class="nav-text">adb shell dumpsys activity top</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#adb-shell-dumpsys-package"><span class="nav-number">7.2.2.</span> <span class="nav-text">adb shell dumpsys package</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#adb-shell-dumpsys-meminfo"><span class="nav-number">7.2.3.</span> <span class="nav-text">adb shell dumpsys meminfo</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#adb-shell-dumpsys-dbinfo"><span class="nav-number">7.2.4.</span> <span class="nav-text">adb shell dumpsys dbinfo</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-dumpstate"><span class="nav-number">7.3.</span> <span class="nav-text">adb shell dumpstate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-input-text"><span class="nav-number">7.4.</span> <span class="nav-text">adb shell input text</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#截图"><span class="nav-number">8.</span> <span class="nav-text">截图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-screencap"><span class="nav-number">8.1.</span> <span class="nav-text">adb shell screencap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-screenrecord-4-4"><span class="nav-number">8.2.</span> <span class="nav-text">adb shell screenrecord [4.4+]</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#系统"><span class="nav-number">9.</span> <span class="nav-text">系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-root"><span class="nav-number">9.1.</span> <span class="nav-text">adb root</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-sideload"><span class="nav-number">9.2.</span> <span class="nav-text">adb sideload</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-ps"><span class="nav-number">9.3.</span> <span class="nav-text">adb shell ps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-top"><span class="nav-number">9.4.</span> <span class="nav-text">adb shell top</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-getprop"><span class="nav-number">9.5.</span> <span class="nav-text">adb shell getprop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#adb-shell-setprop"><span class="nav-number">9.6.</span> <span class="nav-text">adb shell setprop</span></a></li></ol></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2021 朝着牛逼的道路一路狂奔 All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            朝着牛逼的道路一路狂奔
          </div>
          <div class="panel-body">
            Copyright © 2021 段纪刚 All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>