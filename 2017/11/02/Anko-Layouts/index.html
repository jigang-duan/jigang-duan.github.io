<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>anko å¸ƒå±€ | æœç€ç‰›é€¼çš„é“è·¯ä¸€è·¯ç‹‚å¥”</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="androidankokotlin">
  
  
  
  
  <meta name="description" content="ä¸ºä»€ä¹ˆAnkoå¸ƒå±€? DSLçš„åŸå› ? æ”¯æŒç°æœ‰çš„ä»£ç  å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ å®ƒæ˜¯å¯æ‰©å±•çš„å—?   åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko Layouts ç†è§£Anko åŸºç¡€çŸ¥è¯† AnkoComponent è¾…åŠ©å— ä¸»é¢˜å— å¸ƒå±€å’ŒLayoutParams Listeners å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡ ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦ å®ä¾‹ç®€åŒ–ç¬¦å· UIåŒ…è£… Includeæ ‡ç­¾   Ankoæ”¯æŒæ’ä»¶ å®‰è£…Ankoæ”¯æŒæ’ä»¶ ä½¿ç”¨æ’ä»¶ XML D">
<meta name="keywords" content="android,anko,kotlin">
<meta property="og:type" content="article">
<meta property="og:title" content="Anko å¸ƒå±€">
<meta property="og:url" content="https://jigangduan.github.io/2017/11/02/Anko-Layouts/index.html">
<meta property="og:site_name" content="æœç€ç‰›é€¼çš„é“è·¯ä¸€è·¯ç‹‚å¥”">
<meta property="og:description" content="ä¸ºä»€ä¹ˆAnkoå¸ƒå±€? DSLçš„åŸå› ? æ”¯æŒç°æœ‰çš„ä»£ç  å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ å®ƒæ˜¯å¯æ‰©å±•çš„å—?   åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko Layouts ç†è§£Anko åŸºç¡€çŸ¥è¯† AnkoComponent è¾…åŠ©å— ä¸»é¢˜å— å¸ƒå±€å’ŒLayoutParams Listeners å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡ ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦ å®ä¾‹ç®€åŒ–ç¬¦å· UIåŒ…è£… Includeæ ‡ç­¾   Ankoæ”¯æŒæ’ä»¶ å®‰è£…Ankoæ”¯æŒæ’ä»¶ ä½¿ç”¨æ’ä»¶ XML D">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://github.com/Kotlin/anko/blob/master/doc/logo.png?raw=true">
<meta property="og:updated_time" content="2020-07-25T02:57:18.148Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Anko å¸ƒå±€">
<meta name="twitter:description" content="ä¸ºä»€ä¹ˆAnkoå¸ƒå±€? DSLçš„åŸå› ? æ”¯æŒç°æœ‰çš„ä»£ç  å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ å®ƒæ˜¯å¯æ‰©å±•çš„å—?   åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko Layouts ç†è§£Anko åŸºç¡€çŸ¥è¯† AnkoComponent è¾…åŠ©å— ä¸»é¢˜å— å¸ƒå±€å’ŒLayoutParams Listeners å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡ ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦ å®ä¾‹ç®€åŒ–ç¬¦å· UIåŒ…è£… Includeæ ‡ç­¾   Ankoæ”¯æŒæ’ä»¶ å®‰è£…Ankoæ”¯æŒæ’ä»¶ ä½¿ç”¨æ’ä»¶ XML D">
<meta name="twitter:image" content="https://github.com/Kotlin/anko/blob/master/doc/logo.png?raw=true">
  
    <link rel="alternate" href="/atom.xml" title="æœç€ç‰›é€¼çš„é“è·¯ä¸€è·¯ç‹‚å¥”" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("/css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("/css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("/css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">é¦–é¡µ</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">å½’æ¡£</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">åˆ†ç±»</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">æ ‡ç­¾</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">å…³äº</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="è¯·è¾“å…¥å…³é”®è¯..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æ— æ ‡é¢˜)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-Anko-Layouts" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Anko å¸ƒå±€
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/02/Anko-Layouts/" class="article-date">
	  <time datetime="2017-11-02T10:56:23.000Z" itemprop="datePublished">2017-11-02</time>
	</a>

      
    <a class="article-category-link" href="/categories/Kotlin/">Kotlin</a><a class="article-category-link" href="/categories/Kotlin/Anko/">Anko</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://github.com/Kotlin/anko/blob/master/doc/logo.png?raw=true" alt="anko"></p>
<ul>
<li><a href="#why_anko_layouts">ä¸ºä»€ä¹ˆAnkoå¸ƒå±€?</a><ul>
<li><a href="#why_dsl">DSLçš„åŸå› ?</a></li>
<li><a href="#existing_code">æ”¯æŒç°æœ‰çš„ä»£ç </a></li>
<li><a href="#how_works">å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„</a></li>
<li><a href="#extensible">å®ƒæ˜¯å¯æ‰©å±•çš„å—?</a></li>
</ul>
</li>
<li><a href="#using_anko_layouts">åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko Layouts</a></li>
<li><a href="#understanding_anko">ç†è§£Anko</a><ul>
<li><a href="#basics">åŸºç¡€çŸ¥è¯†</a></li>
<li><a href="#ankocomponent">AnkoComponent</a></li>
<li><a href="#helper_blocks">è¾…åŠ©å—</a></li>
<li><a href="#themed_blocks">ä¸»é¢˜å—</a></li>
<li><a href="#layouts_params">å¸ƒå±€å’ŒLayoutParams</a></li>
<li><a href="#listeners">Listeners</a></li>
<li><a href="#custom_coroutine_context">å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡</a></li>
<li><a href="#using_resource_id">ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦</a></li>
<li><a href="#instance_shorthand_notation">å®ä¾‹ç®€åŒ–ç¬¦å·</a></li>
<li><a href="#ui_wrapper">UIåŒ…è£…</a></li>
<li><a href="#include_tag">Includeæ ‡ç­¾</a></li>
</ul>
</li>
<li><a href="#anko_support_plugin">Ankoæ”¯æŒæ’ä»¶</a><ul>
<li><a href="#installing_anko_support_plugin">å®‰è£…Ankoæ”¯æŒæ’ä»¶</a></li>
<li><a href="#using_anko_support_plugin">ä½¿ç”¨æ’ä»¶</a></li>
<li><a href="#xml_dsl_converter">XML DSLè½¬æ¢å™¨</a></li>
</ul>
</li>
</ul>
<a id="more"></a>
<h2 id="ä¸ºä»€ä¹ˆAnkoå¸ƒå±€"><a href="#ä¸ºä»€ä¹ˆAnkoå¸ƒå±€" class="headerlink" title="ä¸ºä»€ä¹ˆAnkoå¸ƒå±€?"></a><a name="why_anko_layouts"></a>ä¸ºä»€ä¹ˆAnkoå¸ƒå±€?</h2><h3 id="DSLçš„åŸå› "><a href="#DSLçš„åŸå› " class="headerlink" title="DSLçš„åŸå› ?"></a><a name="why_dsl"></a>DSLçš„åŸå› ?</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒAndroidä¸­çš„UIæ˜¯ç”¨XMLç¼–å†™çš„ã€‚è¿™åœ¨ä»¥ä¸‹æ–¹é¢æ˜¯ä¸æ–¹ä¾¿çš„:</p>
<ul>
<li>ä¸æ˜¯ç±»å‹å®‰å…¨;</li>
<li>ä¸æ˜¯ç©ºå€¼å®‰å…¨;</li>
<li>å®ƒè¿«ä½¿æ‚¨ä¸ºæ¯ä¸€ä¸ªå¸ƒå±€ç¼–å†™å‡ ä¹ç›¸åŒçš„ä»£ç ;</li>
<li>åœ¨è®¾å¤‡ä¸Šè§£æXMLï¼Œæµªè´¹CPUæ—¶é—´å’Œç”µæ± ;</li>
<li>æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒä¸å…è®¸ä»£ç é‡ç”¨ã€‚</li>
</ul>
<p>è™½ç„¶æ‚¨å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼åˆ›å»ºUIï¼Œä½†è¿™å‡ ä¹æ˜¯ä¸å¯èƒ½å®Œæˆçš„ï¼Œå› ä¸ºå®ƒæœ‰ç‚¹éš¾çœ‹ï¼Œå¾ˆéš¾ç»´æŠ¤ã€‚è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„Kotlinç‰ˆæœ¬(Javaä¸­çš„ä¸€ä¸ªæ›´é•¿çš„ç‰ˆæœ¬):</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> act = <span class="keyword">this</span></span><br><span class="line"><span class="keyword">val</span> layout = LinearLayout(act)</span><br><span class="line">layout.orientation = LinearLayout.VERTICAL</span><br><span class="line"><span class="keyword">val</span> name = EditText(act)</span><br><span class="line"><span class="keyword">val</span> button = Button(act)</span><br><span class="line">button.text = <span class="string">"Say Hello"</span></span><br><span class="line">button.setOnClickListener &#123;</span><br><span class="line">    Toast.makeText(act, <span class="string">"Hello, <span class="subst">$&#123;name.text&#125;</span>!"</span>, Toast.LENGTH_SHORT).show()</span><br><span class="line">&#125;</span><br><span class="line">layout.addView(name)</span><br><span class="line">layout.addView(button)</span><br></pre></td></tr></table></figure>
<p>DSLä½¿ç›¸åŒçš„é€»è¾‘æ˜“äºé˜…è¯»ï¼Œæ˜“äºç¼–å†™ï¼Œå¹¶ä¸”æ²¡æœ‰è¿è¡Œæ—¶å¼€é”€ã€‚è¿™é‡Œåˆæœ‰äº†:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">verticalLayout &#123;</span><br><span class="line">    <span class="keyword">val</span> name = editText()</span><br><span class="line">    button(<span class="string">"Say Hello"</span>) &#123;</span><br><span class="line">        onClick &#123; toast(<span class="string">"Hello, <span class="subst">$&#123;name.text&#125;</span>!"</span>) &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œ<code>onClick()</code>æ”¯æŒåç¨‹(æ¥å—suspending lambda)ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥åœ¨æ²¡æœ‰æ˜¾å¼çš„<code>async(UI)</code>è°ƒç”¨çš„æƒ…å†µä¸‹ç¼–å†™å¼‚æ­¥ä»£ç ã€‚</p>
<h3 id="æ”¯æŒç°æœ‰çš„ä»£ç "><a href="#æ”¯æŒç°æœ‰çš„ä»£ç " class="headerlink" title="æ”¯æŒç°æœ‰çš„ä»£ç "></a><a name="existing_code"></a>æ”¯æŒç°æœ‰çš„ä»£ç </h3><p>ä½ ä¸éœ€è¦é‡å†™Ankoçš„æ‰€æœ‰UIã€‚æ‚¨å¯ä»¥ç”¨Javaç¼–å†™æ—§çš„ç±»ã€‚æ­¤å¤–ï¼Œå¦‚æœæ‚¨ä»ç„¶å¸Œæœ›(æˆ–æœ‰)ç¼–å†™ä¸€ä¸ªKotlin activityç±»ï¼Œå¹¶å‡ºäºæŸç§åŸå› ä½¿XMLå¸ƒå±€è†¨èƒ€ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è§†å›¾å±æ€§ï¼Œè¿™å°†ä½¿äº‹æƒ…å˜å¾—æ›´ç®€å•:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸findViewById()ç›¸åŒï¼Œä½†ä½¿ç”¨èµ·æ¥æ›´ç®€å•</span></span><br><span class="line"><span class="keyword">val</span> name = find&lt;TextView&gt;(R.id.name)</span><br><span class="line">name.hint = <span class="string">"Enter your name"</span></span><br><span class="line">name.onClick &#123; <span class="comment">/*do something*/</span> &#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä½¿ç”¨<a href="https://kotlinlang.org/docs/tutorials/android-plugin.html" target="_blank" rel="noopener">Kotlinçš„Androidæ‰©å±•</a>ï¼Œæ‚¨å¯ä»¥ä½¿æ‚¨çš„ä»£ç æ›´åŠ ç´§å‡‘ã€‚</p>
<h3 id="å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„"><a href="#å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„" class="headerlink" title="å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„"></a><a name="how_works"></a>å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„</h3><p>æ²¡æœ‰ğŸ©ã€‚Ankoç”±ä¸€äº›Kotlinçš„<a href="http://kotlinlang.org/docs/reference/extensions.html" target="_blank" rel="noopener">æ‰©å±•å‡½æ•°å’Œå±æ€§</a>ç»„æˆäº†ç±»å‹å®‰å…¨çš„æ„é€ å™¨ï¼Œå°±åƒ<a href="http://kotlinlang.org/docs/reference/type-safe-builders.html" target="_blank" rel="noopener">ç±»å‹å®‰å…¨çš„æ„å»ºå™¨</a>æ‰€æè¿°çš„é‚£æ ·ã€‚</p>
<p>ç”±äºæ‰‹å·¥ç¼–å†™æ‰€æœ‰è¿™äº›æ‰©å±•æœ‰ç‚¹ä¹å‘³ï¼Œæ‰€ä»¥å®ƒä»¬æ˜¯ç”±Android SDKä¸­çš„android.jaræ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆçš„ã€‚</p>
<h3 id="å®ƒæ˜¯å¯æ‰©å±•çš„å—"><a href="#å®ƒæ˜¯å¯æ‰©å±•çš„å—" class="headerlink" title="å®ƒæ˜¯å¯æ‰©å±•çš„å—?"></a><a name="extensible"></a>å®ƒæ˜¯å¯æ‰©å±•çš„å—?</h3><p>ç®€çŸ­çš„å›ç­”:<strong>æ˜¯çš„</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æƒ³è¦åœ¨DSLä¸­ä½¿ç”¨MapViewã€‚ç„¶åæŠŠå®ƒå†™åœ¨ä»»ä½•å¯ä»¥å¯¼å…¥çš„Kotlinæ–‡ä»¶ä¸­:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> ViewManager.<span class="title">mapView</span><span class="params">()</span></span> = mapView(theme = <span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> ViewManager.<span class="title">mapView</span><span class="params">(<span class="keyword">init</span>: <span class="type">MapView</span>.() -&gt; <span class="type">Unit</span>)</span></span>: MapView &#123;</span><br><span class="line">    <span class="keyword">return</span> ankoView(&#123; MapView(it) &#125;, theme = <span class="number">0</span>, <span class="keyword">init</span> = <span class="keyword">init</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>{ MapView(it) }</code>æ˜¯æ‚¨è‡ªå®šä¹‰<code>View</code>çš„å·¥å‚å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ª<code>Context</code>å®ä¾‹</p>
<p>ç°åœ¨ä½ å¯ä»¥è¿™æ ·å†™äº†:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">frameLayout &#123;</span><br><span class="line">    <span class="keyword">val</span> mapView = mapView().lparams(width = matchParent)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ æƒ³è®©ä½ çš„ç”¨æˆ·èƒ½å¤Ÿåº”ç”¨ä¸€ä¸ªå®šåˆ¶çš„ä¸»é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥è¿™æ ·å†™:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> ViewManager.<span class="title">mapView</span><span class="params">(theme: <span class="type">Int</span> = <span class="number">0</span>)</span></span> = mapView(theme) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> ViewManager.<span class="title">mapView</span><span class="params">(theme: <span class="type">Int</span> = <span class="number">0</span>, <span class="keyword">init</span>: <span class="type">MapView</span>.() -&gt; <span class="type">Unit</span>)</span></span>: MapView &#123;</span><br><span class="line">    <span class="keyword">return</span> ankoView(&#123; MapView(it) &#125;, theme, <span class="keyword">init</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko-Layouts"><a href="#åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko-Layouts" class="headerlink" title="åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko Layouts"></a><a name="using_anko_layouts"></a>åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko Layouts</h2><p>è¿™äº›åº“ä¾èµ–å…³ç³»åŒ…æ‹¬:</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">// Anko Layouts</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.jetbrains.anko:anko-sdk25:$anko_version"</span> <span class="comment">// sdk15, sdk19, sdk21, sdk23 are also available</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.jetbrains.anko:anko-appcompat-v7:$anko_version"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Coroutine listeners for Anko Layouts</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.jetbrains.anko:anko-sdk25-coroutines:$anko_version"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.jetbrains.anko:anko-appcompat-v7-coroutines:$anko_version"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯·é˜…è¯»åŸºäº<a href="https://github.com/Kotlin/anko#gradle-based-project" target="_blank" rel="noopener">Gradleçš„é¡¹ç›®</a>éƒ¨åˆ†ï¼Œä»¥è·å¾—è¯¦ç»†ä¿¡æ¯ã€‚</p>
<h2 id="ç†è§£Anko"><a href="#ç†è§£Anko" class="headerlink" title="ç†è§£Anko"></a><a name="understanding_anko"></a>ç†è§£Anko</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a><a name="basics"></a>åŸºç¡€çŸ¥è¯†</h3><p>åœ¨Ankoï¼Œä½ ä¸éœ€è¦ä»ä»»ä½•ç‰¹æ®Šçš„ç±»ç»§æ‰¿:ä»…ä»…ä½¿ç”¨æ ‡å‡†çš„<code>Activity</code>ã€<code>Fragment</code>ã€<code>FragmentActivity</code>æˆ–ä»»ä½•ä½ æƒ³è¦çš„ä¸œè¥¿ã€‚</p>
<p>é¦–å…ˆï¼Œå¯¼å…¥org.jetbrains.anko.*ã€‚åœ¨æ‚¨çš„ç±»ä¸­ä½¿ç”¨Ankoå¸ƒå±€DSLã€‚</p>
<p>åœ¨<code>onCreate()</code>ä¸­å¯ä»¥ä½¿ç”¨DSL:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">    </span><br><span class="line">    verticalLayout &#123;</span><br><span class="line">        padding = dip(<span class="number">30</span>)</span><br><span class="line">        editText &#123;</span><br><span class="line">            hint = <span class="string">"Name"</span></span><br><span class="line">            textSize = <span class="number">24f</span></span><br><span class="line">        &#125;</span><br><span class="line">        editText &#123;</span><br><span class="line">            hint = <span class="string">"Password"</span></span><br><span class="line">            textSize = <span class="number">24f</span></span><br><span class="line">        &#125;</span><br><span class="line">        button(<span class="string">"Login"</span>) &#123;</span><br><span class="line">            textSize = <span class="number">26f</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ§ æ²¡æœ‰æ˜ç¡®çš„è°ƒç”¨<code>setContentView(R.layout.something)</code>: Ankoä¸º<code>Activities</code>è‡ªåŠ¨è®¾ç½®å†…å®¹è§†å›¾(ä½†åªå¯¹ä»–ä»¬)ã€‚</p>
</blockquote>
<p><code>hint</code>å’Œ<code>textSize</code>æ˜¯ä¸javaé£æ ¼çš„getterå’Œsetterç»‘å®šçš„<a href="https://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters" target="_blank" rel="noopener">åˆæˆæ‰©å±•å±æ€§</a>ï¼Œ<code>padding</code>æ˜¯Ankoçš„<a href="http://kotlinlang.org/docs/reference/extensions.html#extension-properties" target="_blank" rel="noopener">æ‰©å±•å±æ€§</a>ã€‚è¿™äº›éƒ½å­˜åœ¨äºå‡ ä¹æ‰€æœ‰Viewå±æ€§ä¸­ï¼Œå…è®¸æ‚¨ç¼–å†™<code>text = &quot;Some text&quot;</code>è€Œä¸æ˜¯<code>setText(&quot;Some text&quot;)</code>ã€‚</p>
<p><code>verticalLayout</code>(ä¸€ä¸ª<code>çº¿æ€§å¸ƒå±€</code>ï¼Œä½†å·²ç»æœ‰äº†<code>LinearLayout.VERTICAL</code>æ–¹å‘)ã€<code>editText</code>å’Œ<code>button</code>æ˜¯æ„é€ æ–°Viweå®ä¾‹å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°çˆ¶ç±»çš„<a href="http://kotlinlang.org/docs/reference/extensions.html" target="_blank" rel="noopener">æ‰©å±•å‡½æ•°</a>ã€‚æˆ‘ä»¬å°†å¼•ç”¨è¿™äº›å‡½æ•°ä½œä¸ºå—ã€‚</p>
<p>åœ¨Androidæ¡†æ¶ä¸­å‡ ä¹æ‰€æœ‰çš„è§†å›¾éƒ½å­˜åœ¨å—ï¼Œå®ƒä»¬åœ¨Activitiesã€Fragments(é»˜è®¤æƒ…å†µä¸‹å’Œandroid.support package)ç”šè‡³æ˜¯Contextã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªAnkoContextå®ä¾‹ï¼Œæ‚¨å¯ä»¥ç¼–å†™è¿™æ ·çš„å—:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> name: EditText = with(ankoContext) &#123;</span><br><span class="line">    editText &#123;</span><br><span class="line">        hint = <span class="string">"Name"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="AnkoComponent"><a href="#AnkoComponent" class="headerlink" title="AnkoComponent"></a><a name="ankocomponent"></a>AnkoComponent</h3><p>å°½ç®¡æ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨DSL(åœ¨onCreate()æˆ–å…¶ä»–ä»»ä½•åœ°æ–¹)ï¼Œä½†ä¸éœ€è¦åˆ›å»ºä»»ä½•é¢å¤–çš„ç±»ï¼Œåœ¨å•ç‹¬çš„ç±»ä¸­ä½¿ç”¨UIé€šå¸¸æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚å¦‚æœæ‚¨ä½¿ç”¨äº†æä¾›çš„AnkoComponentæ¥å£ï¼Œé‚£ä¹ˆæ‚¨è¿˜å¯ä»¥å…è´¹è·å¾—<a href="https://github.com/Kotlin/anko/blob/master/doc/preview.png" target="_blank" rel="noopener">DSLå¸ƒå±€é¢„è§ˆ</a>åŠŸèƒ½ã€‚</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> : <span class="type">AppCompatActivity</span></span>() &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?, persistentState: <span class="type">PersistableBundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState, persistentState)</span><br><span class="line">        MyActivityUI().setContentView(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivityUI</span> : <span class="type">AnkoComponent</span>&lt;<span class="type">MyActivity</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">createView</span><span class="params">(ui: <span class="type">AnkoContext</span>&lt;<span class="type">MyActivity</span>&gt;)</span></span> = with(ui) &#123;</span><br><span class="line">        verticalLayout &#123;</span><br><span class="line">            <span class="keyword">val</span> name = editText()</span><br><span class="line">            button(<span class="string">"Say Hello"</span>) &#123;</span><br><span class="line">                onClick &#123; ctx.toast(<span class="string">"Hello, <span class="subst">$&#123;name.text&#125;</span>!"</span>) &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¾…åŠ©å—"><a href="#è¾…åŠ©å—" class="headerlink" title="è¾…åŠ©å—"></a><a name="helper_blocks"></a>è¾…åŠ©å—</h3><p>æ­£å¦‚æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°çš„ï¼Œå‰ä¸€èŠ‚ä¸­çš„<code>button()</code>å‡½æ•°æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ã€‚<br>å¯¹äºå¸¸ç”¨çš„Viewï¼Œä¾‹å¦‚<code>TextView</code>ã€<code>EditText</code>ã€<code>Button</code>æˆ–<code>ImageView</code>ï¼Œéƒ½å­˜åœ¨è¿™æ ·çš„è¾…åŠ©å—ã€‚</p>
<p>å¦‚æœæ‚¨ä¸éœ€è¦ä¸ºæŸä¸ªç‰¹å®šViewè®¾ç½®ä»»ä½•å±æ€§ï¼Œæ‚¨å¯ä»¥çœç•¥ {}ï¼Œç¼–å†™button(â€œOkâ€)ï¼Œç”šè‡³åªæ˜¯button():</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">verticalLayout &#123;</span><br><span class="line">    button(<span class="string">"Ok"</span>)</span><br><span class="line">    button(R.string.cancel)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸»é¢˜å—"><a href="#ä¸»é¢˜å—" class="headerlink" title="ä¸»é¢˜å—"></a><a name="themed_blocks"></a>ä¸»é¢˜å—</h3><p>Ankoæä¾›äº†â€œthemeableâ€ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬è¾…åŠ©å—:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">verticalLayout &#123;</span><br><span class="line">    themedButton(<span class="string">"Ok"</span>, theme = R.style.myTheme)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¸ƒå±€å’ŒLayoutParams"><a href="#å¸ƒå±€å’ŒLayoutParams" class="headerlink" title="å¸ƒå±€å’ŒLayoutParams"></a><a name="layouts_params"></a>å¸ƒå±€å’Œ<code>LayoutParams</code></h3><p>å¯ä»¥ä½¿ç”¨<code>LayoutParams</code>å¯¹çˆ¶å®¹å™¨ä¸­çš„å°éƒ¨ä»¶è¿›è¡Œå®šä½ã€‚åœ¨XMLä¸­ï¼Œå®ƒæ˜¯è¿™æ ·çš„:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginLeft</span>=<span class="string">"5dip"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginTop</span>=<span class="string">"10dip"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/something"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨Ankoä¸­ï¼Œä½¿ç”¨lparams()åœ¨Viewæè¿°åï¼ŒæŒ‡å®šäº†LayoutParamsã€‚</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">linearLayout &#123;</span><br><span class="line">    button(<span class="string">"Login"</span>) &#123;</span><br><span class="line">        textSize = <span class="number">26f</span></span><br><span class="line">    &#125;.lparams(width = wrapContent) &#123;</span><br><span class="line">        horizontalMargin = dip(<span class="number">5</span>)</span><br><span class="line">        topMargin = dip(<span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‚¨æŒ‡å®šäº†<code>lparams()</code>ï¼Œä½†æ˜¯çœç•¥äº†<code>width</code>å’Œ/æˆ–<code>height</code>ï¼Œå®ƒä»¬çš„é»˜è®¤å€¼éƒ½æ˜¯<code>wrapContent</code>ã€‚ä½†æ˜¯æ‚¨æ€»æ˜¯å¯ä»¥æ˜¾å¼åœ°ä¼ é€’å®ƒä»¬:ä½¿ç”¨<a href="http://kotlinlang.org/docs/reference/functions.html#named-arguments" target="_blank" rel="noopener">å‘½åå‚æ•°</a>ã€‚</p>
<p>ä¸€äº›æ–¹ä¾¿çš„è¾…åŠ©å±æ€§å¯ä»¥æ³¨æ„åˆ°:</p>
<ul>
<li><code>horizontalMargin</code> è®¾ç½®å·¦å’Œå³çš„è¾¹è·</li>
<li><code>verticalMargin</code> è®¾ç½®é¡¶éƒ¨å’Œåº•éƒ¨çš„è¾¹è·</li>
<li><code>margin</code> åŒæ—¶è®¾ç½®äº†æ‰€æœ‰å››ä¸ªè¾¹è·</li>
</ul>
<p>æ³¨æ„ï¼Œå¯¹äºä¸åŒçš„å¸ƒå±€ï¼Œ<code>lparams()</code>æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ï¼Œåœ¨<code>ç›¸å¯¹å¸ƒå±€</code>çš„æƒ…å†µä¸‹:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> ID_OK = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">relativeLayout &#123;</span><br><span class="line">    button(<span class="string">"Ok"</span>) &#123;</span><br><span class="line">        id = ID_OK</span><br><span class="line">    &#125;.lparams &#123; alignParentTop() &#125;</span><br><span class="line">  </span><br><span class="line">    button(<span class="string">"Cancel"</span>).lparams &#123; below(ID_OK) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Listeners"><a href="#Listeners" class="headerlink" title="Listeners"></a><a name="listeners"></a>Listeners</h3><p>Ankoæœ‰ä¸€åç›‘å¬å™¨çš„åŠ©æ‰‹ï¼Œä»–ä»¬å¯ä»¥æ— ç¼åœ°æ”¯æŒåç¨‹ã€‚æ‚¨å¯ä»¥åœ¨listenerå†…ç¼–å†™å¼‚æ­¥ä»£ç ï¼</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">button(<span class="string">"Login"</span>) &#123;</span><br><span class="line">    onClick &#123;</span><br><span class="line">    	<span class="keyword">val</span> user = myRetrofitService.getUser().await()</span><br><span class="line">        showUser(user)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‡ ä¹å’Œè¿™ä¸ªæ˜¯ä¸€æ ·çš„:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">button.setOnClickListener(<span class="keyword">object</span> : OnClickListener &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onClick</span><span class="params">(v: <span class="type">View</span>)</span></span> &#123;</span><br><span class="line">    	launch(UI) &#123;</span><br><span class="line">    	    <span class="keyword">val</span> user = myRetrofitService.getUser().await()</span><br><span class="line">            showUser(user)</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å½“ä½ æœ‰å¾ˆå¤šæ–¹æ³•çš„æ—¶å€™ï¼ŒAnkoæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼Œæ²¡æœ‰ä½¿ç”¨Anko:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">seekBar.setOnSeekBarChangeListener(<span class="keyword">object</span> : OnSeekBarChangeListener &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onProgressChanged</span><span class="params">(seekBar: <span class="type">SeekBar</span>, progress: <span class="type">Int</span>, fromUser: <span class="type">Boolean</span>)</span></span> &#123;</span><br><span class="line">        <span class="comment">// Something</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onStartTrackingTouch</span><span class="params">(seekBar: <span class="type">SeekBar</span>?)</span></span> &#123;</span><br><span class="line">        <span class="comment">// Just an empty method</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onStopTrackingTouch</span><span class="params">(seekBar: <span class="type">SeekBar</span>)</span></span> &#123;</span><br><span class="line">        <span class="comment">// Another empty method</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨,Anko:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">seekBar &#123;</span><br><span class="line">    onSeekBarChangeListener &#123;</span><br><span class="line">        onProgressChanged &#123; seekBar, progress, fromUser -&gt;</span><br><span class="line">            <span class="comment">// Something</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ‚¨ä¸ºç›¸åŒçš„<code>View</code>è®¾ç½®<code>onProgressChanged()</code>å’Œ<code>onStartTrackingTouch()</code>ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªâ€œéƒ¨åˆ†å®šä¹‰â€çš„listenerå°†è¢«åˆå¹¶ã€‚å¯¹äºç›¸åŒçš„listeneræ–¹æ³•ï¼Œæœ€åä¸€ä¸ªè·èƒœã€‚</p>
<h3 id="å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡"><a href="#å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡" class="headerlink" title="å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡"></a><a name="custom_coroutine_context"></a>å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡</h3><p>æ‚¨å¯ä»¥å°†ä¸€ä¸ªå®šåˆ¶çš„åç¨‹contextä¼ é€’ç»™listeneråŠ©æ‰‹:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">button(<span class="string">"Login"</span>) &#123;</span><br><span class="line">    onClick(yourContext) &#123;</span><br><span class="line">    	<span class="keyword">val</span> user = myRetrofitService.getUser().await()</span><br><span class="line">        showUser(user)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦"><a href="#ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦" class="headerlink" title="ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦"></a><a name="using_resource_id"></a>ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦</h3><p>å‰é¢å‡ ç« ä¸­çš„æ‰€æœ‰ä¾‹å­éƒ½ä½¿ç”¨äº†åŸå§‹Javaå­—ç¬¦ä¸²ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„å®è·µã€‚é€šå¸¸ï¼Œæ‚¨å°†æ‰€æœ‰çš„å­—ç¬¦ä¸²æ•°æ®æ”¾å…¥<code>res/values/</code>ç›®å½•ä¸­ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è°ƒç”¨å®ƒï¼Œä¾‹å¦‚<code>getString(R.string.login)</code>ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œåœ¨Ankoä¸­ï¼Œæ‚¨å¯ä»¥å°†èµ„æºæ ‡è¯†ç¬¦ä¼ é€’ç»™åŠ©æ‰‹å—(<code>button(R.string.login)</code>)å’Œæ‰©å±•å±æ€§(<code>button { textResource = R.string.login }</code>)ã€‚</p>
<p>æ³¨æ„ï¼Œå±æ€§åä¸æ˜¯ç›¸åŒçš„: <code>text</code>ã€<code>hint</code>ã€<code>image</code>ï¼Œè€Œæ˜¯æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„æ˜¯<code>textResource</code>ã€<code>hintResource</code>å’Œ<code>imageResource</code></p>
<blockquote>
<p>ğŸ§ èµ„æºå±æ€§è¯»æ—¶æ€»æ˜¯æŠ›å‡ºAnkoExceptionã€‚</p>
</blockquote>
<h3 id="å®ä¾‹ç®€åŒ–ç¬¦å·"><a href="#å®ä¾‹ç®€åŒ–ç¬¦å·" class="headerlink" title="å®ä¾‹ç®€åŒ–ç¬¦å·"></a><a name="instance_shorthand_notation"></a>å®ä¾‹ç®€åŒ–ç¬¦å·</h3><p>æœ‰æ—¶å€™ï¼Œæ‚¨éœ€è¦ä»æ´»åŠ¨ä»£ç ä¸­ä¼ é€’ä¸€ä¸ª<code>Context</code>å®ä¾‹åˆ°æŸä¸ªAndroid SDKæ–¹æ³•ã€‚<br>é€šå¸¸ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>this</code>ï¼Œä½†æ˜¯å¦‚æœä½ åœ¨ä¸€ä¸ªå†…éƒ¨ç±»é‡Œé¢å‘¢?<br>å¦‚æœæ‚¨åœ¨Kotlinç¼–å†™ï¼Œæ‚¨å¯èƒ½ä¼šåœ¨Javaå’Œthis@SomeActivityç”¨SomeActivity.thisã€‚</p>
<p>å¯¹Ankoï¼Œä½ å¯ä»¥å†™ctxã€‚å®ƒæ˜¯ä¸€ä¸ªæ‰©å±•å±æ€§ï¼Œæ—¢å¯ä»¥åœ¨Activityå’ŒServiceä¸­å·¥ä½œï¼Œä¹Ÿå¯ä»¥ä»Fragmentä¸­è®¿é—®(å®ƒçš„å¤–å£³æ˜¯ä½¿ç”¨getActivity()æ–¹æ³•)ã€‚<br>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨actæ‰©å±•å±æ€§è·å¾—ä¸€ä¸ªActivityå®ä¾‹ã€‚</p>
<h3 id="UIåŒ…è£…"><a href="#UIåŒ…è£…" class="headerlink" title="UIåŒ…è£…"></a><a name="ui_wrapper"></a>UIåŒ…è£…</h3><p>åœ¨å¼€å§‹ä¹‹å‰ï¼ŒAnkoæ€»æ˜¯ä½¿ç”¨UIæ ‡ç­¾ä½œä¸ºé¡¶çº§çš„DSLå…ƒç´ :</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UI &#123;</span><br><span class="line">    editText &#123;</span><br><span class="line">        hint = <span class="string">"Name"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ æƒ³çš„è¯ï¼Œä½ ä»ç„¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ ‡ç­¾ã€‚è€Œä¸”ï¼Œæ‰©å±•DSLè¦å®¹æ˜“å¾—å¤šï¼Œå› ä¸ºæ‚¨å¿…é¡»åªå£°æ˜ä¸€ä¸ªViewManager.customViewå‡½æ•°ã€‚è¯·å‚è§<a href="#extensible">æ‰©å±•Anko</a>è·å–æ›´å¤šä¿¡æ¯ã€‚</p>
<h3 id="Includeæ ‡ç­¾"><a href="#Includeæ ‡ç­¾" class="headerlink" title="Includeæ ‡ç­¾"></a><a name="include_tag"></a>Includeæ ‡ç­¾</h3><p>å¯ä»¥å¾ˆå®¹æ˜“å°†XMLå¸ƒå±€æ’å…¥åˆ°DSLä¸­ã€‚<br>ä½¿ç”¨include()å‡½æ•°:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">include&lt;View&gt;(R.layout.something) &#123;</span><br><span class="line">    backgroundColor = Color.RED</span><br><span class="line">&#125;.lparams(width = matchParent) &#123; margin = dip(<span class="number">12</span>) &#125;</span><br></pre></td></tr></table></figure>
<p>æ‚¨å¯ä»¥åƒå¾€å¸¸ä¸€æ ·ä½¿ç”¨lparams()ï¼Œå¦‚æœæ‚¨æä¾›äº†ä¸€ä¸ªç‰¹å®šçš„ç±»å‹è€Œä¸æ˜¯Viewï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªç±»å‹:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">include&lt;TextView&gt;(R.layout.textfield) &#123;</span><br><span class="line">    text = <span class="string">"Hello, world!"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Ankoæ”¯æŒæ’ä»¶"><a href="#Ankoæ”¯æŒæ’ä»¶" class="headerlink" title="Ankoæ”¯æŒæ’ä»¶"></a><a name="anko_support_plugin"></a>Ankoæ”¯æŒæ’ä»¶</h2><p>Ankoæ”¯æŒæ’ä»¶å¯ç”¨äºIntelliJ IDEAå’ŒAndroid Studioã€‚å®ƒå…è®¸ä½ åœ¨IDEå·¥å…·çª—å£ä¸­ç›´æ¥é¢„è§ˆä¸Ankoä¸€èµ·ç¼–å†™çš„AnkoComponentç±»ã€‚</p>
<blockquote>
<p>âš ï¸ Ankoæ”¯æŒæ’ä»¶ç›®å‰åªæ”¯æŒAndroid Studio 2.4+ã€‚</p>
</blockquote>
<h3 id="å®‰è£…Ankoæ”¯æŒæ’ä»¶"><a href="#å®‰è£…Ankoæ”¯æŒæ’ä»¶" class="headerlink" title="å®‰è£…Ankoæ”¯æŒæ’ä»¶"></a><a name="installing_anko_support_plugin"></a>å®‰è£…Ankoæ”¯æŒæ’ä»¶</h3><p>ä½ å¯ä»¥åœ¨<a href="https://plugins.jetbrains.com/update/index?pr=&amp;updateId=19242" target="_blank" rel="noopener">è¿™é‡Œ</a>ä¸‹è½½Ankoçš„æ”¯æŒæ’ä»¶ã€‚</p>
<h3 id="ä½¿ç”¨æ’ä»¶"><a href="#ä½¿ç”¨æ’ä»¶" class="headerlink" title="ä½¿ç”¨æ’ä»¶"></a><a name="using_anko_support_plugin"></a>ä½¿ç”¨æ’ä»¶</h3><p>å‡è®¾ä½ ç”¨Ankoå†™äº†è¿™äº›classesï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> : <span class="type">AppCompatActivity</span></span>() &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?, persistentState: <span class="type">PersistableBundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState, persistentState)</span><br><span class="line">        MyActivityUI().setContentView(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivityUI</span> : <span class="type">AnkoComponent</span>&lt;<span class="type">MyActivity</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">createView</span><span class="params">(ui: <span class="type">AnkoContext</span>&lt;<span class="type">MyActivity</span>&gt;)</span></span> = ui.apply &#123;</span><br><span class="line">        verticalLayout &#123;</span><br><span class="line">            <span class="keyword">val</span> name = editText()</span><br><span class="line">            button(<span class="string">"Say Hello"</span>) &#123;</span><br><span class="line">                onClick &#123; ctx.toast(<span class="string">"Hello, <span class="subst">$&#123;name.text&#125;</span>!"</span>) &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;.view</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°†å…‰æ ‡æ”¾åœ¨<code>MyActivityUI</code>å£°æ˜çš„åœ°æ–¹ï¼Œæ‰“å¼€Ankoå¸ƒå±€é¢„è§ˆå·¥å…·çª—å£(â€œViewâ€ â†’ â€œTool Windowsâ€ â†’ â€œAnko Layout Previewâ€)ï¼Œå¹¶æŒ‰ä¸‹åˆ·æ–°ã€‚</p>
<p>è¿™éœ€è¦æ„å»ºé¡¹ç›®ï¼Œå› æ­¤åœ¨å®é™…æ˜¾ç¤ºå›¾åƒä¹‹å‰éœ€è¦èŠ±è´¹ä¸€äº›æ—¶é—´ã€‚</p>
<h3 id="XML-DSLè½¬æ¢å™¨"><a href="#XML-DSLè½¬æ¢å™¨" class="headerlink" title="XML DSLè½¬æ¢å™¨"></a><a name="xml_dsl_converter"></a>XML DSLè½¬æ¢å™¨</h3><p>è¯¥æ’ä»¶è¿˜æ”¯æŒå°†XMLæ ¼å¼çš„å¸ƒå±€è½¬æ¢ä¸ºAnkoå¸ƒå±€ä»£ç ã€‚<br>æ‰“å¼€ä¸€ä¸ªXMLæ–‡ä»¶å¹¶é€‰æ‹©â€Codeâ€ â†’ â€œConvert to Anko Layouts DSLâ€ã€‚<br>æ‚¨å¯ä»¥åŒæ—¶è½¬æ¢å¤šä¸ªXMLå¸ƒå±€æ–‡ä»¶ã€‚</p>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: 'å¦‚æœè§‰å¾—æˆ‘çš„æ–‡ç« å¯¹æ‚¨æœ‰ç”¨ï¼Œè¯·éšæ„æ‰“èµã€‚æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œ!', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæ ‡é¢˜
  btnText: 'æ‰“èµæ”¯æŒ', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæŒ‰é’®æ–‡å­—
  el: document.getElementById('donation_div'),
  wechatImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/WeChanQR.png',
  alipayImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/AliPayQR.jpg'
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>æœ¬æ–‡ä½œè€…:  </strong>æ®µçºªåˆš</a>
          </li>
          <li class="post-copyright-link">
          <strong>æœ¬æ–‡é“¾æ¥:  </strong>
          <a href="/2017/11/02/Anko-Layouts/" target="_blank" title="Anko å¸ƒå±€">https://jigangduan.github.io/2017/11/02/Anko-Layouts/</a>
          </li>
          <li class="post-copyright-license">
            <strong>ç‰ˆæƒå£°æ˜:   </strong>
            æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„
          </li>
         
        </ul>
<div>

      
      
        
	<div id="comment">
		<!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
		</div>
		<!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->
	</div>



      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/anko/">anko</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kotlin/">kotlin</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/11/03/Anko-SQLite/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          Anko SQLite
        
      </div>
    </a>
  
  
    <a href="/2017/11/02/Anko-Commons/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">Anko é€šç”¨æ¨¡å—</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸ºä»€ä¹ˆAnkoå¸ƒå±€"><span class="nav-number">1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆAnkoå¸ƒå±€?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DSLçš„åŸå› "><span class="nav-number">1.1.</span> <span class="nav-text">DSLçš„åŸå› ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ”¯æŒç°æœ‰çš„ä»£ç "><span class="nav-number">1.2.</span> <span class="nav-text">æ”¯æŒç°æœ‰çš„ä»£ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„"><span class="nav-number">1.3.</span> <span class="nav-text">å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ƒæ˜¯å¯æ‰©å±•çš„å—"><span class="nav-number">1.4.</span> <span class="nav-text">å®ƒæ˜¯å¯æ‰©å±•çš„å—?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko-Layouts"><span class="nav-number">2.</span> <span class="nav-text">åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨Anko Layouts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç†è§£Anko"><span class="nav-number">3.</span> <span class="nav-text">ç†è§£Anko</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åŸºç¡€çŸ¥è¯†"><span class="nav-number">3.1.</span> <span class="nav-text">åŸºç¡€çŸ¥è¯†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AnkoComponent"><span class="nav-number">3.2.</span> <span class="nav-text">AnkoComponent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è¾…åŠ©å—"><span class="nav-number">3.3.</span> <span class="nav-text">è¾…åŠ©å—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸»é¢˜å—"><span class="nav-number">3.4.</span> <span class="nav-text">ä¸»é¢˜å—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¸ƒå±€å’ŒLayoutParams"><span class="nav-number">3.5.</span> <span class="nav-text">å¸ƒå±€å’ŒLayoutParams</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Listeners"><span class="nav-number">3.6.</span> <span class="nav-text">Listeners</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡"><span class="nav-number">3.7.</span> <span class="nav-text">å®šåˆ¶çš„åç¨‹ä¸Šä¸‹æ–‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦"><span class="nav-number">3.8.</span> <span class="nav-text">ä½¿ç”¨èµ„æºæ ‡è¯†ç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ä¾‹ç®€åŒ–ç¬¦å·"><span class="nav-number">3.9.</span> <span class="nav-text">å®ä¾‹ç®€åŒ–ç¬¦å·</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UIåŒ…è£…"><span class="nav-number">3.10.</span> <span class="nav-text">UIåŒ…è£…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Includeæ ‡ç­¾"><span class="nav-number">3.11.</span> <span class="nav-text">Includeæ ‡ç­¾</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ankoæ”¯æŒæ’ä»¶"><span class="nav-number">4.</span> <span class="nav-text">Ankoæ”¯æŒæ’ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å®‰è£…Ankoæ”¯æŒæ’ä»¶"><span class="nav-number">4.1.</span> <span class="nav-text">å®‰è£…Ankoæ”¯æŒæ’ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨æ’ä»¶"><span class="nav-number">4.2.</span> <span class="nav-text">ä½¿ç”¨æ’ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XML-DSLè½¬æ¢å™¨"><span class="nav-number">4.3.</span> <span class="nav-text">XML DSLè½¬æ¢å™¨</span></a></li></ol></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2021 æœç€ç‰›é€¼çš„é“è·¯ä¸€è·¯ç‹‚å¥” All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				è®¿å®¢æ•° : <span id="busuanzi_value_site_uv"></span> |  
				è®¿é—®é‡ : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">è®¾ç½®</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              æ­£æ–‡å­—å·å¤§å°
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            æ‚¨å·²è°ƒæ•´é¡µé¢å­—ä½“å¤§å°
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              å¤œé—´æŠ¤çœ¼æ¨¡å¼
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            å¤œé—´æ¨¡å¼å·²ç»å¼€å¯ï¼Œå†æ¬¡å•å‡»æŒ‰é’®å³å¯å…³é—­ 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³ äº&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            æœç€ç‰›é€¼çš„é“è·¯ä¸€è·¯ç‹‚å¥”
          </div>
          <div class="panel-body">
            Copyright Â© 2021 æ®µçºªåˆš All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>