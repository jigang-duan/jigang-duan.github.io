<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>numpy-100 | 朝着牛逼的道路一路狂奔</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="pythonnumpy">
  
  
  
  
  <meta name="description" content="参考：  原文件地址 NumPy 中文 numpy Python数据分析 Numpy的详细教程  1. 导入numpy库并简写为 np1import numpy as np 2. 打印numpy的版本和配置说明12print(np.__version__)print(np.show_config()) 1.19.2 blas_mkl_info:   NOT AVAILABLE blis_info">
<meta name="keywords" content="python,numpy">
<meta property="og:type" content="article">
<meta property="og:title" content="Numpy-100">
<meta property="og:url" content="https://jigangduan.github.io/2020/10/23/numpy-100/index.html">
<meta property="og:site_name" content="朝着牛逼的道路一路狂奔">
<meta property="og:description" content="参考：  原文件地址 NumPy 中文 numpy Python数据分析 Numpy的详细教程  1. 导入numpy库并简写为 np1import numpy as np 2. 打印numpy的版本和配置说明12print(np.__version__)print(np.show_config()) 1.19.2 blas_mkl_info:   NOT AVAILABLE blis_info">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=609154205,3903032943&fm=26&gp=0.jpg">
<meta property="og:updated_time" content="2020-10-23T14:54:57.980Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Numpy-100">
<meta name="twitter:description" content="参考：  原文件地址 NumPy 中文 numpy Python数据分析 Numpy的详细教程  1. 导入numpy库并简写为 np1import numpy as np 2. 打印numpy的版本和配置说明12print(np.__version__)print(np.show_config()) 1.19.2 blas_mkl_info:   NOT AVAILABLE blis_info">
<meta name="twitter:image" content="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=609154205,3903032943&fm=26&gp=0.jpg">
  
    <link rel="alternate" href="/atom.xml" title="朝着牛逼的道路一路狂奔" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("/css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("/css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("/css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">首页</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">归档</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">分类</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">标签</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">关于</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-numpy-100" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Numpy-100
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/10/23/numpy-100/" class="article-date">
	  <time datetime="2020-10-23T14:12:30.000Z" itemprop="datePublished">2020-10-23</time>
	</a>

      
    <a class="article-category-link" href="/categories/numpy/">numpy</a><a class="article-category-link" href="/categories/numpy/Python/">Python</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		阅读量<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=609154205,3903032943&amp;fm=26&amp;gp=0.jpg" alt="numpy"></p>
<p><strong>参考</strong>：</p>
<ul>
<li><a href="https://github.com/rougier/numpy-100" target="_blank" rel="noopener">原文件地址</a></li>
<li><a href="https://www.numpy.org.cn" target="_blank" rel="noopener">NumPy 中文</a></li>
<li><a href="https://numpy.org" target="_blank" rel="noopener">numpy</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/24988491" target="_blank" rel="noopener">Python数据分析 Numpy的详细教程</a></li>
</ul>
<h3 id="1-导入numpy库并简写为-np"><a href="#1-导入numpy库并简写为-np" class="headerlink" title="1. 导入numpy库并简写为 np"></a>1. 导入numpy库并简写为 np</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<h3 id="2-打印numpy的版本和配置说明"><a href="#2-打印numpy的版本和配置说明" class="headerlink" title="2. 打印numpy的版本和配置说明"></a>2. 打印numpy的版本和配置说明</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(np.__version__)</span><br><span class="line">print(np.show_config())</span><br></pre></td></tr></table></figure>
<pre><code>1.19.2
blas_mkl_info:
  NOT AVAILABLE
blis_info:
  NOT AVAILABLE
openblas_info:
    libraries = [&apos;openblas&apos;, &apos;openblas&apos;]
    library_dirs = [&apos;/usr/local/lib&apos;]
    language = c
    define_macros = [(&apos;HAVE_CBLAS&apos;, None)]
blas_opt_info:
    libraries = [&apos;openblas&apos;, &apos;openblas&apos;]
    library_dirs = [&apos;/usr/local/lib&apos;]
    language = c
    define_macros = [(&apos;HAVE_CBLAS&apos;, None)]
lapack_mkl_info:
  NOT AVAILABLE
openblas_lapack_info:
    libraries = [&apos;openblas&apos;, &apos;openblas&apos;]
    library_dirs = [&apos;/usr/local/lib&apos;]
    language = c
    define_macros = [(&apos;HAVE_CBLAS&apos;, None)]
lapack_opt_info:
    libraries = [&apos;openblas&apos;, &apos;openblas&apos;]
    library_dirs = [&apos;/usr/local/lib&apos;]
    language = c
    define_macros = [(&apos;HAVE_CBLAS&apos;, None)]
None
</code></pre><h3 id="3-创建一个长度为10的空向量"><a href="#3-创建一个长度为10的空向量" class="headerlink" title="3. 创建一个长度为10的空向量"></a>3. 创建一个长度为10的空向量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
</code></pre><h3 id="4-如何找到任何一个数组的内存大小？"><a href="#4-如何找到任何一个数组的内存大小？" class="headerlink" title="4. 如何找到任何一个数组的内存大小？"></a>4. 如何找到任何一个数组的内存大小？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"%d bytes"</span> % (Z.size * Z.itemsize))</span><br></pre></td></tr></table></figure>
<pre><code>80 bytes
</code></pre><h3 id="5-如何从命令行得到numpy中add函数的说明文档"><a href="#5-如何从命令行得到numpy中add函数的说明文档" class="headerlink" title="5. 如何从命令行得到numpy中add函数的说明文档?"></a>5. 如何从命令行得到numpy中add函数的说明文档?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.info(np.add)</span><br></pre></td></tr></table></figure>
<pre><code>add(x1, x2, /, out=None, *, where=True, casting=&apos;same_kind&apos;, order=&apos;K&apos;, dtype=None, subok=True[, signature, extobj])

Add arguments element-wise.

Parameters
----------
x1, x2 : array_like
    The arrays to be added.
    If ``x1.shape != x2.shape``, they must be broadcastable to a common
    shape (which becomes the shape of the output).
out : ndarray, None, or tuple of ndarray and None, optional
    A location into which the result is stored. If provided, it must have
    a shape that the inputs broadcast to. If not provided or None,
    a freshly-allocated array is returned. A tuple (possible only as a
    keyword argument) must have length equal to the number of outputs.
where : array_like, optional
    This condition is broadcast over the input. At locations where the
    condition is True, the `out` array will be set to the ufunc result.
    Elsewhere, the `out` array will retain its original value.
    Note that if an uninitialized `out` array is created via the default
    ``out=None``, locations within it where the condition is False will
    remain uninitialized.
**kwargs
    For other keyword-only arguments, see the
    :ref:`ufunc docs &lt;ufuncs.kwargs&gt;`.

Returns
-------
add : ndarray or scalar
    The sum of `x1` and `x2`, element-wise.
    This is a scalar if both `x1` and `x2` are scalars.

Notes
-----
Equivalent to `x1` + `x2` in terms of array broadcasting.

Examples
--------
&gt;&gt;&gt; np.add(1.0, 4.0)
5.0
&gt;&gt;&gt; x1 = np.arange(9.0).reshape((3, 3))
&gt;&gt;&gt; x2 = np.arange(3.0)
&gt;&gt;&gt; np.add(x1, x2)
array([[  0.,   2.,   4.],
       [  3.,   5.,   7.],
       [  6.,   8.,  10.]])
</code></pre><h3 id="6-创建一个长度为10并且除了第五个值为1的空向量"><a href="#6-创建一个长度为10并且除了第五个值为1的空向量" class="headerlink" title="6. 创建一个长度为10并且除了第五个值为1的空向量"></a>6. 创建一个长度为10并且除了第五个值为1的空向量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>)</span><br><span class="line">Z[<span class="number">4</span>] = <span class="number">1</span></span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[0. 0. 0. 0. 1. 0. 0. 0. 0. 0.]
</code></pre><h3 id="7-创建一个值域范围从10到49的向量"><a href="#7-创建一个值域范围从10到49的向量" class="headerlink" title="7. 创建一个值域范围从10到49的向量"></a>7. 创建一个值域范围从10到49的向量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">10</span>, <span class="number">50</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33
 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49]
</code></pre><h3 id="8-反转一个向量-第一个元素变为最后一个"><a href="#8-反转一个向量-第一个元素变为最后一个" class="headerlink" title="8. 反转一个向量(第一个元素变为最后一个)"></a>8. 反转一个向量(第一个元素变为最后一个)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">10</span>)</span><br><span class="line">Z = Z[::<span class="number">-1</span>]</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[9 8 7 6 5 4 3 2 1 0]
</code></pre><h3 id="9-创建一个-3x3-并且值从0到8的矩阵"><a href="#9-创建一个-3x3-并且值从0到8的矩阵" class="headerlink" title="9. 创建一个 3x3 并且值从0到8的矩阵"></a>9. 创建一个 3x3 并且值从0到8的矩阵</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 1 2]
 [3 4 5]
 [6 7 8]]
</code></pre><h3 id="10-找到数组-1-2-0-0-4-0-中非0元素的位置索引"><a href="#10-找到数组-1-2-0-0-4-0-中非0元素的位置索引" class="headerlink" title="10. 找到数组[1,2,0,0,4,0]中非0元素的位置索引"></a>10. 找到数组[1,2,0,0,4,0]中非0元素的位置索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nz = np.nonzero([<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>])</span><br><span class="line">print(nz)</span><br><span class="line">print(nz[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<pre><code>(array([0, 1, 4]),)
[0 1 4]
</code></pre><h3 id="11-创建一个-3x3-的单位矩阵"><a href="#11-创建一个-3x3-的单位矩阵" class="headerlink" title="11. 创建一个 3x3 的单位矩阵"></a>11. 创建一个 3x3 的单位矩阵</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.eye(<span class="number">3</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[1. 0. 0.]
 [0. 1. 0.]
 [0. 0. 1.]]
</code></pre><h3 id="12-创建一个-3x3x3的随机数组"><a href="#12-创建一个-3x3x3的随机数组" class="headerlink" title="12. 创建一个 3x3x3的随机数组"></a>12. 创建一个 3x3x3的随机数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[[0.88486955 0.5490597  0.59669197]
  [0.35137688 0.48379957 0.07091021]
  [0.62127269 0.51806167 0.03852795]]

 [[0.15854486 0.05115505 0.20431851]
  [0.11087782 0.21286826 0.80180936]
  [0.73353315 0.45160643 0.76325029]]

 [[0.3903262  0.44422448 0.95099903]
  [0.28599768 0.48745533 0.05721719]
  [0.47329799 0.00279801 0.07081437]]]
</code></pre><h3 id="13-创建一个-10x10-的随机数组并找到它的最大值和最小值"><a href="#13-创建一个-10x10-的随机数组并找到它的最大值和最小值" class="headerlink" title="13. 创建一个 10x10 的随机数组并找到它的最大值和最小值"></a>13. 创建一个 10x10 的随机数组并找到它的最大值和最小值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line">Zmax, Zmin = Z.max(), Z.min()</span><br><span class="line">print(Zmax, Zmin)</span><br></pre></td></tr></table></figure>
<pre><code>0.9916690090908562 0.0065094427825592716
</code></pre><h3 id="14-创建一个长度为30的随机向量并找到它的平均值"><a href="#14-创建一个长度为30的随机向量并找到它的平均值" class="headerlink" title="14. 创建一个长度为30的随机向量并找到它的平均值"></a>14. 创建一个长度为30的随机向量并找到它的平均值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random(<span class="number">30</span>)</span><br><span class="line">print(Z.mean())</span><br></pre></td></tr></table></figure>
<pre><code>0.5447235064512149
</code></pre><h3 id="15-创建一个二维数组，其中边界值为1，其余值为0"><a href="#15-创建一个二维数组，其中边界值为1，其余值为0" class="headerlink" title="15. 创建一个二维数组，其中边界值为1，其余值为0"></a>15. 创建一个二维数组，其中边界值为1，其余值为0</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.ones((<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line">Z[<span class="number">1</span>:<span class="number">-1</span>, <span class="number">1</span>:<span class="number">-1</span>] = <span class="number">0</span></span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
 [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]]
</code></pre><h3 id="16-对于一个存在在数组，如何添加一个用0填充的边界"><a href="#16-对于一个存在在数组，如何添加一个用0填充的边界" class="headerlink" title="16. 对于一个存在在数组，如何添加一个用0填充的边界?"></a>16. 对于一个存在在数组，如何添加一个用0填充的边界?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.ones((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">Z = np.pad(Z, pad_width=<span class="number">1</span>, mode=<span class="string">'constant'</span>, constant_values=<span class="number">0</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0. 0. 0. 0. 0. 0. 0.]
 [0. 1. 1. 1. 1. 1. 0.]
 [0. 1. 1. 1. 1. 1. 0.]
 [0. 1. 1. 1. 1. 1. 0.]
 [0. 1. 1. 1. 1. 1. 0.]
 [0. 1. 1. 1. 1. 1. 0.]
 [0. 0. 0. 0. 0. 0. 0.]]
</code></pre><h3 id="17-以下表达式运行的结果分别是什么"><a href="#17-以下表达式运行的结果分别是什么" class="headerlink" title="17. 以下表达式运行的结果分别是什么?"></a>17. 以下表达式运行的结果分别是什么?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> * np.nan</span><br></pre></td></tr></table></figure>
<pre><code>nan
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.nan == np.nan</span><br></pre></td></tr></table></figure>
<pre><code>False
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.inf &gt; np.nan</span><br></pre></td></tr></table></figure>
<pre><code>False
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.nan - np.nan</span><br></pre></td></tr></table></figure>
<pre><code>nan
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.3</span> == <span class="number">3</span> * <span class="number">0.1</span></span><br></pre></td></tr></table></figure>
<pre><code>False
</code></pre><h3 id="18-创建一个-5x5的矩阵，并设置值1-2-3-4落在其对角线下方位置"><a href="#18-创建一个-5x5的矩阵，并设置值1-2-3-4落在其对角线下方位置" class="headerlink" title="18. 创建一个 5x5的矩阵，并设置值1,2,3,4落在其对角线下方位置"></a>18. 创建一个 5x5的矩阵，并设置值1,2,3,4落在其对角线下方位置</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.diag(<span class="number">1</span>+np.arange(<span class="number">4</span>),k=<span class="number">-1</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 0 0 0 0]
 [1 0 0 0 0]
 [0 2 0 0 0]
 [0 0 3 0 0]
 [0 0 0 4 0]]
</code></pre><h3 id="19-创建一个8x8-的矩阵，并且设置成棋盘样式"><a href="#19-创建一个8x8-的矩阵，并且设置成棋盘样式" class="headerlink" title="19. 创建一个8x8 的矩阵，并且设置成棋盘样式"></a>19. 创建一个8x8 的矩阵，并且设置成棋盘样式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros((<span class="number">8</span>,<span class="number">8</span>),dtype=int)</span><br><span class="line">Z[<span class="number">1</span>::<span class="number">2</span>,::<span class="number">2</span>] = <span class="number">1</span></span><br><span class="line">Z[::<span class="number">2</span>,<span class="number">1</span>::<span class="number">2</span>] = <span class="number">1</span></span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]
 [0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]
 [0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]
 [0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]]
</code></pre><h3 id="20-考虑一个-6-7-8-形状的数组，其第100个元素的索引-x-y-z-是什么"><a href="#20-考虑一个-6-7-8-形状的数组，其第100个元素的索引-x-y-z-是什么" class="headerlink" title="20. 考虑一个 (6,7,8) 形状的数组，其第100个元素的索引(x,y,z)是什么?"></a>20. 考虑一个 (6,7,8) 形状的数组，其第100个元素的索引(x,y,z)是什么?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.unravel_index(<span class="number">100</span>,(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)))</span><br></pre></td></tr></table></figure>
<pre><code>(1, 5, 4)
</code></pre><h3 id="21-用tile函数去创建一个-8x8的棋盘样式矩阵-★☆☆"><a href="#21-用tile函数去创建一个-8x8的棋盘样式矩阵-★☆☆" class="headerlink" title="21. 用tile函数去创建一个 8x8的棋盘样式矩阵(★☆☆)"></a>21. 用tile函数去创建一个 8x8的棋盘样式矩阵(★☆☆)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.tile( np.array([[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>]]), (<span class="number">4</span>,<span class="number">4</span>))</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]
 [0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]
 [0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]
 [0 1 0 1 0 1 0 1]
 [1 0 1 0 1 0 1 0]]
</code></pre><h3 id="22-对一个5x5的随机矩阵做归一化"><a href="#22-对一个5x5的随机矩阵做归一化" class="headerlink" title="22. 对一个5x5的随机矩阵做归一化"></a>22. 对一个5x5的随机矩阵做归一化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">print(Z)</span><br><span class="line">Zmax, Zmin = Z.max(), Z.min()</span><br><span class="line">Z = (Z - Zmin)/(Zmax - Zmin)</span><br><span class="line">print(<span class="string">'归一化:'</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0.38425685 0.53708226 0.6652044  0.53846365 0.52572921]
 [0.35578247 0.56376841 0.51732071 0.64696521 0.48704011]
 [0.71386634 0.11482216 0.35562303 0.49511748 0.94909796]
 [0.61600517 0.55368581 0.23454672 0.05183324 0.06497491]
 [0.9731188  0.89971985 0.67555374 0.70371238 0.97471339]]
归一化:
[[0.36020237 0.52579853 0.6646271  0.52729535 0.51349677]
 [0.32934854 0.55471469 0.50438561 0.64486377 0.47157463]
 [0.71735545 0.06825255 0.32917577 0.48032698 0.97224404]
 [0.61131658 0.54378954 0.19798181 0.         0.01423985]
 [0.99827216 0.91873968 0.67584128 0.70635297 1.        ]]
</code></pre><h3 id="23-创建一个将颜色描述为-RGBA-四个无符号字节的自定义dtype？"><a href="#23-创建一个将颜色描述为-RGBA-四个无符号字节的自定义dtype？" class="headerlink" title="23. 创建一个将颜色描述为(RGBA)四个无符号字节的自定义dtype？"></a>23. 创建一个将颜色描述为(RGBA)四个无符号字节的自定义dtype？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">color = np.dtype([(<span class="string">"r"</span>, np.ubyte),</span><br><span class="line">                   (<span class="string">"g"</span>, np.ubyte),</span><br><span class="line">                   (<span class="string">"b"</span>, np.ubyte),</span><br><span class="line">                   (<span class="string">"a"</span>, np.ubyte)])</span><br><span class="line">color</span><br></pre></td></tr></table></figure>
<pre><code>dtype([(&apos;r&apos;, &apos;u1&apos;), (&apos;g&apos;, &apos;u1&apos;), (&apos;b&apos;, &apos;u1&apos;), (&apos;a&apos;, &apos;u1&apos;)])
</code></pre><h3 id="24-一个5x3的矩阵与一个3x2的矩阵相乘，实矩阵乘积是什么？"><a href="#24-一个5x3的矩阵与一个3x2的矩阵相乘，实矩阵乘积是什么？" class="headerlink" title="24. 一个5x3的矩阵与一个3x2的矩阵相乘，实矩阵乘积是什么？"></a>24. 一个5x3的矩阵与一个3x2的矩阵相乘，实矩阵乘积是什么？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z1, Z2 = np.ones((<span class="number">5</span>, <span class="number">3</span>)), np.ones((<span class="number">3</span>, <span class="number">2</span>))</span><br><span class="line">print(np.dot(Z1, Z2))</span><br><span class="line">print(<span class="string">'----或-----'</span>)</span><br><span class="line">print(Z1@Z2)</span><br></pre></td></tr></table></figure>
<pre><code>[[3. 3.]
 [3. 3.]
 [3. 3.]
 [3. 3.]
 [3. 3.]]
----或-----
[[3. 3.]
 [3. 3.]
 [3. 3.]
 [3. 3.]
 [3. 3.]]
</code></pre><h3 id="25-给定一个一维数组，对其在3到8之间的所有元素取反"><a href="#25-给定一个一维数组，对其在3到8之间的所有元素取反" class="headerlink" title="25. 给定一个一维数组，对其在3到8之间的所有元素取反"></a>25. 给定一个一维数组，对其在3到8之间的所有元素取反</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">11</span>)</span><br><span class="line">Z[(<span class="number">3</span> &lt; Z) &amp; (Z &lt;= <span class="number">8</span>)] *= <span class="number">-1</span></span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[ 0  1  2  3 -4 -5 -6 -7 -8  9 10]
</code></pre><h3 id="26-下面脚本运行后的结果是什么"><a href="#26-下面脚本运行后的结果是什么" class="headerlink" title="26. 下面脚本运行后的结果是什么?"></a>26. 下面脚本运行后的结果是什么?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(sum(range(<span class="number">5</span>),<span class="number">-1</span>))</span><br></pre></td></tr></table></figure>
<pre><code>9
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.sum(range(<span class="number">5</span>),<span class="number">-1</span>))</span><br></pre></td></tr></table></figure>
<pre><code>10
</code></pre><h3 id="27-考虑一个整数向量Z-下列表达合法的是哪个"><a href="#27-考虑一个整数向量Z-下列表达合法的是哪个" class="headerlink" title="27. 考虑一个整数向量Z,下列表达合法的是哪个?"></a>27. 考虑一个整数向量Z,下列表达合法的是哪个?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">5</span>)</span><br><span class="line">Z ** Z</span><br></pre></td></tr></table></figure>
<pre><code>[0 1 2 3 4]





array([  1,   1,   4,  27, 256])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="number">2</span> &lt;&lt; Z &gt;&gt; <span class="number">2</span></span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2, 4, 8])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">5</span>)</span><br><span class="line">Z &lt;- Z</span><br></pre></td></tr></table></figure>
<pre><code>array([False, False, False, False, False])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="number">1j</span>*Z</span><br></pre></td></tr></table></figure>
<pre><code>array([0.+0.j, 0.+1.j, 0.+2.j, 0.+3.j, 0.+4.j])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">5</span>)</span><br><span class="line">Z/<span class="number">1</span>/<span class="number">1</span></span><br></pre></td></tr></table></figure>
<pre><code>array([0., 1., 2., 3., 4.])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">5</span>)</span><br><span class="line">Z&lt;Z&gt;Z</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-82-287e9cf34c9f&gt; in &lt;module&gt;
      1 Z = np.arange(5)
----&gt; 2 Z&lt;Z&gt;Z


ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
</code></pre><h3 id="28-下列表达式的结果分别是什么"><a href="#28-下列表达式的结果分别是什么" class="headerlink" title="28. 下列表达式的结果分别是什么?"></a>28. 下列表达式的结果分别是什么?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array(<span class="number">0</span>) / np.array(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>/Users/admin/.virtualenvs/numpy/lib/python3.7/site-packages/ipykernel_launcher.py:1: RuntimeWarning: invalid value encountered in true_divide
  &quot;&quot;&quot;Entry point for launching an IPython kernel.





nan
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array(<span class="number">0</span>) // np.array(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>/Users/admin/.virtualenvs/numpy/lib/python3.7/site-packages/ipykernel_launcher.py:1: RuntimeWarning: divide by zero encountered in floor_divide
  &quot;&quot;&quot;Entry point for launching an IPython kernel.





0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([np.nan]).astype(int).astype(float)</span><br></pre></td></tr></table></figure>
<pre><code>array([-9.22337204e+18])
</code></pre><h3 id="29-如何从零位对浮点数组做舍入"><a href="#29-如何从零位对浮点数组做舍入" class="headerlink" title="29. 如何从零位对浮点数组做舍入 ?"></a>29. 如何从零位对浮点数组做舍入 ?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.uniform(<span class="number">-10</span>,+<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">np.copysign(np.ceil(np.abs(Z)), Z)</span><br></pre></td></tr></table></figure>
<pre><code>array([  6., -10.,  -9.,   8.,   5., -10.,   4.,   5.,  -2.,  -1.])
</code></pre><h3 id="30-如何找到两个数组中的共同元素"><a href="#30-如何找到两个数组中的共同元素" class="headerlink" title="30. 如何找到两个数组中的共同元素?"></a>30. 如何找到两个数组中的共同元素?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z1 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">Z2 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">print(np.intersect1d(Z1,Z2))</span><br></pre></td></tr></table></figure>
<pre><code>[1 6 7 9]
</code></pre><h3 id="31-如何忽略所有的-numpy-警告-尽管不建议这么做"><a href="#31-如何忽略所有的-numpy-警告-尽管不建议这么做" class="headerlink" title="31. 如何忽略所有的 numpy 警告(尽管不建议这么做)?"></a>31. 如何忽略所有的 numpy 警告(尽管不建议这么做)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自杀模式</span></span><br><span class="line">defaults = np.seterr(all=<span class="string">"ignore"</span>)  </span><br><span class="line">Z = np.ones(<span class="number">1</span>) / <span class="number">0</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 恢复理智  </span></span><br><span class="line">_ = np.seterr(**defaults)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> np.errstate(divide=<span class="string">'ignore'</span>):  </span><br><span class="line">    Z = np.ones(<span class="number">1</span>) / <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h3 id="32-下面的表达式是正确的吗"><a href="#32-下面的表达式是正确的吗" class="headerlink" title="32. 下面的表达式是正确的吗?"></a>32. 下面的表达式是正确的吗?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sqrt(<span class="number">-1</span>) == np.emath.sqrt(<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>False
</code></pre><h3 id="33-如何得到昨天，今天，明天的日期"><a href="#33-如何得到昨天，今天，明天的日期" class="headerlink" title="33. 如何得到昨天，今天，明天的日期?"></a>33. 如何得到昨天，今天，明天的日期?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yesterday = np.datetime64(<span class="string">'today'</span>, <span class="string">'D'</span>) - np.timedelta64(<span class="number">1</span>, <span class="string">'D'</span>)</span><br><span class="line">today     = np.datetime64(<span class="string">'today'</span>, <span class="string">'D'</span>)</span><br><span class="line">tomorrow  = np.datetime64(<span class="string">'today'</span>, <span class="string">'D'</span>) + np.timedelta64(<span class="number">1</span>, <span class="string">'D'</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"昨天 "</span> + str(yesterday))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"今天  "</span> + str(today))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"明天 "</span>+ str(tomorrow))</span><br></pre></td></tr></table></figure>
<pre><code>昨天 2020-10-22
今天  2020-10-23
明天 2020-10-24
</code></pre><h3 id="34-如何得到所有与2016年7月对应的日期？"><a href="#34-如何得到所有与2016年7月对应的日期？" class="headerlink" title="34. 如何得到所有与2016年7月对应的日期？"></a>34. 如何得到所有与2016年7月对应的日期？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="string">'2016-07'</span>, <span class="string">'2016-08'</span>, dtype=<span class="string">'datetime64[D]'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([&apos;2016-07-01&apos;, &apos;2016-07-02&apos;, &apos;2016-07-03&apos;, &apos;2016-07-04&apos;,
       &apos;2016-07-05&apos;, &apos;2016-07-06&apos;, &apos;2016-07-07&apos;, &apos;2016-07-08&apos;,
       &apos;2016-07-09&apos;, &apos;2016-07-10&apos;, &apos;2016-07-11&apos;, &apos;2016-07-12&apos;,
       &apos;2016-07-13&apos;, &apos;2016-07-14&apos;, &apos;2016-07-15&apos;, &apos;2016-07-16&apos;,
       &apos;2016-07-17&apos;, &apos;2016-07-18&apos;, &apos;2016-07-19&apos;, &apos;2016-07-20&apos;,
       &apos;2016-07-21&apos;, &apos;2016-07-22&apos;, &apos;2016-07-23&apos;, &apos;2016-07-24&apos;,
       &apos;2016-07-25&apos;, &apos;2016-07-26&apos;, &apos;2016-07-27&apos;, &apos;2016-07-28&apos;,
       &apos;2016-07-29&apos;, &apos;2016-07-30&apos;, &apos;2016-07-31&apos;], dtype=&apos;datetime64[D]&apos;)
</code></pre><h3 id="35-如何直接在位计算-A-B-A-2-不建立副本"><a href="#35-如何直接在位计算-A-B-A-2-不建立副本" class="headerlink" title="35. 如何直接在位计算(A+B)*(-A/2)(不建立副本)?"></a>35. 如何直接在位计算(A+B)*(-A/2)(不建立副本)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A = np.ones(<span class="number">3</span>)*<span class="number">1</span></span><br><span class="line">B = np.ones(<span class="number">3</span>)*<span class="number">2</span></span><br><span class="line">C = np.ones(<span class="number">3</span>)*<span class="number">3</span></span><br><span class="line">np.add(A,B,out=B)</span><br></pre></td></tr></table></figure>
<pre><code>array([3., 3., 3.])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.divide(A,<span class="number">2</span>,out=A)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.5, 0.5, 0.5])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.negative(A,out=A)</span><br></pre></td></tr></table></figure>
<pre><code>array([-0.5, -0.5, -0.5])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.multiply(A,B,out=A)</span><br></pre></td></tr></table></figure>
<pre><code>array([-1.5, -1.5, -1.5])
</code></pre><h3 id="36-用五种不同的方法去提取一个随机数组的整数部分"><a href="#36-用五种不同的方法去提取一个随机数组的整数部分" class="headerlink" title="36. 用五种不同的方法去提取一个随机数组的整数部分"></a>36. 用五种不同的方法去提取一个随机数组的整数部分</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.uniform(<span class="number">0</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[9.65002236 2.02077988 7.90182176 0.95615672 2.4638734  0.74263585
 5.99876609 7.14737062 6.2959432  3.42980839]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (Z - Z%<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[9. 2. 7. 0. 2. 0. 5. 7. 6. 3.]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (np.floor(Z))</span><br></pre></td></tr></table></figure>
<pre><code>[9. 2. 7. 0. 2. 0. 5. 7. 6. 3.]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (np.ceil(Z)<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[9. 2. 7. 0. 2. 0. 5. 7. 6. 3.]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (Z.astype(int))</span><br></pre></td></tr></table></figure>
<pre><code>[9 2 7 0 2 0 5 7 6 3]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (np.trunc(Z))</span><br></pre></td></tr></table></figure>
<pre><code>[9. 2. 7. 0. 2. 0. 5. 7. 6. 3.]
</code></pre><h3 id="37-创建一个5x5的矩阵，其中每行的数值范围从0到4"><a href="#37-创建一个5x5的矩阵，其中每行的数值范围从0到4" class="headerlink" title="37. 创建一个5x5的矩阵，其中每行的数值范围从0到4"></a>37. 创建一个5x5的矩阵，其中每行的数值范围从0到4</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">Z += np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0. 1. 2. 3. 4.]
 [0. 1. 2. 3. 4.]
 [0. 1. 2. 3. 4.]
 [0. 1. 2. 3. 4.]
 [0. 1. 2. 3. 4.]]
</code></pre><h3 id="38-通过考虑一个可生成10个整数的函数，来构建一个数组"><a href="#38-通过考虑一个可生成10个整数的函数，来构建一个数组" class="headerlink" title="38. 通过考虑一个可生成10个整数的函数，来构建一个数组"></a>38. 通过考虑一个可生成10个整数的函数，来构建一个数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">()</span>:</span></span><br><span class="line">     <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">         <span class="keyword">yield</span> x</span><br><span class="line">Z = np.fromiter(generate(),dtype=float,count=<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]
</code></pre><h3 id="39-创建一个长度为10的随机向量，其值域范围从0到1，但是不包括0和1"><a href="#39-创建一个长度为10的随机向量，其值域范围从0到1，但是不包括0和1" class="headerlink" title="39. 创建一个长度为10的随机向量，其值域范围从0到1，但是不包括0和1"></a>39. 创建一个长度为10的随机向量，其值域范围从0到1，但是不包括0和1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">11</span>,endpoint=<span class="literal">False</span>)[<span class="number">1</span>:]</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[0.09090909 0.18181818 0.27272727 0.36363636 0.45454545 0.54545455
 0.63636364 0.72727273 0.81818182 0.90909091]
</code></pre><h3 id="40-创建一个长度为10的随机向量，并将其排序"><a href="#40-创建一个长度为10的随机向量，并将其排序" class="headerlink" title="40. 创建一个长度为10的随机向量，并将其排序"></a>40. 创建一个长度为10的随机向量，并将其排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random(<span class="number">10</span>)</span><br><span class="line">Z.sort()</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[0.0824115  0.08352975 0.3346753  0.40580722 0.44177301 0.50663776
 0.59050701 0.75991226 0.87806887 0.9703208 ]
</code></pre><h3 id="41-对于一个小数组，如何用比-np-sum更快的方式对其求和？"><a href="#41-对于一个小数组，如何用比-np-sum更快的方式对其求和？" class="headerlink" title="41.对于一个小数组，如何用比 np.sum更快的方式对其求和？"></a>41.对于一个小数组，如何用比 np.sum更快的方式对其求和？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">10</span>)</span><br><span class="line">np.add.reduce(Z)</span><br></pre></td></tr></table></figure>
<pre><code>45
</code></pre><h3 id="42-对于两个随机数组A和B，检查它们是否相等"><a href="#42-对于两个随机数组A和B，检查它们是否相等" class="headerlink" title="42. 对于两个随机数组A和B，检查它们是否相等"></a>42. 对于两个随机数组A和B，检查它们是否相等</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">A = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">B = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 假设数组具有相同的形状和值比较的容忍度</span></span><br><span class="line">equal = np.allclose(A,B)</span><br><span class="line">print(equal)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查形状和元素值，没有公差(值必须完全相等)</span></span><br><span class="line">equal = np.array_equal(A,B)</span><br><span class="line">print(equal)</span><br></pre></td></tr></table></figure>
<pre><code>False
False
</code></pre><h3 id="43-创建一个只读数组-read-only"><a href="#43-创建一个只读数组-read-only" class="headerlink" title="43. 创建一个只读数组(read-only)"></a>43. 创建一个只读数组(read-only)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>)  </span><br><span class="line">Z.flags.writeable = <span class="literal">False</span>  </span><br><span class="line">Z[<span class="number">0</span>] = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-116-29348be95821&gt; in &lt;module&gt;
      1 Z = np.zeros(10)
      2 Z.flags.writeable = False
----&gt; 3 Z[0] = 1


ValueError: assignment destination is read-only
</code></pre><h3 id="44-将笛卡尔坐标下的一个10x2的矩阵转换为极坐标形式"><a href="#44-将笛卡尔坐标下的一个10x2的矩阵转换为极坐标形式" class="headerlink" title="44. 将笛卡尔坐标下的一个10x2的矩阵转换为极坐标形式"></a>44. 将笛卡尔坐标下的一个10x2的矩阵转换为极坐标形式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">X,Y = Z[:,<span class="number">0</span>], Z[:,<span class="number">1</span>]</span><br><span class="line">R = np.sqrt(X**<span class="number">2</span>+Y**<span class="number">2</span>)</span><br><span class="line">T = np.arctan2(Y,X)</span><br><span class="line">print(Z)</span><br><span class="line"><span class="keyword">print</span> (R)</span><br><span class="line"><span class="keyword">print</span> (T)</span><br></pre></td></tr></table></figure>
<pre><code>[[0.99192868 0.50024495]
 [0.02988894 0.01550554]
 [0.27221793 0.89725926]
 [0.60590261 0.12484057]
 [0.98140292 0.25029343]
 [0.18798725 0.41865512]
 [0.36612678 0.3256918 ]
 [0.1141495  0.31578922]
 [0.547363   0.59282924]
 [0.29013267 0.12039521]]
[1.11093093 0.03367151 0.93764427 0.61863005 1.0128171  0.45892409
 0.49002446 0.33578704 0.8068784  0.31412095]
[0.467094   0.47855207 1.27623394 0.20319708 0.24971312 1.14875224
 0.7270172  1.22393672 0.82525299 0.39334121]
</code></pre><h3 id="45-创建一个长度为10的向量，并将向量中最大值替换为0"><a href="#45-创建一个长度为10的向量，并将向量中最大值替换为0" class="headerlink" title="45. 创建一个长度为10的向量，并将向量中最大值替换为0"></a>45. 创建一个长度为10的向量，并将向量中最大值替换为0</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random(<span class="number">10</span>)</span><br><span class="line">Z[Z.argmax()] = <span class="number">0</span></span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[0.55832328 0.4353952  0.13261811 0.60633258 1.         0.46403717
 0.37241254 0.38561917 0.82815613 0.88807826]
</code></pre><h3 id="46-创建一个结构化数组，并实现-x-和-y-坐标覆盖-0-1-x-0-1-区域"><a href="#46-创建一个结构化数组，并实现-x-和-y-坐标覆盖-0-1-x-0-1-区域" class="headerlink" title="46. 创建一个结构化数组，并实现 x 和 y 坐标覆盖 [0,1]x[0,1] 区域"></a>46. 创建一个结构化数组，并实现 x 和 y 坐标覆盖 [0,1]x[0,1] 区域</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros((<span class="number">5</span>,<span class="number">5</span>), [(<span class="string">'x'</span>,float),(<span class="string">'y'</span>,float)])</span><br><span class="line">print(Z)</span><br><span class="line">print(Z.dtype)</span><br><span class="line">Z[<span class="string">'x'</span>], Z[<span class="string">'y'</span>] = np.meshgrid(np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>), np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>))</span><br><span class="line">Z</span><br></pre></td></tr></table></figure>
<pre><code>[[(0., 0.) (0., 0.) (0., 0.) (0., 0.) (0., 0.)]
 [(0., 0.) (0., 0.) (0., 0.) (0., 0.) (0., 0.)]
 [(0., 0.) (0., 0.) (0., 0.) (0., 0.) (0., 0.)]
 [(0., 0.) (0., 0.) (0., 0.) (0., 0.) (0., 0.)]
 [(0., 0.) (0., 0.) (0., 0.) (0., 0.) (0., 0.)]]
[(&apos;x&apos;, &apos;&lt;f8&apos;), (&apos;y&apos;, &apos;&lt;f8&apos;)]





array([[(0.  , 0.  ), (0.25, 0.  ), (0.5 , 0.  ), (0.75, 0.  ),
        (1.  , 0.  )],
       [(0.  , 0.25), (0.25, 0.25), (0.5 , 0.25), (0.75, 0.25),
        (1.  , 0.25)],
       [(0.  , 0.5 ), (0.25, 0.5 ), (0.5 , 0.5 ), (0.75, 0.5 ),
        (1.  , 0.5 )],
       [(0.  , 0.75), (0.25, 0.75), (0.5 , 0.75), (0.75, 0.75),
        (1.  , 0.75)],
       [(0.  , 1.  ), (0.25, 1.  ), (0.5 , 1.  ), (0.75, 1.  ),
        (1.  , 1.  )]], dtype=[(&apos;x&apos;, &apos;&lt;f8&apos;), (&apos;y&apos;, &apos;&lt;f8&apos;)])
</code></pre><h3 id="47-给定两个数组X和Y，构造Cauchy矩阵C-Cij-1-xi-yj"><a href="#47-给定两个数组X和Y，构造Cauchy矩阵C-Cij-1-xi-yj" class="headerlink" title="47. 给定两个数组X和Y，构造Cauchy矩阵C (Cij =1/(xi - yj))"></a>47. 给定两个数组X和Y，构造Cauchy矩阵C (Cij =1/(xi - yj))</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X = np.arange(<span class="number">8</span>)</span><br><span class="line">Y = X + <span class="number">0.5</span></span><br><span class="line">C = <span class="number">1.0</span> / np.subtract.outer(X, Y)</span><br><span class="line">print(np.linalg.det(C))</span><br></pre></td></tr></table></figure>
<pre><code>3638.163637117973
</code></pre><h3 id="48-打印每个numpy标量类型的最小值和最大值？"><a href="#48-打印每个numpy标量类型的最小值和最大值？" class="headerlink" title="48. 打印每个numpy标量类型的最小值和最大值？"></a>48. 打印每个numpy标量类型的最小值和最大值？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> dtype <span class="keyword">in</span> [np.int8, np.int32, np.int64]:</span><br><span class="line">     print(np.iinfo(dtype).min)</span><br><span class="line">     print(np.iinfo(dtype).max)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> dtype <span class="keyword">in</span> [np.float32, np.float64]:</span><br><span class="line">     print(np.finfo(dtype).min)</span><br><span class="line">     print(np.finfo(dtype).max)</span><br><span class="line">     print(np.finfo(dtype).eps)</span><br></pre></td></tr></table></figure>
<pre><code>-128
127
-2147483648
2147483647
-9223372036854775808
9223372036854775807
-3.4028235e+38
3.4028235e+38
1.1920929e-07
-1.7976931348623157e+308
1.7976931348623157e+308
2.220446049250313e-16
</code></pre><h3 id="49-如何打印一个数组中的所有数值"><a href="#49-如何打印一个数组中的所有数值" class="headerlink" title="49. 如何打印一个数组中的所有数值?"></a>49. 如何打印一个数组中的所有数值?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p.set_printoptions(threshold=np.nan)</span><br><span class="line">Z = np.zeros((<span class="number">16</span>,<span class="number">16</span>))</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-136-16a071ac8100&gt; in &lt;module&gt;
----&gt; 1 p.set_printoptions(threshold=np.nan)
      2 # Z = np.zeros((16,16))
      3 # print (Z)


NameError: name &apos;p&apos; is not defined
</code></pre><h3 id="50-给定标量时，如何找到数组中最接近标量的值？"><a href="#50-给定标量时，如何找到数组中最接近标量的值？" class="headerlink" title="50. 给定标量时，如何找到数组中最接近标量的值？"></a>50. 给定标量时，如何找到数组中最接近标量的值？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">100</span>)</span><br><span class="line">v = np.random.uniform(<span class="number">0</span>,<span class="number">100</span>)</span><br><span class="line">index = (np.abs(Z-v)).argmin()</span><br><span class="line"><span class="keyword">print</span> (Z[index])</span><br></pre></td></tr></table></figure>
<pre><code>59
</code></pre><h3 id="51-创建一个表示位置-x-y-和颜色-r-g-b-的结构化数组"><a href="#51-创建一个表示位置-x-y-和颜色-r-g-b-的结构化数组" class="headerlink" title="51. 创建一个表示位置(x,y)和颜色(r,g,b)的结构化数组"></a>51. 创建一个表示位置(x,y)和颜色(r,g,b)的结构化数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.zeros(<span class="number">10</span>, [ (<span class="string">'position'</span>, [ (<span class="string">'x'</span>, float),</span><br><span class="line">                                   (<span class="string">'y'</span>, float)]),</span><br><span class="line">                    (<span class="string">'color'</span>,    [ (<span class="string">'r'</span>, float),</span><br><span class="line">                                   (<span class="string">'g'</span>, float),</span><br><span class="line">                                   (<span class="string">'b'</span>, float)])])</span><br><span class="line">Z</span><br></pre></td></tr></table></figure>
<pre><code>array([((0., 0.), (0., 0., 0.)), ((0., 0.), (0., 0., 0.)),
       ((0., 0.), (0., 0., 0.)), ((0., 0.), (0., 0., 0.)),
       ((0., 0.), (0., 0., 0.)), ((0., 0.), (0., 0., 0.)),
       ((0., 0.), (0., 0., 0.)), ((0., 0.), (0., 0., 0.)),
       ((0., 0.), (0., 0., 0.)), ((0., 0.), (0., 0., 0.))],
      dtype=[(&apos;position&apos;, [(&apos;x&apos;, &apos;&lt;f8&apos;), (&apos;y&apos;, &apos;&lt;f8&apos;)]), (&apos;color&apos;, [(&apos;r&apos;, &apos;&lt;f8&apos;), (&apos;g&apos;, &apos;&lt;f8&apos;), (&apos;b&apos;, &apos;&lt;f8&apos;)])])
</code></pre><h3 id="52-对一个表示坐标形状为-100-2-的随机向量，找到点与点的距离"><a href="#52-对一个表示坐标形状为-100-2-的随机向量，找到点与点的距离" class="headerlink" title="52. 对一个表示坐标形状为(100,2)的随机向量，找到点与点的距离"></a>52. 对一个表示坐标形状为(100,2)的随机向量，找到点与点的距离</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.random((<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">X,Y = np.atleast_2d(Z[:,<span class="number">0</span>], Z[:,<span class="number">1</span>])</span><br><span class="line">D = np.sqrt( (X-X.T)**<span class="number">2</span> + (Y-Y.T)**<span class="number">2</span>)</span><br><span class="line"><span class="keyword">print</span> (D)</span><br></pre></td></tr></table></figure>
<pre><code>[[0.         0.68605697 0.62122652 0.40530072 0.73015265 0.09355197
  0.56261515 0.51426855 0.41227321 0.85367183]
 [0.68605697 0.         0.10265723 0.28166536 0.64689843 0.73311637
  0.80907921 0.32712431 0.60162844 0.50010966]
 [0.62122652 0.10265723 0.         0.2312003  0.55079669 0.65895081
  0.70673619 0.34824116 0.5011675  0.43109473]
 [0.40530072 0.28166536 0.2312003  0.         0.61033959 0.45844664
  0.64946237 0.22328532 0.42686992 0.59168416]
 [0.73015265 0.64689843 0.55079669 0.61033959 0.         0.69214416
  0.33216102 0.8274823  0.32343075 0.28094981]
 [0.09355197 0.73311637 0.65895081 0.45844664 0.69214416 0.
  0.49087977 0.59249732 0.36881779 0.84414133]
 [0.56261515 0.80907921 0.70673619 0.64946237 0.33216102 0.49087977
  0.         0.8673326  0.22259532 0.59768751]
 [0.51426855 0.32712431 0.34824116 0.22328532 0.8274823  0.59249732
  0.8673326  0.         0.64545461 0.77079322]
 [0.41227321 0.60162844 0.5011675  0.42686992 0.32343075 0.36881779
  0.22259532 0.64545461 0.         0.50877578]
 [0.85367183 0.50010966 0.43109473 0.59168416 0.28094981 0.84414133
  0.59768751 0.77079322 0.50877578 0.        ]]
</code></pre><h3 id="53-如何将32位的浮点数-float-转换为对应的整数-integer"><a href="#53-如何将32位的浮点数-float-转换为对应的整数-integer" class="headerlink" title="53. 如何将32位的浮点数(float)转换为对应的整数(integer)?"></a>53. 如何将32位的浮点数(float)转换为对应的整数(integer)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">10</span>, dtype=np.int32)</span><br><span class="line">Z = Z.astype(np.float32, copy=<span class="literal">False</span>)</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]
</code></pre><h3 id="54-如何读取以下文件"><a href="#54-如何读取以下文件" class="headerlink" title="54. 如何读取以下文件?"></a>54. 如何读取以下文件?</h3><h3 id="55-对于numpy数组，enumerate的等价操作是什么？"><a href="#55-对于numpy数组，enumerate的等价操作是什么？" class="headerlink" title="55. 对于numpy数组，enumerate的等价操作是什么？"></a>55. 对于numpy数组，enumerate的等价操作是什么？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> index, value <span class="keyword">in</span> np.ndenumerate(Z):</span><br><span class="line">     <span class="keyword">print</span> (index, value)</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> np.ndindex(Z.shape):</span><br><span class="line">     <span class="keyword">print</span> (index, Z[index])</span><br></pre></td></tr></table></figure>
<pre><code>(0, 0) 0
(0, 1) 1
(0, 2) 2
(1, 0) 3
(1, 1) 4
(1, 2) 5
(2, 0) 6
(2, 1) 7
(2, 2) 8
(0, 0) 0
(0, 1) 1
(0, 2) 2
(1, 0) 3
(1, 1) 4
(1, 2) 5
(2, 0) 6
(2, 1) 7
(2, 2) 8
</code></pre><h3 id="56-生成一个通用的二维Gaussian-like数组"><a href="#56-生成一个通用的二维Gaussian-like数组" class="headerlink" title="56. 生成一个通用的二维Gaussian-like数组"></a>56. 生成一个通用的二维Gaussian-like数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X, Y = np.meshgrid(np.linspace(<span class="number">-1</span>,<span class="number">1</span>,<span class="number">10</span>), np.linspace(<span class="number">-1</span>,<span class="number">1</span>,<span class="number">10</span>))</span><br><span class="line">D = np.sqrt(X*X+Y*Y)</span><br><span class="line">sigma, mu = <span class="number">1.0</span>, <span class="number">0.0</span></span><br><span class="line">G = np.exp(-( (D-mu)**<span class="number">2</span> / ( <span class="number">2.0</span> * sigma**<span class="number">2</span> ) ) )</span><br><span class="line"><span class="keyword">print</span> (G)</span><br></pre></td></tr></table></figure>
<pre><code>[[0.36787944 0.44822088 0.51979489 0.57375342 0.60279818 0.60279818
  0.57375342 0.51979489 0.44822088 0.36787944]
 [0.44822088 0.54610814 0.63331324 0.69905581 0.73444367 0.73444367
  0.69905581 0.63331324 0.54610814 0.44822088]
 [0.51979489 0.63331324 0.73444367 0.81068432 0.85172308 0.85172308
  0.81068432 0.73444367 0.63331324 0.51979489]
 [0.57375342 0.69905581 0.81068432 0.89483932 0.9401382  0.9401382
  0.89483932 0.81068432 0.69905581 0.57375342]
 [0.60279818 0.73444367 0.85172308 0.9401382  0.98773022 0.98773022
  0.9401382  0.85172308 0.73444367 0.60279818]
 [0.60279818 0.73444367 0.85172308 0.9401382  0.98773022 0.98773022
  0.9401382  0.85172308 0.73444367 0.60279818]
 [0.57375342 0.69905581 0.81068432 0.89483932 0.9401382  0.9401382
  0.89483932 0.81068432 0.69905581 0.57375342]
 [0.51979489 0.63331324 0.73444367 0.81068432 0.85172308 0.85172308
  0.81068432 0.73444367 0.63331324 0.51979489]
 [0.44822088 0.54610814 0.63331324 0.69905581 0.73444367 0.73444367
  0.69905581 0.63331324 0.54610814 0.44822088]
 [0.36787944 0.44822088 0.51979489 0.57375342 0.60279818 0.60279818
  0.57375342 0.51979489 0.44822088 0.36787944]]
</code></pre><h3 id="57-对一个二维数组，如何在其内部随机放置p个元素"><a href="#57-对一个二维数组，如何在其内部随机放置p个元素" class="headerlink" title="57. 对一个二维数组，如何在其内部随机放置p个元素?"></a>57. 对一个二维数组，如何在其内部随机放置p个元素?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">10</span></span><br><span class="line">p = <span class="number">3</span></span><br><span class="line">Z = np.zeros((n,n))</span><br><span class="line">np.put(Z, np.random.choice(range(n*n), p, replace=<span class="literal">False</span>),<span class="number">1</span>)</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 1. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
 [0. 0. 1. 0. 0. 0. 0. 0. 0. 0.]]
</code></pre><h3 id="58-减去一个矩阵中的每一行的平均值"><a href="#58-减去一个矩阵中的每一行的平均值" class="headerlink" title="58. 减去一个矩阵中的每一行的平均值"></a>58. 减去一个矩阵中的每一行的平均值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X = np.random.rand(<span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment"># Recent versions of numpy</span></span><br><span class="line">Y = X - X.mean(axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line">print(Y)</span><br></pre></td></tr></table></figure>
<pre><code>[[-0.22370269  0.29733747  0.03664633 -0.11929707  0.38934825 -0.2316397
  -0.27949186  0.10002169  0.27864595 -0.24786837]
 [-0.00062429  0.37487829 -0.02288536 -0.49889723 -0.39944991  0.01501358
  -0.00573352  0.38315633  0.33032148 -0.17577937]
 [-0.37684235  0.09168961  0.32210956 -0.25418135 -0.14166652  0.39539008
  -0.18467775  0.14629638 -0.26168209  0.26356442]
 [ 0.29264838 -0.14639492  0.1428065   0.27245024 -0.03056353 -0.03918195
  -0.16229655  0.00562351 -0.05273503 -0.28235666]
 [-0.2284848  -0.28808201 -0.15736303 -0.05439054 -0.22746016  0.1996868
  -0.19907649  0.55945475  0.50459159 -0.10887613]]
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Older versions of numpy</span></span><br><span class="line">Y = X - X.mean(axis=<span class="number">1</span>).reshape(<span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">print</span> (Y)</span><br></pre></td></tr></table></figure>
<pre><code>[[-0.22370269  0.29733747  0.03664633 -0.11929707  0.38934825 -0.2316397
  -0.27949186  0.10002169  0.27864595 -0.24786837]
 [-0.00062429  0.37487829 -0.02288536 -0.49889723 -0.39944991  0.01501358
  -0.00573352  0.38315633  0.33032148 -0.17577937]
 [-0.37684235  0.09168961  0.32210956 -0.25418135 -0.14166652  0.39539008
  -0.18467775  0.14629638 -0.26168209  0.26356442]
 [ 0.29264838 -0.14639492  0.1428065   0.27245024 -0.03056353 -0.03918195
  -0.16229655  0.00562351 -0.05273503 -0.28235666]
 [-0.2284848  -0.28808201 -0.15736303 -0.05439054 -0.22746016  0.1996868
  -0.19907649  0.55945475  0.50459159 -0.10887613]]
</code></pre><h3 id="59-如何通过第n列对一个数组进行排序"><a href="#59-如何通过第n列对一个数组进行排序" class="headerlink" title="59. 如何通过第n列对一个数组进行排序?"></a>59. 如何通过第n列对一个数组进行排序?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br><span class="line">Z[Z[:,<span class="number">1</span>].argsort()]</span><br></pre></td></tr></table></figure>
<pre><code>[[5 4 8]
 [1 0 2]
 [3 1 9]]





array([[1, 0, 2],
       [3, 1, 9],
       [5, 4, 8]])
</code></pre><h3 id="60-如何检查一个二维数组是否有空列？"><a href="#60-如何检查一个二维数组是否有空列？" class="headerlink" title="60. 如何检查一个二维数组是否有空列？"></a>60. 如何检查一个二维数组是否有空列？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">3</span>,(<span class="number">3</span>,<span class="number">10</span>))</span><br><span class="line"><span class="keyword">print</span> ((~Z.any(axis=<span class="number">0</span>)).any())</span><br></pre></td></tr></table></figure>
<pre><code>False
</code></pre><h3 id="61-从数组中的给定值中找出最近的值"><a href="#61-从数组中的给定值中找出最近的值" class="headerlink" title="61. 从数组中的给定值中找出最近的值"></a>61. 从数组中的给定值中找出最近的值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">z = <span class="number">0.5</span></span><br><span class="line">m = Z.flat[np.abs(Z - z).argmin()]</span><br><span class="line"><span class="keyword">print</span> (m)</span><br></pre></td></tr></table></figure>
<pre><code>0.5589928708513087
</code></pre><h3 id="62-如何用迭代器-iterator-计算两个分别具有形状-1-3-和-3-1-的数组"><a href="#62-如何用迭代器-iterator-计算两个分别具有形状-1-3-和-3-1-的数组" class="headerlink" title="62. 如何用迭代器(iterator)计算两个分别具有形状(1,3)和(3,1)的数组?"></a>62. 如何用迭代器(iterator)计算两个分别具有形状(1,3)和(3,1)的数组?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A = np.arange(<span class="number">3</span>).reshape(<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line">B = np.arange(<span class="number">3</span>).reshape(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">it = np.nditer([A,B,<span class="literal">None</span>])</span><br><span class="line"><span class="keyword">for</span> x,y,z <span class="keyword">in</span> it: </span><br><span class="line">     z[...] = x + y</span><br><span class="line"><span class="keyword">print</span> (it.operands[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[[0 1 2]
 [1 2 3]
 [2 3 4]]
</code></pre><h3 id="63-创建一个具有name属性的数组类"><a href="#63-创建一个具有name属性的数组类" class="headerlink" title="63. 创建一个具有name属性的数组类"></a>63. 创建一个具有name属性的数组类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedArray</span><span class="params">(np.ndarray)</span>:</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, array, name=<span class="string">"no name"</span>)</span>:</span></span><br><span class="line">         obj = np.asarray(array).view(cls)</span><br><span class="line">         obj.name = name</span><br><span class="line">         <span class="keyword">return</span> obj</span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">__array_finalize__</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">         <span class="keyword">if</span> obj <span class="keyword">is</span> <span class="literal">None</span>: <span class="keyword">return</span></span><br><span class="line">         self.info = getattr(obj, <span class="string">'name'</span>, <span class="string">"no name"</span>)</span><br><span class="line"></span><br><span class="line">Z = NamedArray(np.arange(<span class="number">10</span>), <span class="string">"range_10"</span>)</span><br><span class="line"><span class="keyword">print</span> (Z.name)</span><br></pre></td></tr></table></figure>
<pre><code>range_10
</code></pre><h3 id="64-考虑一个给定的向量，如何对由第二个向量索引的每个元素加1-小心重复的索引"><a href="#64-考虑一个给定的向量，如何对由第二个向量索引的每个元素加1-小心重复的索引" class="headerlink" title="64. 考虑一个给定的向量，如何对由第二个向量索引的每个元素加1(小心重复的索引)?"></a>64. 考虑一个给定的向量，如何对由第二个向量索引的每个元素加1(小心重复的索引)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.ones(<span class="number">10</span>)</span><br><span class="line">I = np.random.randint(<span class="number">0</span>,len(Z),<span class="number">20</span>)</span><br><span class="line">Z += np.bincount(I, minlength=len(Z))</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[3. 2. 2. 2. 3. 3. 3. 5. 1. 6.]
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.add.at(Z, I, <span class="number">1</span>)</span><br><span class="line">print(Z)</span><br></pre></td></tr></table></figure>
<pre><code>[ 5.  3.  3.  3.  5.  5.  5.  9.  1. 11.]
</code></pre><h3 id="65-根据索引列表-I-，如何将向量-X-的元素累加到数组-F"><a href="#65-根据索引列表-I-，如何将向量-X-的元素累加到数组-F" class="headerlink" title="65. 根据索引列表(I)，如何将向量(X)的元素累加到数组(F)?"></a>65. 根据索引列表(I)，如何将向量(X)的元素累加到数组(F)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">I = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">F = np.bincount(I,X)</span><br><span class="line"><span class="keyword">print</span> (F)</span><br></pre></td></tr></table></figure>
<pre><code>[0. 7. 0. 6. 5. 0. 0. 0. 0. 3.]
</code></pre><h3 id="66-考虑一个-dtype-ubyte-的-w-h-3-图像，计算其唯一颜色的数量"><a href="#66-考虑一个-dtype-ubyte-的-w-h-3-图像，计算其唯一颜色的数量" class="headerlink" title="66. 考虑一个(dtype=ubyte) 的 (w,h,3)图像，计算其唯一颜色的数量"></a>66. 考虑一个(dtype=ubyte) 的 (w,h,3)图像，计算其唯一颜色的数量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">w,h = <span class="number">16</span>,<span class="number">16</span></span><br><span class="line">I = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,(h,w,<span class="number">3</span>)).astype(np.ubyte)</span><br><span class="line"><span class="comment">#Note that we should compute 256*256 first. </span></span><br><span class="line"><span class="comment">#Otherwise numpy will only promote F.dtype to 'uint16' and overfolw will occur</span></span><br><span class="line">F = I[...,<span class="number">0</span>]*(<span class="number">256</span>*<span class="number">256</span>) + I[...,<span class="number">1</span>]*<span class="number">256</span> +I[...,<span class="number">2</span>]</span><br><span class="line">n = len(np.unique(F))</span><br><span class="line"><span class="keyword">print</span> (n)</span><br></pre></td></tr></table></figure>
<pre><code>8
</code></pre><h3 id="67-考虑一个四维数组，如何一次性计算出最后两个轴-axis-的和？"><a href="#67-考虑一个四维数组，如何一次性计算出最后两个轴-axis-的和？" class="headerlink" title="67. 考虑一个四维数组，如何一次性计算出最后两个轴(axis)的和？"></a>67. 考虑一个四维数组，如何一次性计算出最后两个轴(axis)的和？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"><span class="comment"># solution by passing a tuple of axes (introduced in numpy 1.7.0)</span></span><br><span class="line">sum = A.sum(axis=(<span class="number">-2</span>,<span class="number">-1</span>))</span><br><span class="line"><span class="keyword">print</span> (sum)</span><br></pre></td></tr></table></figure>
<pre><code>[[35 63 58 52]
 [64 43 51 40]
 [32 61 61 67]]
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sum = A.reshape(A.shape[:<span class="number">-2</span>] + (<span class="number">-1</span>,)).sum(axis=<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">print</span> (sum)</span><br></pre></td></tr></table></figure>
<pre><code>[[35 63 58 52]
 [64 43 51 40]
 [32 61 61 67]]
</code></pre><h3 id="68-考虑一个一维向量D，如何使用相同大小的向量S来计算D子集的均值？"><a href="#68-考虑一个一维向量D，如何使用相同大小的向量S来计算D子集的均值？" class="headerlink" title="68. 考虑一个一维向量D，如何使用相同大小的向量S来计算D子集的均值？"></a>68. 考虑一个一维向量D，如何使用相同大小的向量S来计算D子集的均值？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">D = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">S = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">D_sums = np.bincount(S, weights=D)</span><br><span class="line">D_counts = np.bincount(S)</span><br><span class="line">D_means = D_sums / D_counts</span><br><span class="line"><span class="keyword">print</span> (D_means)</span><br></pre></td></tr></table></figure>
<pre><code>[0.40003185 0.74168757 0.53029708 0.57672923 0.55116799 0.55260023
 0.5413465  0.37198828 0.57577261 0.54925535]
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import pandas as pd</span></span><br><span class="line"><span class="comment"># print(pd.Series(D).groupby(S).mean())</span></span><br></pre></td></tr></table></figure>
<h3 id="69-如何获得点积-dot-prodcut的对角线"><a href="#69-如何获得点积-dot-prodcut的对角线" class="headerlink" title="69. 如何获得点积 dot prodcut的对角线?"></a>69. 如何获得点积 dot prodcut的对角线?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,(<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">B = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,(<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line"><span class="comment"># # slow version</span></span><br><span class="line">np.diag(np.dot(A, B))</span><br></pre></td></tr></table></figure>
<pre><code>array([1.90221076, 0.73114449, 0.73911389, 0.71844659, 1.71777083])
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum(A * B.T, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([1.90221076, 0.73114449, 0.73911389, 0.71844659, 1.71777083])
</code></pre><ul>
<li>方法3</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.einsum(<span class="string">"ij,ji-&gt;i"</span>, A, B)</span><br></pre></td></tr></table></figure>
<pre><code>array([1.90221076, 0.73114449, 0.73911389, 0.71844659, 1.71777083])
</code></pre><h3 id="70-考虑一个向量-1-2-3-4-5-如何建立一个新的向量，在这个新向量中每个值之间有3个连续的零？"><a href="#70-考虑一个向量-1-2-3-4-5-如何建立一个新的向量，在这个新向量中每个值之间有3个连续的零？" class="headerlink" title="70. 考虑一个向量[1,2,3,4,5],如何建立一个新的向量，在这个新向量中每个值之间有3个连续的零？"></a>70. 考虑一个向量[1,2,3,4,5],如何建立一个新的向量，在这个新向量中每个值之间有3个连续的零？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Z = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">nz = <span class="number">3</span></span><br><span class="line">Z0 = np.zeros(len(Z) + (len(Z)<span class="number">-1</span>)*(nz))</span><br><span class="line">Z0[::nz+<span class="number">1</span>] = Z</span><br><span class="line"><span class="keyword">print</span> (Z0)</span><br></pre></td></tr></table></figure>
<pre><code>[1. 0. 0. 0. 2. 0. 0. 0. 3. 0. 0. 0. 4. 0. 0. 0. 5.]
</code></pre><h3 id="71-考虑一个维度-5-5-3-的数组，如何将其与一个-5-5-的数组相乘？"><a href="#71-考虑一个维度-5-5-3-的数组，如何将其与一个-5-5-的数组相乘？" class="headerlink" title="71. 考虑一个维度(5,5,3)的数组，如何将其与一个(5,5)的数组相乘？"></a>71. 考虑一个维度(5,5,3)的数组，如何将其与一个(5,5)的数组相乘？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A = np.ones((<span class="number">5</span>,<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line">B = <span class="number">2</span>*np.ones((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line"><span class="keyword">print</span> (A * B[:,:,<span class="literal">None</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[[[2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]]

 [[2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]]

 [[2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]]

 [[2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]]

 [[2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]
  [2. 2. 2.]]]
</code></pre><h3 id="72-如何对一个数组中任意两行做交换"><a href="#72-如何对一个数组中任意两行做交换" class="headerlink" title="72. 如何对一个数组中任意两行做交换?"></a>72. 如何对一个数组中任意两行做交换?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A = np.arange(<span class="number">25</span>).reshape(<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">A[[<span class="number">0</span>,<span class="number">1</span>]] = A[[<span class="number">1</span>,<span class="number">0</span>]]</span><br><span class="line"><span class="keyword">print</span> (A)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 5  6  7  8  9]
 [ 0  1  2  3  4]
 [10 11 12 13 14]
 [15 16 17 18 19]
 [20 21 22 23 24]]
</code></pre><h3 id="73-考虑一个可以描述10个三角形的triplets，找到可以分割全部三角形的line-segment"><a href="#73-考虑一个可以描述10个三角形的triplets，找到可以分割全部三角形的line-segment" class="headerlink" title="73. 考虑一个可以描述10个三角形的triplets，找到可以分割全部三角形的line segment"></a>73. 考虑一个可以描述10个三角形的triplets，找到可以分割全部三角形的line segment</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">faces = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,(<span class="number">10</span>,<span class="number">3</span>))</span><br><span class="line">F = np.roll(faces.repeat(<span class="number">2</span>,axis=<span class="number">1</span>),<span class="number">-1</span>,axis=<span class="number">1</span>)</span><br><span class="line">F = F.reshape(len(F)*<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">F = np.sort(F,axis=<span class="number">1</span>)</span><br><span class="line">G = F.view( dtype=[(<span class="string">'p0'</span>,F.dtype),(<span class="string">'p1'</span>,F.dtype)] )</span><br><span class="line">G = np.unique(G)</span><br><span class="line"><span class="keyword">print</span> (G)</span><br></pre></td></tr></table></figure>
<pre><code>[(11, 33) (11, 44) (13, 25) (13, 87) (14, 39) (14, 55) (16, 84) (16, 96)
 (17, 84) (17, 95) (18, 35) (18, 81) (21, 42) (21, 49) (23, 92) (23, 98)
 (25, 87) (33, 44) (35, 81) (39, 55) (42, 49) (49, 80) (49, 92) (59, 70)
 (59, 77) (70, 77) (80, 92) (84, 95) (84, 96) (92, 98)]
</code></pre><h3 id="74-给定一个二进制的数组C，如何产生一个数组A满足np-bincount-A-C"><a href="#74-给定一个二进制的数组C，如何产生一个数组A满足np-bincount-A-C" class="headerlink" title="74. 给定一个二进制的数组C，如何产生一个数组A满足np.bincount(A)==C"></a>74. 给定一个二进制的数组C，如何产生一个数组A满足np.bincount(A)==C</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C = np.bincount([<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">6</span>])</span><br><span class="line">A = np.repeat(np.arange(len(C)), C)</span><br><span class="line"><span class="keyword">print</span> (A)</span><br></pre></td></tr></table></figure>
<pre><code>[1 1 2 3 4 4 6]
</code></pre><h3 id="75-如何通过滑动窗口计算一个数组的平均数"><a href="#75-如何通过滑动窗口计算一个数组的平均数" class="headerlink" title="75. 如何通过滑动窗口计算一个数组的平均数?"></a>75. 如何通过滑动窗口计算一个数组的平均数?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moving_average</span><span class="params">(a, n=<span class="number">3</span>)</span> :</span></span><br><span class="line">     ret = np.cumsum(a, dtype=float)</span><br><span class="line">     ret[n:] = ret[n:] - ret[:-n]</span><br><span class="line">     <span class="keyword">return</span> ret[n - <span class="number">1</span>:] / n</span><br><span class="line">Z = np.arange(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">print(moving_average(Z, n=<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>[ 1.  2.  3.  4.  5.  6.  7.  8.  9. 10. 11. 12. 13. 14. 15. 16. 17. 18.]
</code></pre><h3 id="76-考虑一个一维数组Z，构建一个二维数组，其第一行为-Z-0-，Z-1-，Z-2-，然后每个后续行移动1-最后一行应该为-Z-3-，Z-2-，Z-1"><a href="#76-考虑一个一维数组Z，构建一个二维数组，其第一行为-Z-0-，Z-1-，Z-2-，然后每个后续行移动1-最后一行应该为-Z-3-，Z-2-，Z-1" class="headerlink" title="76. 考虑一个一维数组Z，构建一个二维数组，其第一行为(Z[0]，Z[1]，Z[2])，然后每个后续行移动1(最后一行应该为(Z[-3]，Z[-2]，Z[-1])"></a>76. 考虑一个一维数组Z，构建一个二维数组，其第一行为(Z[0]，Z[1]，Z[2])，然后每个后续行移动1(最后一行应该为(Z[-3]，Z[-2]，Z[-1])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy.lib <span class="keyword">import</span> stride_tricks</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rolling</span><span class="params">(a, window)</span>:</span></span><br><span class="line">     shape = (a.size - window + <span class="number">1</span>, window)</span><br><span class="line">     strides = (a.itemsize, a.itemsize)</span><br><span class="line">     <span class="keyword">return</span> stride_tricks.as_strided(a, shape=shape, strides=strides)</span><br><span class="line">Z = rolling(np.arange(<span class="number">10</span>), <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 1 2]
 [1 2 3]
 [2 3 4]
 [3 4 5]
 [4 5 6]
 [5 6 7]
 [6 7 8]
 [7 8 9]]
</code></pre><h3 id="77-如何对布尔值取反，或者原位-in-place-改变浮点数的符号-sign-？"><a href="#77-如何对布尔值取反，或者原位-in-place-改变浮点数的符号-sign-？" class="headerlink" title="77. 如何对布尔值取反，或者原位(in-place)改变浮点数的符号(sign)？"></a>77. 如何对布尔值取反，或者原位(in-place)改变浮点数的符号(sign)？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">100</span>)</span><br><span class="line">np.logical_not(Z, out=Z)</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1,
       1, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0,
       0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
       0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.uniform(<span class="number">-1.0</span>,<span class="number">1.0</span>,<span class="number">100</span>)</span><br><span class="line">np.negative(Z, out=Z)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 0.23689681, -0.1057382 , -0.57698282, -0.83485527, -0.56592412,
        0.52906058,  0.87636873,  0.79456037, -0.84943243, -0.02862234,
       -0.27874639,  0.53982869, -0.92819707, -0.84933822, -0.72655128,
       -0.27991263, -0.38821443, -0.89064306, -0.6238352 , -0.70331099,
        0.33032683, -0.62906234, -0.60486077,  0.19187415, -0.07665583,
        0.94393027,  0.94226737,  0.78399481,  0.03917581, -0.97886888,
        0.3023522 ,  0.8854273 ,  0.43260069, -0.5108798 ,  0.08447692,
        0.8094311 , -0.02961588,  0.43797035,  0.53489813, -0.23148178,
        0.50132491, -0.11907561, -0.41351587,  0.77849175, -0.08522882,
        0.01426253,  0.52019255, -0.10827315, -0.37614668,  0.77433187,
        0.36585315, -0.68845912, -0.59425059,  0.79725862,  0.8208273 ,
       -0.71978436, -0.02122081,  0.19379665, -0.06794473, -0.3887197 ,
       -0.32546326,  0.73797113, -0.17697576, -0.21162741,  0.71927392,
       -0.6944913 ,  0.05130906,  0.87329243,  0.65334172,  0.73613569,
       -0.27170543,  0.10374602, -0.24059875, -0.72685295,  0.46246967,
        0.0853352 ,  0.38266084, -0.18466922, -0.1979213 , -0.24355838,
       -0.4658587 , -0.65447698, -0.21552133,  0.60630034,  0.76115048,
       -0.45606078, -0.89412734,  0.5211218 ,  0.37955327,  0.42356571,
        0.7953681 , -0.43269998, -0.9698459 ,  0.95951107, -0.24806371,
        0.35883848,  0.17046673, -0.31071932, -0.23371407, -0.45192508])
</code></pre><h3 id="78-考虑两组点集P0和P1去描述一组线-二维-和一个点p-如何计算点p到每一条线-i-P0-i-P1-i-的距离？"><a href="#78-考虑两组点集P0和P1去描述一组线-二维-和一个点p-如何计算点p到每一条线-i-P0-i-P1-i-的距离？" class="headerlink" title="78. 考虑两组点集P0和P1去描述一组线(二维)和一个点p,如何计算点p到每一条线 i (P0[i],P1[i])的距离？"></a>78. 考虑两组点集P0和P1去描述一组线(二维)和一个点p,如何计算点p到每一条线 i (P0[i],P1[i])的距离？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">distance</span><span class="params">(P0, P1, p)</span>:</span></span><br><span class="line">     T = P1 - P0</span><br><span class="line">     L = (T**<span class="number">2</span>).sum(axis=<span class="number">1</span>)</span><br><span class="line">     U = -((P0[:,<span class="number">0</span>]-p[...,<span class="number">0</span>])*T[:,<span class="number">0</span>] + (P0[:,<span class="number">1</span>]-p[...,<span class="number">1</span>])*T[:,<span class="number">1</span>]) / L</span><br><span class="line">     U = U.reshape(len(U),<span class="number">1</span>)</span><br><span class="line">     D = P0 + U*T - p</span><br><span class="line">     <span class="keyword">return</span> np.sqrt((D**<span class="number">2</span>).sum(axis=<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">P0 = np.random.uniform(<span class="number">-10</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">P1 = np.random.uniform(<span class="number">-10</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">p  = np.random.uniform(<span class="number">-10</span>,<span class="number">10</span>,( <span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (distance(P0, P1, p))</span><br></pre></td></tr></table></figure>
<pre><code>[6.73003936 3.25658553 8.43503749 8.03999863 2.52898731 2.10311161
 1.37978063 0.66841085 6.59364144 1.56923099]
</code></pre><h3 id="79-考虑两组点集P0和P1去描述一组线-二维-和一组点集P，如何计算每一个点-j-P-j-到每一条线-i-P0-i-P1-i-的距离？"><a href="#79-考虑两组点集P0和P1去描述一组线-二维-和一组点集P，如何计算每一个点-j-P-j-到每一条线-i-P0-i-P1-i-的距离？" class="headerlink" title="79.考虑两组点集P0和P1去描述一组线(二维)和一组点集P，如何计算每一个点 j(P[j]) 到每一条线 i (P0[i],P1[i])的距离？"></a>79.考虑两组点集P0和P1去描述一组线(二维)和一组点集P，如何计算每一个点 j(P[j]) 到每一条线 i (P0[i],P1[i])的距离？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># based on distance function from previous question</span></span><br><span class="line">P0 = np.random.uniform(<span class="number">-10</span>, <span class="number">10</span>, (<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">P1 = np.random.uniform(<span class="number">-10</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line">p = np.random.uniform(<span class="number">-10</span>, <span class="number">10</span>, (<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line"><span class="keyword">print</span> (np.array([distance(P0,P1,p_i) <span class="keyword">for</span> p_i <span class="keyword">in</span> p]))</span><br></pre></td></tr></table></figure>
<pre><code>[[13.07041481  0.34376075 16.58732696 14.87969545  4.11962738  5.42144091
  12.11842537  3.68644762 12.40317974  3.09689636]
 [ 8.31670675 10.27424599  3.2826011   3.52519444 10.00075179  2.84898481
   9.65299862 11.41398094  7.30142854  1.88829117]
 [ 6.77924397 10.58975518  1.62351305  1.82484002  8.59935901  1.34441665
   8.19193867  9.71657604  6.60203043  3.04720539]
 [ 5.31162447  7.15368953 10.15848703  9.47767034  2.94628246  5.49623871
   3.86868708  0.27595815  2.83153155  6.28099959]
 [ 3.44438221  4.17789976  7.58912946  6.50592271  7.00008457  1.4819549
   2.34424003  3.25599879  3.70548935  2.2971877 ]
 [ 2.36688408  3.25851654  1.37656162  0.17449453 12.04923635  3.97454356
   3.20458239  9.51687426  0.88033642  1.81179476]
 [ 1.4752091  12.1742076   4.20617443  4.21460366  3.31482283  4.26452794
   3.19931119  3.57944931  4.51890055  7.53817263]
 [ 5.46643964  8.63921896 10.63642071 10.15728999  1.48642797  6.87406001
   3.8756232   1.27141727  1.93560503  7.84232163]
 [ 6.41793965  0.50870998  9.88281153  8.29794915  8.17165084  0.78199922
   5.58269127  2.40028245  7.90280833  0.28608886]
 [10.37689182  3.50154975 14.62120512 13.43886767  2.58517684  6.4955299
   9.13465077  3.20719531  8.25437731  5.43698872]]
</code></pre><h3 id="80-考虑一个任意数组，编写一个函数来提取形状固定且以给定元素为中心的子部分-必要时使用填充值填充"><a href="#80-考虑一个任意数组，编写一个函数来提取形状固定且以给定元素为中心的子部分-必要时使用填充值填充" class="headerlink" title="80.考虑一个任意数组，编写一个函数来提取形状固定且以给定元素为中心的子部分(必要时使用填充值填充)"></a>80.考虑一个任意数组，编写一个函数来提取形状固定且以给定元素为中心的子部分(必要时使用填充值填充)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">shape = (<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">fill  = <span class="number">0</span></span><br><span class="line">position = (<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">R = np.ones(shape, dtype=Z.dtype)*fill</span><br><span class="line">P  = np.array(list(position)).astype(int)</span><br><span class="line">Rs = np.array(list(R.shape)).astype(int)</span><br><span class="line">Zs = np.array(list(Z.shape)).astype(int)</span><br><span class="line"></span><br><span class="line">R_start = np.zeros((len(shape),)).astype(int)</span><br><span class="line">R_stop  = np.array(list(shape)).astype(int)</span><br><span class="line">Z_start = (P-Rs//<span class="number">2</span>)</span><br><span class="line">Z_stop  = (P+Rs//<span class="number">2</span>)+Rs%<span class="number">2</span></span><br><span class="line"></span><br><span class="line">R_start = (R_start - np.minimum(Z_start,<span class="number">0</span>)).tolist()</span><br><span class="line">Z_start = (np.maximum(Z_start,<span class="number">0</span>)).tolist()</span><br><span class="line">R_stop = np.maximum(R_start, (R_stop - np.maximum(Z_stop-Zs,<span class="number">0</span>))).tolist()</span><br><span class="line">Z_stop = (np.minimum(Z_stop,Zs)).tolist()</span><br><span class="line"></span><br><span class="line">r = [slice(start,stop) <span class="keyword">for</span> start,stop <span class="keyword">in</span> zip(R_start,R_stop)]</span><br><span class="line">z = [slice(start,stop) <span class="keyword">for</span> start,stop <span class="keyword">in</span> zip(Z_start,Z_stop)]</span><br><span class="line">R[r] = Z[z]</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br><span class="line"><span class="keyword">print</span> (R)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 8 6 0 0 3 1 3 0 5]
 [6 3 1 0 6 4 4 0 4 1]
 [1 4 8 9 6 5 0 8 1 2]
 [7 5 6 8 6 1 1 8 4 0]
 [7 9 1 4 9 5 1 5 8 1]
 [3 0 8 9 1 7 2 5 6 7]
 [7 5 0 1 1 3 8 7 0 4]
 [5 0 1 4 6 8 7 3 7 7]
 [0 9 7 4 8 4 9 0 0 6]
 [5 5 9 7 5 4 4 1 8 5]]
[[0 0 0 0 0]
 [0 1 8 6 0]
 [0 6 3 1 0]
 [0 1 4 8 9]
 [0 7 5 6 8]]


/Users/admin/.virtualenvs/numpy/lib/python3.7/site-packages/ipykernel_launcher.py:23: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
</code></pre><h3 id="81-考虑一个数组Z-1-2-3-4-5-6-7-8-9-10-11-12-13-14-如何生成一个数组R-1-2-3-4-2-3-4-5-3-4-5-6-…-11-12-13-14"><a href="#81-考虑一个数组Z-1-2-3-4-5-6-7-8-9-10-11-12-13-14-如何生成一个数组R-1-2-3-4-2-3-4-5-3-4-5-6-…-11-12-13-14" class="headerlink" title="81. 考虑一个数组Z = [1,2,3,4,5,6,7,8,9,10,11,12,13,14],如何生成一个数组R = [[1,2,3,4], [2,3,4,5], [3,4,5,6], …,[11,12,13,14]]?"></a>81. 考虑一个数组Z = [1,2,3,4,5,6,7,8,9,10,11,12,13,14],如何生成一个数组R = [[1,2,3,4], [2,3,4,5], [3,4,5,6], …,[11,12,13,14]]?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">1</span>,<span class="number">15</span>,dtype=np.uint32)</span><br><span class="line">R = stride_tricks.as_strided(Z,(<span class="number">11</span>,<span class="number">4</span>),(<span class="number">4</span>,<span class="number">4</span>))</span><br><span class="line"><span class="keyword">print</span> (R)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 1  2  3  4]
 [ 2  3  4  5]
 [ 3  4  5  6]
 [ 4  5  6  7]
 [ 5  6  7  8]
 [ 6  7  8  9]
 [ 7  8  9 10]
 [ 8  9 10 11]
 [ 9 10 11 12]
 [10 11 12 13]
 [11 12 13 14]]
</code></pre><h3 id="82-计算一个矩阵的秩"><a href="#82-计算一个矩阵的秩" class="headerlink" title="82. 计算一个矩阵的秩"></a>82. 计算一个矩阵的秩</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">U, S, V = np.linalg.svd(Z) <span class="comment"># Singular Value Decomposition</span></span><br><span class="line">rank = np.sum(S &gt; <span class="number">1e-10</span>)</span><br><span class="line"><span class="keyword">print</span> (rank)</span><br></pre></td></tr></table></figure>
<pre><code>10
</code></pre><h3 id="83-如何找到一个数组中出现频率最高的值？"><a href="#83-如何找到一个数组中出现频率最高的值？" class="headerlink" title="83. 如何找到一个数组中出现频率最高的值？"></a>83. 如何找到一个数组中出现频率最高的值？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,<span class="number">50</span>)</span><br><span class="line"><span class="keyword">print</span> (np.bincount(Z).argmax())</span><br></pre></td></tr></table></figure>
<pre><code>3
</code></pre><h3 id="84-从一个10x10的矩阵中提取出连续的3x3区块"><a href="#84-从一个10x10的矩阵中提取出连续的3x3区块" class="headerlink" title="84. 从一个10x10的矩阵中提取出连续的3x3区块"></a>84. 从一个10x10的矩阵中提取出连续的3x3区块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">n = <span class="number">3</span></span><br><span class="line">i = <span class="number">1</span> + (Z.shape[<span class="number">0</span>]<span class="number">-3</span>)</span><br><span class="line">j = <span class="number">1</span> + (Z.shape[<span class="number">1</span>]<span class="number">-3</span>)</span><br><span class="line">C = stride_tricks.as_strided(Z, shape=(i, j, n, n), strides=Z.strides + Z.strides)</span><br><span class="line"><span class="keyword">print</span> (C)</span><br></pre></td></tr></table></figure>
<pre><code>[[[[3 2 0]
   [2 2 2]
   [1 1 4]]

  [[2 0 3]
   [2 2 2]
   [1 4 4]]

  [[0 3 1]
   [2 2 2]
   [4 4 4]]

  [[3 1 3]
   [2 2 2]
   [4 4 2]]

  [[1 3 1]
   [2 2 0]
   [4 2 0]]

  [[3 1 1]
   [2 0 1]
   [2 0 1]]

  [[1 1 3]
   [0 1 3]
   [0 1 3]]

  [[1 3 0]
   [1 3 2]
   [1 3 1]]]


 [[[2 2 2]
   [1 1 4]
   [3 2 0]]

  [[2 2 2]
   [1 4 4]
   [2 0 2]]

  [[2 2 2]
   [4 4 4]
   [0 2 4]]

  [[2 2 2]
   [4 4 2]
   [2 4 3]]

  [[2 2 0]
   [4 2 0]
   [4 3 1]]

  [[2 0 1]
   [2 0 1]
   [3 1 3]]

  [[0 1 3]
   [0 1 3]
   [1 3 2]]

  [[1 3 2]
   [1 3 1]
   [3 2 4]]]


 [[[1 1 4]
   [3 2 0]
   [0 4 3]]

  [[1 4 4]
   [2 0 2]
   [4 3 1]]

  [[4 4 4]
   [0 2 4]
   [3 1 4]]

  [[4 4 2]
   [2 4 3]
   [1 4 4]]

  [[4 2 0]
   [4 3 1]
   [4 4 4]]

  [[2 0 1]
   [3 1 3]
   [4 4 2]]

  [[0 1 3]
   [1 3 2]
   [4 2 1]]

  [[1 3 1]
   [3 2 4]
   [2 1 1]]]


 [[[3 2 0]
   [0 4 3]
   [4 2 3]]

  [[2 0 2]
   [4 3 1]
   [2 3 0]]

  [[0 2 4]
   [3 1 4]
   [3 0 1]]

  [[2 4 3]
   [1 4 4]
   [0 1 4]]

  [[4 3 1]
   [4 4 4]
   [1 4 2]]

  [[3 1 3]
   [4 4 2]
   [4 2 3]]

  [[1 3 2]
   [4 2 1]
   [2 3 3]]

  [[3 2 4]
   [2 1 1]
   [3 3 2]]]


 [[[0 4 3]
   [4 2 3]
   [4 1 2]]

  [[4 3 1]
   [2 3 0]
   [1 2 4]]

  [[3 1 4]
   [3 0 1]
   [2 4 3]]

  [[1 4 4]
   [0 1 4]
   [4 3 4]]

  [[4 4 4]
   [1 4 2]
   [3 4 2]]

  [[4 4 2]
   [4 2 3]
   [4 2 1]]

  [[4 2 1]
   [2 3 3]
   [2 1 1]]

  [[2 1 1]
   [3 3 2]
   [1 1 3]]]


 [[[4 2 3]
   [4 1 2]
   [4 2 3]]

  [[2 3 0]
   [1 2 4]
   [2 3 4]]

  [[3 0 1]
   [2 4 3]
   [3 4 2]]

  [[0 1 4]
   [4 3 4]
   [4 2 4]]

  [[1 4 2]
   [3 4 2]
   [2 4 0]]

  [[4 2 3]
   [4 2 1]
   [4 0 3]]

  [[2 3 3]
   [2 1 1]
   [0 3 0]]

  [[3 3 2]
   [1 1 3]
   [3 0 4]]]


 [[[4 1 2]
   [4 2 3]
   [1 1 2]]

  [[1 2 4]
   [2 3 4]
   [1 2 1]]

  [[2 4 3]
   [3 4 2]
   [2 1 0]]

  [[4 3 4]
   [4 2 4]
   [1 0 3]]

  [[3 4 2]
   [2 4 0]
   [0 3 4]]

  [[4 2 1]
   [4 0 3]
   [3 4 0]]

  [[2 1 1]
   [0 3 0]
   [4 0 2]]

  [[1 1 3]
   [3 0 4]
   [0 2 4]]]


 [[[4 2 3]
   [1 1 2]
   [1 1 4]]

  [[2 3 4]
   [1 2 1]
   [1 4 3]]

  [[3 4 2]
   [2 1 0]
   [4 3 4]]

  [[4 2 4]
   [1 0 3]
   [3 4 3]]

  [[2 4 0]
   [0 3 4]
   [4 3 0]]

  [[4 0 3]
   [3 4 0]
   [3 0 2]]

  [[0 3 0]
   [4 0 2]
   [0 2 0]]

  [[3 0 4]
   [0 2 4]
   [2 0 1]]]]
</code></pre><h3 id="85-创建一个满足-Z-i-j-Z-j-i-的子类"><a href="#85-创建一个满足-Z-i-j-Z-j-i-的子类" class="headerlink" title="85. 创建一个满足 Z[i,j] == Z[j,i]的子类"></a>85. 创建一个满足 Z[i,j] == Z[j,i]的子类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Symetric</span><span class="params">(np.ndarray)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self, index, value)</span>:</span></span><br><span class="line">        i,j = index</span><br><span class="line">        super(Symetric, self).__setitem__((i,j), value)</span><br><span class="line">        super(Symetric, self).__setitem__((j,i), value)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">symetric</span><span class="params">(Z)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> np.asarray(Z + Z.T - np.diag(Z.diagonal())).view(Symetric)</span><br><span class="line"></span><br><span class="line">S = symetric(np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">5</span>,<span class="number">5</span>)))</span><br><span class="line">S[<span class="number">2</span>,<span class="number">3</span>] = <span class="number">42</span></span><br><span class="line"><span class="keyword">print</span> (S)</span><br></pre></td></tr></table></figure>
<pre><code>[[ 2 12  8 13  5]
 [12  9 13 12  7]
 [ 8 13  0 42  6]
 [13 12 42  6  5]
 [ 5  7  6  5  1]]
</code></pre><h3 id="86-考虑p个-nxn-矩阵和一组形状为-n-1-的向量，如何直接计算p个矩阵的乘积-n-1-？"><a href="#86-考虑p个-nxn-矩阵和一组形状为-n-1-的向量，如何直接计算p个矩阵的乘积-n-1-？" class="headerlink" title="86. 考虑p个 nxn 矩阵和一组形状为(n,1)的向量，如何直接计算p个矩阵的乘积(n,1)？"></a>86. 考虑p个 nxn 矩阵和一组形状为(n,1)的向量，如何直接计算p个矩阵的乘积(n,1)？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">p, n = <span class="number">10</span>, <span class="number">20</span></span><br><span class="line">M = np.ones((p,n,n))</span><br><span class="line">V = np.ones((p,n,<span class="number">1</span>))</span><br><span class="line">S = np.tensordot(M, V, axes=[[<span class="number">0</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="keyword">print</span> (S)</span><br><span class="line"><span class="comment"># It works, because:</span></span><br><span class="line">M <span class="keyword">is</span> (p,n,n)</span><br><span class="line">V <span class="keyword">is</span> (p,n,<span class="number">1</span>)</span><br><span class="line"><span class="comment"># Thus, summing over the paired axes 0 and 0 (of M and V independently),</span></span><br><span class="line"><span class="comment"># and 2 and 1, to remain with a (n,1) vector.</span></span><br></pre></td></tr></table></figure>
<pre><code>[[200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]
 [200.]]





False
</code></pre><h3 id="87-对于一个16x16的数组，如何得到一个区域-block-sum-的和-区域大小为4x4"><a href="#87-对于一个16x16的数组，如何得到一个区域-block-sum-的和-区域大小为4x4" class="headerlink" title="87. 对于一个16x16的数组，如何得到一个区域(block-sum)的和(区域大小为4x4)?"></a>87. 对于一个16x16的数组，如何得到一个区域(block-sum)的和(区域大小为4x4)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Z = np.ones((<span class="number">16</span>,<span class="number">16</span>))</span><br><span class="line">k = <span class="number">4</span></span><br><span class="line">S = np.add.reduceat(np.add.reduceat(Z, np.arange(<span class="number">0</span>, Z.shape[<span class="number">0</span>], k), axis=<span class="number">0</span>),</span><br><span class="line">                                       np.arange(<span class="number">0</span>, Z.shape[<span class="number">1</span>], k), axis=<span class="number">1</span>)</span><br><span class="line"><span class="keyword">print</span> (S)</span><br></pre></td></tr></table></figure>
<pre><code>[[16. 16. 16. 16.]
 [16. 16. 16. 16.]
 [16. 16. 16. 16.]
 [16. 16. 16. 16.]]
</code></pre><h3 id="88-如何利用numpy数组实现Game-of-Life"><a href="#88-如何利用numpy数组实现Game-of-Life" class="headerlink" title="88. 如何利用numpy数组实现Game of Life?"></a>88. 如何利用numpy数组实现Game of Life?</h3><p>(提示: <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" target="_blank" rel="noopener">Game of Life</a>)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">iterate</span><span class="params">(Z)</span>:</span></span><br><span class="line">    <span class="comment"># Count neighbours</span></span><br><span class="line">    N = (Z[<span class="number">0</span>:<span class="number">-2</span>,<span class="number">0</span>:<span class="number">-2</span>] + Z[<span class="number">0</span>:<span class="number">-2</span>,<span class="number">1</span>:<span class="number">-1</span>] + Z[<span class="number">0</span>:<span class="number">-2</span>,<span class="number">2</span>:] +</span><br><span class="line">         Z[<span class="number">1</span>:<span class="number">-1</span>,<span class="number">0</span>:<span class="number">-2</span>]                + Z[<span class="number">1</span>:<span class="number">-1</span>,<span class="number">2</span>:] +</span><br><span class="line">         Z[<span class="number">2</span>:  ,<span class="number">0</span>:<span class="number">-2</span>] + Z[<span class="number">2</span>:  ,<span class="number">1</span>:<span class="number">-1</span>] + Z[<span class="number">2</span>:  ,<span class="number">2</span>:])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Apply rules</span></span><br><span class="line">    birth = (N==<span class="number">3</span>) &amp; (Z[<span class="number">1</span>:<span class="number">-1</span>,<span class="number">1</span>:<span class="number">-1</span>]==<span class="number">0</span>)</span><br><span class="line">    survive = ((N==<span class="number">2</span>) | (N==<span class="number">3</span>)) &amp; (Z[<span class="number">1</span>:<span class="number">-1</span>,<span class="number">1</span>:<span class="number">-1</span>]==<span class="number">1</span>)</span><br><span class="line">    Z[...] = <span class="number">0</span></span><br><span class="line">    Z[<span class="number">1</span>:<span class="number">-1</span>,<span class="number">1</span>:<span class="number">-1</span>][birth | survive] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> Z</span><br><span class="line"></span><br><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,(<span class="number">50</span>,<span class="number">50</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>): Z = iterate(Z)</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
</code></pre><h3 id="89-如何找到一个数组的第n个最大值"><a href="#89-如何找到一个数组的第n个最大值" class="headerlink" title="89. 如何找到一个数组的第n个最大值?"></a>89. 如何找到一个数组的第n个最大值?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.arange(<span class="number">10000</span>)</span><br><span class="line">np.random.shuffle(Z)</span><br><span class="line">n = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Slow</span></span><br><span class="line"><span class="keyword">print</span> (Z[np.argsort(Z)[-n:]])</span><br></pre></td></tr></table></figure>
<pre><code>[9995 9996 9997 9998 9999]
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # Fast</span></span><br><span class="line"><span class="keyword">print</span> (Z[np.argpartition(-Z,n)[:n]])</span><br></pre></td></tr></table></figure>
<pre><code>[9999 9998 9997 9996 9995]
</code></pre><h3 id="90-给定任意个数向量，创建笛卡尔积-每一个元素的每一种组合"><a href="#90-给定任意个数向量，创建笛卡尔积-每一个元素的每一种组合" class="headerlink" title="90. 给定任意个数向量，创建笛卡尔积(每一个元素的每一种组合)"></a>90. 给定任意个数向量，创建笛卡尔积(每一个元素的每一种组合)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cartesian</span><span class="params">(arrays)</span>:</span></span><br><span class="line">    arrays = [np.asarray(a) <span class="keyword">for</span> a <span class="keyword">in</span> arrays]</span><br><span class="line">    shape = (len(x) <span class="keyword">for</span> x <span class="keyword">in</span> arrays)</span><br><span class="line"></span><br><span class="line">    ix = np.indices(shape, dtype=int)</span><br><span class="line">    ix = ix.reshape(len(arrays), <span class="number">-1</span>).T</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n, arr <span class="keyword">in</span> enumerate(arrays):</span><br><span class="line">        ix[:, n] = arrays[n][ix[:, n]]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ix</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (cartesian(([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>])))</span><br></pre></td></tr></table></figure>
<pre><code>[[1 4 6]
 [1 4 7]
 [1 5 6]
 [1 5 7]
 [2 4 6]
 [2 4 7]
 [2 5 6]
 [2 5 7]
 [3 4 6]
 [3 4 7]
 [3 5 6]
 [3 5 7]]
</code></pre><h3 id="91-如何从一个正常数组创建记录数组-record-array"><a href="#91-如何从一个正常数组创建记录数组-record-array" class="headerlink" title="91. 如何从一个正常数组创建记录数组(record array)?"></a>91. 如何从一个正常数组创建记录数组(record array)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Z = np.array([(<span class="string">"Hello"</span>, <span class="number">2.5</span>, <span class="number">3</span>),</span><br><span class="line">              (<span class="string">"World"</span>, <span class="number">3.6</span>, <span class="number">2</span>)])</span><br><span class="line">R = np.core.records.fromarrays(Z.T, </span><br><span class="line">                               names=<span class="string">'col1, col2, col3'</span>,</span><br><span class="line">                               formats = <span class="string">'S8, f8, i8'</span>)</span><br><span class="line"><span class="keyword">print</span> (R)</span><br></pre></td></tr></table></figure>
<pre><code>[(b&apos;Hello&apos;, 2.5, 3) (b&apos;World&apos;, 3.6, 2)]
</code></pre><h3 id="92-考虑一个大向量Z-用三种不同的方法计算它的立方"><a href="#92-考虑一个大向量Z-用三种不同的方法计算它的立方" class="headerlink" title="92. 考虑一个大向量Z, 用三种不同的方法计算它的立方"></a>92. 考虑一个大向量Z, 用三种不同的方法计算它的立方</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.rand()</span><br><span class="line">np.power(x,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>0.000911010785045678
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x*x*x</span><br></pre></td></tr></table></figure>
<pre><code>0.000911010785045678
</code></pre><h3 id="93-考虑两个形状分别为-8-3-和-2-2-的数组A和B-如何在数组A中找到满足包含B中元素的行？-不考虑B中每行元素顺序-？"><a href="#93-考虑两个形状分别为-8-3-和-2-2-的数组A和B-如何在数组A中找到满足包含B中元素的行？-不考虑B中每行元素顺序-？" class="headerlink" title="93. 考虑两个形状分别为(8,3) 和(2,2)的数组A和B. 如何在数组A中找到满足包含B中元素的行？(不考虑B中每行元素顺序)？"></a>93. 考虑两个形状分别为(8,3) 和(2,2)的数组A和B. 如何在数组A中找到满足包含B中元素的行？(不考虑B中每行元素顺序)？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">8</span>,<span class="number">3</span>))</span><br><span class="line">B = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">2</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">C = (A[..., np.newaxis, np.newaxis] == B)</span><br><span class="line">rows = np.where(C.any((<span class="number">3</span>,<span class="number">1</span>)).all(<span class="number">1</span>))[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">print</span> (rows)</span><br></pre></td></tr></table></figure>
<pre><code>[1 4 6 7]
</code></pre><h3 id="94-考虑一个10x3的矩阵，分解出有不全相同值的行-如-2-2-3"><a href="#94-考虑一个10x3的矩阵，分解出有不全相同值的行-如-2-2-3" class="headerlink" title="94. 考虑一个10x3的矩阵，分解出有不全相同值的行 (如 [2,2,3])"></a>94. 考虑一个10x3的矩阵，分解出有不全相同值的行 (如 [2,2,3])</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">10</span>,<span class="number">3</span>))</span><br><span class="line"><span class="keyword">print</span> (Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># solution for arrays of all dtypes (including string arrays and record arrays)</span></span><br><span class="line">E = np.all(Z[:,<span class="number">1</span>:] == Z[:,:<span class="number">-1</span>], axis=<span class="number">1</span>)</span><br><span class="line">U = Z[~E]</span><br><span class="line"><span class="keyword">print</span> (U)</span><br></pre></td></tr></table></figure>
<pre><code>[[2 2 4]
 [2 0 4]
 [1 1 2]
 [3 0 2]
 [0 1 1]
 [2 4 0]
 [1 2 0]
 [1 3 2]
 [3 3 3]
 [3 1 1]]
[[2 2 4]
 [2 0 4]
 [1 1 2]
 [3 0 2]
 [0 1 1]
 [2 4 0]
 [1 2 0]
 [1 3 2]
 [3 1 1]]
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># soluiton for numerical arrays only, will work for any number of columns in Z</span></span><br><span class="line">U = Z[Z.max(axis=<span class="number">1</span>) != Z.min(axis=<span class="number">1</span>),:]</span><br><span class="line"><span class="keyword">print</span> (U)</span><br></pre></td></tr></table></figure>
<pre><code>[[2 2 4]
 [2 0 4]
 [1 1 2]
 [3 0 2]
 [0 1 1]
 [2 4 0]
 [1 2 0]
 [1 3 2]
 [3 1 1]]
</code></pre><h3 id="95-将一个整数向量转换为matrix-binary的表现形式"><a href="#95-将一个整数向量转换为matrix-binary的表现形式" class="headerlink" title="95. 将一个整数向量转换为matrix binary的表现形式"></a>95. 将一个整数向量转换为matrix binary的表现形式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">I = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>])</span><br><span class="line">B = ((I.reshape(<span class="number">-1</span>,<span class="number">1</span>) &amp; (<span class="number">2</span>**np.arange(<span class="number">8</span>))) != <span class="number">0</span>).astype(int)</span><br><span class="line">print(B[:,::<span class="number">-1</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[[0 0 0 0 0 0 0 0]
 [0 0 0 0 0 0 0 1]
 [0 0 0 0 0 0 1 0]
 [0 0 0 0 0 0 1 1]
 [0 0 0 0 1 1 1 1]
 [0 0 0 1 0 0 0 0]
 [0 0 1 0 0 0 0 0]
 [0 1 0 0 0 0 0 0]
 [1 0 0 0 0 0 0 0]]
</code></pre><ul>
<li>方法2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print (np.unpackbits(I[:, np.newaxis], axis=1))</span></span><br></pre></td></tr></table></figure>
<h3 id="96-给定一个二维数组，如何提取出唯一的-unique-行"><a href="#96-给定一个二维数组，如何提取出唯一的-unique-行" class="headerlink" title="96. 给定一个二维数组，如何提取出唯一的(unique)行?"></a>96. 给定一个二维数组，如何提取出唯一的(unique)行?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Z = np.random.randint(<span class="number">0</span>,<span class="number">2</span>,(<span class="number">6</span>,<span class="number">3</span>))</span><br><span class="line">T = np.ascontiguousarray(Z).view(np.dtype((np.void, Z.dtype.itemsize * Z.shape[<span class="number">1</span>])))</span><br><span class="line">_, idx = np.unique(T, return_index=<span class="literal">True</span>)</span><br><span class="line">uZ = Z[idx]</span><br><span class="line"><span class="keyword">print</span> (uZ)</span><br></pre></td></tr></table></figure>
<pre><code>[[0 0 0]
 [0 1 0]
 [1 0 1]
 [1 1 0]
 [1 1 1]]
</code></pre><h3 id="97-考虑两个向量A和B，写出用einsum等式对应的inner-outer-sum-mul函数"><a href="#97-考虑两个向量A和B，写出用einsum等式对应的inner-outer-sum-mul函数" class="headerlink" title="97. 考虑两个向量A和B，写出用einsum等式对应的inner, outer, sum, mul函数"></a>97. 考虑两个向量A和B，写出用einsum等式对应的inner, outer, sum, mul函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">B = np.random.uniform(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'sum'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.einsum(<span class="string">'i-&gt;'</span>, A))<span class="comment"># np.sum(A)</span></span><br></pre></td></tr></table></figure>
<pre><code>sum
3.9854151671792284
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (<span class="string">'A * B'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.einsum(<span class="string">'i,i-&gt;i'</span>, A, B)) <span class="comment"># A * B</span></span><br></pre></td></tr></table></figure>
<pre><code>A * B
[0.28888653 0.60418484 0.41649239 0.09110476 0.06966387 0.43890848
 0.05302467 0.37448688 0.10099565 0.2354905 ]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (<span class="string">'inner'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.einsum(<span class="string">'i,i'</span>, A, B))    <span class="comment"># np.inner(A, B)</span></span><br></pre></td></tr></table></figure>
<pre><code>inner
2.673238575659151
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (<span class="string">'outer'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.einsum(<span class="string">'i,j-&gt;ij'</span>, A, B))    <span class="comment"># np.outer(A, B)</span></span><br></pre></td></tr></table></figure>
<pre><code>outer
[[0.28888653 0.27775195 0.21538512 0.20511293 0.3347668  0.20453934
  0.24313786 0.25523188 0.3137035  0.30699418]
 [0.62840553 0.60418484 0.4685203  0.44617553 0.7282074  0.44492782
  0.52888994 0.55519766 0.68238908 0.66779451]
 [0.5586228  0.53709175 0.41649239 0.39662895 0.64734194 0.39551979
  0.47015815 0.49354447 0.60661162 0.59363774]
 [0.12831438 0.12336875 0.09566735 0.09110476 0.14869296 0.09084999
  0.10799425 0.11336603 0.1393373  0.13635723]
 [0.06011633 0.05779927 0.04482093 0.04268333 0.06966387 0.04256396
  0.05059619 0.05311291 0.06528066 0.06388448]
 [0.61990396 0.59601095 0.46218178 0.44013931 0.71835562 0.43890848
  0.52173469 0.54768651 0.67315718 0.65876005]
 [0.06300176 0.06057348 0.04697222 0.04473201 0.07300755 0.04460692
  0.05302467 0.05566219 0.06841396 0.06695076]
 [0.42386639 0.40752927 0.31602205 0.30095027 0.49118384 0.30010867
  0.35674204 0.37448688 0.46027889 0.45043469]
 [0.09300592 0.08942119 0.06934242 0.06603533 0.1077769  0.06585067
  0.07827731 0.08217094 0.10099565 0.09883561]
 [0.2216004  0.21305924 0.16521861 0.15733897 0.25679445 0.15689898
  0.18650731 0.19578444 0.24063712 0.2354905 ]]
</code></pre><h3 id="98-考虑一个由两个向量描述的路径-X-Y-，如何用等距样例-equidistant-samples-对其进行采样-sample"><a href="#98-考虑一个由两个向量描述的路径-X-Y-，如何用等距样例-equidistant-samples-对其进行采样-sample" class="headerlink" title="98. 考虑一个由两个向量描述的路径(X,Y)，如何用等距样例(equidistant samples)对其进行采样(sample)?"></a>98. 考虑一个由两个向量描述的路径(X,Y)，如何用等距样例(equidistant samples)对其进行采样(sample)?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">phi = np.arange(<span class="number">0</span>, <span class="number">10</span>*np.pi, <span class="number">0.1</span>)</span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">x = a*phi*np.cos(phi)</span><br><span class="line">y = a*phi*np.sin(phi)</span><br><span class="line"></span><br><span class="line">dr = (np.diff(x)**<span class="number">2</span> + np.diff(y)**<span class="number">2</span>)**<span class="number">.5</span> <span class="comment"># segment lengths</span></span><br><span class="line">r = np.zeros_like(x)</span><br><span class="line">r[<span class="number">1</span>:] = np.cumsum(dr)                <span class="comment"># integrate path</span></span><br><span class="line">r_int = np.linspace(<span class="number">0</span>, r.max(), <span class="number">200</span>) <span class="comment"># regular spaced path</span></span><br><span class="line">x_int = np.interp(r_int, r, x)       <span class="comment"># integrate path</span></span><br><span class="line">y_int = np.interp(r_int, r, y)</span><br><span class="line">print(x_int)</span><br><span class="line">print(y_int)</span><br></pre></td></tr></table></figure>
<pre><code>[ 0.00000000e+00 -3.73131229e-01 -2.59817608e+00 -3.26212050e+00
 -2.18442687e+00 -2.98929946e-02  2.42923642e+00  4.54913599e+00
  5.92318348e+00  6.35117933e+00  5.82369277e+00  4.46259540e+00
  2.47320794e+00  1.09577220e-01 -2.36575300e+00 -4.71261671e+00
 -6.72701769e+00 -8.25541575e+00 -9.18486120e+00 -9.46381505e+00
 -9.11085788e+00 -8.12875279e+00 -6.63306046e+00 -4.69271059e+00
 -2.44736165e+00 -2.05444585e-02  2.46101146e+00  4.86841760e+00
  7.08937968e+00  9.02539126e+00  1.05948609e+01  1.17357250e+01
  1.24068974e+01  1.25885805e+01  1.22815267e+01  1.15053927e+01
  1.02963689e+01  8.70429550e+00  6.78948686e+00  4.61716636e+00
  2.25853448e+00 -1.98731680e-01 -2.68040566e+00 -5.11543300e+00
 -7.41973991e+00 -9.53891040e+00 -1.14237629e+01 -1.29919305e+01
 -1.42355069e+01 -1.51243232e+01 -1.56061571e+01 -1.57219415e+01
 -1.54217066e+01 -1.47579136e+01 -1.37255236e+01 -1.23634834e+01
 -1.07024632e+01 -8.78327367e+00 -6.65029558e+00 -4.35514246e+00
 -1.94290275e+00  5.28038914e-01  3.00985904e+00  5.45450275e+00
  7.80093594e+00  1.00179639e+01  1.20595602e+01  1.38732623e+01
  1.54564938e+01  1.67497894e+01  1.77435802e+01  1.84439878e+01
  1.87990820e+01  1.88271003e+01  1.85472755e+01  1.79378850e+01
  1.70105456e+01  1.58085777e+01  1.43501808e+01  1.26222364e+01
  1.06905445e+01  8.58498641e+00  6.33562529e+00  3.96179025e+00
  1.51802643e+00 -9.61699044e-01 -3.44349301e+00 -5.88951759e+00
 -8.26006582e+00 -1.05270865e+01 -1.26610269e+01 -1.46343020e+01
 -1.64206033e+01 -1.79708499e+01 -1.92894561e+01 -2.03605967e+01
 -2.11716587e+01 -2.17133504e+01 -2.19797677e+01 -2.19626531e+01
 -2.16476737e+01 -2.10622561e+01 -2.02145809e+01 -1.91158467e+01
 -1.77800930e+01 -1.62239930e+01 -1.44666197e+01 -1.25291882e+01
 -1.04347777e+01 -8.20773276e+00 -5.86978851e+00 -3.45563299e+00
 -9.92556869e-01  1.49191203e+00  3.97031733e+00  6.41557503e+00
  8.80126359e+00  1.11019001e+01  1.32931995e+01  1.53523150e+01
  1.72580567e+01  1.89910866e+01  2.05340895e+01  2.18719167e+01
  2.29917039e+01  2.38829603e+01  2.45376309e+01  2.49501314e+01
  2.51173551e+01  2.50386548e+01  2.47157984e+01  2.41529019e+01
  2.33563391e+01  2.23346314e+01  2.10983193e+01  1.96598169e+01
  1.80332532e+01  1.62343003e+01  1.42799934e+01  1.21885425e+01
  9.97914013e+00  7.67176574e+00  5.28699023e+00  2.84441658e+00
  3.68190102e-01 -2.11846865e+00 -4.59426061e+00 -7.03829202e+00
 -9.43024209e+00 -1.17505186e+01 -1.39803999e+01 -1.61021634e+01
 -1.80991985e+01 -1.99561058e+01 -2.16587804e+01 -2.31850397e+01
 -2.45166960e+01 -2.56568097e+01 -2.65976904e+01 -2.73332424e+01
 -2.78589555e+01 -2.81718833e+01 -2.82706110e+01 -2.81552119e+01
 -2.78066635e+01 -2.72341677e+01 -2.64578863e+01 -2.54844118e+01
 -2.43214986e+01 -2.29779690e+01 -2.14636172e+01 -1.97837046e+01
 -1.79341987e+01 -1.59545785e+01 -1.38585628e+01 -1.16602783e+01
 -9.37416511e+00 -7.01488958e+00 -4.59184632e+00 -2.12995331e+00
  3.50691071e-01  2.83498918e+00  5.30813450e+00  7.75565814e+00
  1.01522531e+01  1.24813227e+01  1.47337756e+01  1.68973642e+01
  1.89604991e+01  2.09071945e+01  2.26943693e+01  2.43420179e+01
  2.58422998e+01  2.71881423e+01  2.83731992e+01  2.93376609e+01
  3.01222558e+01  3.07280750e+01  3.11531219e+01  3.13960177e+01]
[ 0.00000000e+00  1.74026724e+00  9.81816584e-01 -1.34251287e+00
 -3.53191891e+00 -4.70449474e+00 -4.59573427e+00 -3.33831870e+00
 -1.28956083e+00  1.14234685e+00  3.55645601e+00  5.62188218e+00
  7.09389488e+00  7.82951803e+00  7.78700678e+00  6.99685666e+00
  5.55535240e+00  3.60417006e+00  1.30506373e+00 -1.15819722e+00
 -3.61328132e+00 -5.89130465e+00 -7.87065053e+00 -9.41689057e+00
 -1.04714836e+01 -1.09903787e+01 -1.09354306e+01 -1.03330912e+01
 -9.22690166e+00 -7.67489830e+00 -5.75257980e+00 -3.54832201e+00
 -1.15854355e+00  1.31709956e+00  3.78023622e+00  6.13780326e+00
  8.30540149e+00  1.02098724e+01  1.17910419e+01  1.29972950e+01
  1.37774249e+01  1.41319792e+01  1.40585758e+01  1.35636816e+01
  1.26345244e+01  1.13409083e+01  9.72216360e+00  7.79464305e+00
  5.64544223e+00  3.32503222e+00  8.88107041e-01 -1.59329248e+00
 -4.05992507e+00 -6.45313746e+00 -8.71327144e+00 -1.07900854e+01
 -1.26380653e+01 -1.42147006e+01 -1.54892299e+01 -1.64390858e+01
 -1.70351433e+01 -1.72938948e+01 -1.71685631e+01 -1.67219979e+01
 -1.59044166e+01 -1.47824153e+01 -1.33665280e+01 -1.16678134e+01
 -9.75246391e+00 -7.63091465e+00 -5.35345831e+00 -2.96905840e+00
 -5.09631905e-01  1.97507060e+00  4.44430515e+00  6.85344809e+00
  9.15903461e+00  1.13337844e+01  1.33467125e+01  1.51336120e+01
  1.66966787e+01  1.80162922e+01  1.90746708e+01  1.98127969e+01
  2.02634499e+01  2.04221761e+01  2.02877631e+01  1.98449702e+01
  1.90974465e+01  1.80799531e+01  1.68069397e+01  1.52959771e+01
  1.35665801e+01  1.16227312e+01  9.51601869e+00  7.27388893e+00
  4.92519240e+00  2.49981337e+00  2.82932820e-02 -2.45817963e+00
 -4.92460367e+00 -7.34030894e+00 -9.67635928e+00 -1.19050601e+01
 -1.40002645e+01 -1.59376556e+01 -1.76950019e+01 -1.92523833e+01
 -2.05923861e+01 -2.16995543e+01 -2.25478860e+01 -2.31432552e+01
 -2.34800725e+01 -2.35556687e+01 -2.33702741e+01 -2.29269662e+01
 -2.22315865e+01 -2.12926288e+01 -2.01211000e+01 -1.87303570e+01
 -1.71359212e+01 -1.53552740e+01 -1.34076356e+01 -1.13137308e+01
 -9.09554383e+00 -6.77606668e+00 -4.37904252e+00 -1.92870828e+00
  5.50461201e-01  3.03400451e+00  5.49771780e+00  7.91788934e+00
  1.02715222e+01  1.25365431e+01  1.46919953e+01  1.67182148e+01
  1.85969872e+01  2.03116866e+01  2.18473923e+01  2.31909872e+01
  2.43312337e+01  2.52588296e+01  2.59664444e+01  2.64391214e+01
  2.66748505e+01  2.66796333e+01  2.64545680e+01  2.60026765e+01
  2.53288265e+01  2.44396400e+01  2.33433894e+01  2.20498837e+01
  2.05703459e+01  1.89172843e+01  1.71043584e+01  1.51396391e+01
  1.30387952e+01  1.08294252e+01  8.52903617e+00  6.15551380e+00
  3.72697869e+00  1.26164946e+00 -1.22228693e+00 -3.70679651e+00
 -6.17014862e+00 -8.59028675e+00 -1.09516293e+01 -1.32379536e+01
 -1.54338179e+01 -1.75246263e+01 -1.94966815e+01 -2.13317519e+01
 -2.29952001e+01 -2.44987532e+01 -2.58335652e+01 -2.69919481e+01
 -2.79673583e+01 -2.87543764e+01 -2.93186910e+01 -2.96679958e+01
 -2.98181354e+01 -2.97693731e+01 -2.95229769e+01 -2.90811595e+01
 -2.84133854e+01 -2.75430665e+01 -2.64934034e+01 -2.52713717e+01
 -2.38845608e+01 -2.23353782e+01 -2.06051319e+01 -1.87442619e+01
 -1.67635423e+01 -1.46739620e+01 -1.24866789e+01 -1.01933401e+01
 -7.83474328e+00 -5.42495146e+00 -2.97607515e+00 -5.00072086e-01]
</code></pre><h3 id="99-给定一个整数n和一个二维数组X，从X中选择可以解释为从n度的多项分布中提取的行，即只包含整数且和为n的行"><a href="#99-给定一个整数n和一个二维数组X，从X中选择可以解释为从n度的多项分布中提取的行，即只包含整数且和为n的行" class="headerlink" title="99. 给定一个整数n和一个二维数组X，从X中选择可以解释为从n度的多项分布中提取的行，即只包含整数且和为n的行"></a>99. 给定一个整数n和一个二维数组X，从X中选择可以解释为从n度的多项分布中提取的行，即只包含整数且和为n的行</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">X = np.asarray([[<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">3.0</span>, <span class="number">8.0</span>],</span><br><span class="line">                [<span class="number">2.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>],</span><br><span class="line">                [<span class="number">1.5</span>, <span class="number">2.5</span>, <span class="number">1.0</span>, <span class="number">0.0</span>]])</span><br><span class="line">n = <span class="number">4</span></span><br><span class="line">M = np.logical_and.reduce(np.mod(X, <span class="number">1</span>) == <span class="number">0</span>, axis=<span class="number">-1</span>)</span><br><span class="line">M &amp;= (X.sum(axis=<span class="number">-1</span>) == n)</span><br><span class="line"><span class="keyword">print</span> (X[M])</span><br></pre></td></tr></table></figure>
<pre><code>[[2. 0. 1. 1.]]
</code></pre><h3 id="100-对于一个一维数组X，计算它boostrapped之后的95-置信区间的平均值"><a href="#100-对于一个一维数组X，计算它boostrapped之后的95-置信区间的平均值" class="headerlink" title="100. 对于一个一维数组X，计算它boostrapped之后的95%置信区间的平均值"></a>100. 对于一个一维数组X，计算它boostrapped之后的95%置信区间的平均值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">X = np.random.randn(<span class="number">100</span>) <span class="comment"># random 1D array</span></span><br><span class="line">N = <span class="number">1000</span> <span class="comment"># number of bootstrap samples</span></span><br><span class="line">idx = np.random.randint(<span class="number">0</span>, X.size, (N, X.size))</span><br><span class="line">means = X[idx].mean(axis=<span class="number">1</span>)</span><br><span class="line">confint = np.percentile(means, [<span class="number">2.5</span>, <span class="number">97.5</span>])</span><br><span class="line"><span class="keyword">print</span> (confint)</span><br></pre></td></tr></table></figure>
<pre><code>[-0.18822493  0.15997818]
</code></pre>
      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: '如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作!', // 可选参数，打赏标题
  btnText: '打赏支持', // 可选参数，打赏按钮文字
  el: document.getElementById('donation_div'),
  wechatImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/WeChanQR.png',
  alipayImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/AliPayQR.jpg'
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>本文作者:  </strong>段纪刚</a>
          </li>
          <li class="post-copyright-link">
          <strong>本文链接:  </strong>
          <a href="/2020/10/23/numpy-100/" target="_blank" title="Numpy-100">https://jigangduan.github.io/2020/10/23/numpy-100/</a>
          </li>
          <li class="post-copyright-license">
            <strong>版权声明:   </strong>
            本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            许可协议。转载请注明出处
          </li>
         
        </ul>
<div>

      
      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>



      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/numpy/">numpy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/02/11/prefix_2135de493ff217a4f8bee2d4752741ba/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">周育如 K.K 音標英文教學 (自然發音)</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
        <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-导入numpy库并简写为-np"><span class="nav-number">1.</span> <span class="nav-text">1. 导入numpy库并简写为 np</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-打印numpy的版本和配置说明"><span class="nav-number">2.</span> <span class="nav-text">2. 打印numpy的版本和配置说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-创建一个长度为10的空向量"><span class="nav-number">3.</span> <span class="nav-text">3. 创建一个长度为10的空向量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-如何找到任何一个数组的内存大小？"><span class="nav-number">4.</span> <span class="nav-text">4. 如何找到任何一个数组的内存大小？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-如何从命令行得到numpy中add函数的说明文档"><span class="nav-number">5.</span> <span class="nav-text">5. 如何从命令行得到numpy中add函数的说明文档?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-创建一个长度为10并且除了第五个值为1的空向量"><span class="nav-number">6.</span> <span class="nav-text">6. 创建一个长度为10并且除了第五个值为1的空向量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-创建一个值域范围从10到49的向量"><span class="nav-number">7.</span> <span class="nav-text">7. 创建一个值域范围从10到49的向量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-反转一个向量-第一个元素变为最后一个"><span class="nav-number">8.</span> <span class="nav-text">8. 反转一个向量(第一个元素变为最后一个)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-创建一个-3x3-并且值从0到8的矩阵"><span class="nav-number">9.</span> <span class="nav-text">9. 创建一个 3x3 并且值从0到8的矩阵</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-找到数组-1-2-0-0-4-0-中非0元素的位置索引"><span class="nav-number">10.</span> <span class="nav-text">10. 找到数组[1,2,0,0,4,0]中非0元素的位置索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-创建一个-3x3-的单位矩阵"><span class="nav-number">11.</span> <span class="nav-text">11. 创建一个 3x3 的单位矩阵</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-创建一个-3x3x3的随机数组"><span class="nav-number">12.</span> <span class="nav-text">12. 创建一个 3x3x3的随机数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-创建一个-10x10-的随机数组并找到它的最大值和最小值"><span class="nav-number">13.</span> <span class="nav-text">13. 创建一个 10x10 的随机数组并找到它的最大值和最小值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-创建一个长度为30的随机向量并找到它的平均值"><span class="nav-number">14.</span> <span class="nav-text">14. 创建一个长度为30的随机向量并找到它的平均值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-创建一个二维数组，其中边界值为1，其余值为0"><span class="nav-number">15.</span> <span class="nav-text">15. 创建一个二维数组，其中边界值为1，其余值为0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-对于一个存在在数组，如何添加一个用0填充的边界"><span class="nav-number">16.</span> <span class="nav-text">16. 对于一个存在在数组，如何添加一个用0填充的边界?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-以下表达式运行的结果分别是什么"><span class="nav-number">17.</span> <span class="nav-text">17. 以下表达式运行的结果分别是什么?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-创建一个-5x5的矩阵，并设置值1-2-3-4落在其对角线下方位置"><span class="nav-number">18.</span> <span class="nav-text">18. 创建一个 5x5的矩阵，并设置值1,2,3,4落在其对角线下方位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-创建一个8x8-的矩阵，并且设置成棋盘样式"><span class="nav-number">19.</span> <span class="nav-text">19. 创建一个8x8 的矩阵，并且设置成棋盘样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-考虑一个-6-7-8-形状的数组，其第100个元素的索引-x-y-z-是什么"><span class="nav-number">20.</span> <span class="nav-text">20. 考虑一个 (6,7,8) 形状的数组，其第100个元素的索引(x,y,z)是什么?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-用tile函数去创建一个-8x8的棋盘样式矩阵-★☆☆"><span class="nav-number">21.</span> <span class="nav-text">21. 用tile函数去创建一个 8x8的棋盘样式矩阵(★☆☆)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-对一个5x5的随机矩阵做归一化"><span class="nav-number">22.</span> <span class="nav-text">22. 对一个5x5的随机矩阵做归一化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-创建一个将颜色描述为-RGBA-四个无符号字节的自定义dtype？"><span class="nav-number">23.</span> <span class="nav-text">23. 创建一个将颜色描述为(RGBA)四个无符号字节的自定义dtype？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-一个5x3的矩阵与一个3x2的矩阵相乘，实矩阵乘积是什么？"><span class="nav-number">24.</span> <span class="nav-text">24. 一个5x3的矩阵与一个3x2的矩阵相乘，实矩阵乘积是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-给定一个一维数组，对其在3到8之间的所有元素取反"><span class="nav-number">25.</span> <span class="nav-text">25. 给定一个一维数组，对其在3到8之间的所有元素取反</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-下面脚本运行后的结果是什么"><span class="nav-number">26.</span> <span class="nav-text">26. 下面脚本运行后的结果是什么?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-考虑一个整数向量Z-下列表达合法的是哪个"><span class="nav-number">27.</span> <span class="nav-text">27. 考虑一个整数向量Z,下列表达合法的是哪个?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28-下列表达式的结果分别是什么"><span class="nav-number">28.</span> <span class="nav-text">28. 下列表达式的结果分别是什么?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29-如何从零位对浮点数组做舍入"><span class="nav-number">29.</span> <span class="nav-text">29. 如何从零位对浮点数组做舍入 ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#30-如何找到两个数组中的共同元素"><span class="nav-number">30.</span> <span class="nav-text">30. 如何找到两个数组中的共同元素?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#31-如何忽略所有的-numpy-警告-尽管不建议这么做"><span class="nav-number">31.</span> <span class="nav-text">31. 如何忽略所有的 numpy 警告(尽管不建议这么做)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#32-下面的表达式是正确的吗"><span class="nav-number">32.</span> <span class="nav-text">32. 下面的表达式是正确的吗?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#33-如何得到昨天，今天，明天的日期"><span class="nav-number">33.</span> <span class="nav-text">33. 如何得到昨天，今天，明天的日期?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#34-如何得到所有与2016年7月对应的日期？"><span class="nav-number">34.</span> <span class="nav-text">34. 如何得到所有与2016年7月对应的日期？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#35-如何直接在位计算-A-B-A-2-不建立副本"><span class="nav-number">35.</span> <span class="nav-text">35. 如何直接在位计算(A+B)*(-A/2)(不建立副本)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#36-用五种不同的方法去提取一个随机数组的整数部分"><span class="nav-number">36.</span> <span class="nav-text">36. 用五种不同的方法去提取一个随机数组的整数部分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#37-创建一个5x5的矩阵，其中每行的数值范围从0到4"><span class="nav-number">37.</span> <span class="nav-text">37. 创建一个5x5的矩阵，其中每行的数值范围从0到4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#38-通过考虑一个可生成10个整数的函数，来构建一个数组"><span class="nav-number">38.</span> <span class="nav-text">38. 通过考虑一个可生成10个整数的函数，来构建一个数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#39-创建一个长度为10的随机向量，其值域范围从0到1，但是不包括0和1"><span class="nav-number">39.</span> <span class="nav-text">39. 创建一个长度为10的随机向量，其值域范围从0到1，但是不包括0和1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#40-创建一个长度为10的随机向量，并将其排序"><span class="nav-number">40.</span> <span class="nav-text">40. 创建一个长度为10的随机向量，并将其排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#41-对于一个小数组，如何用比-np-sum更快的方式对其求和？"><span class="nav-number">41.</span> <span class="nav-text">41.对于一个小数组，如何用比 np.sum更快的方式对其求和？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#42-对于两个随机数组A和B，检查它们是否相等"><span class="nav-number">42.</span> <span class="nav-text">42. 对于两个随机数组A和B，检查它们是否相等</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#43-创建一个只读数组-read-only"><span class="nav-number">43.</span> <span class="nav-text">43. 创建一个只读数组(read-only)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#44-将笛卡尔坐标下的一个10x2的矩阵转换为极坐标形式"><span class="nav-number">44.</span> <span class="nav-text">44. 将笛卡尔坐标下的一个10x2的矩阵转换为极坐标形式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#45-创建一个长度为10的向量，并将向量中最大值替换为0"><span class="nav-number">45.</span> <span class="nav-text">45. 创建一个长度为10的向量，并将向量中最大值替换为0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#46-创建一个结构化数组，并实现-x-和-y-坐标覆盖-0-1-x-0-1-区域"><span class="nav-number">46.</span> <span class="nav-text">46. 创建一个结构化数组，并实现 x 和 y 坐标覆盖 [0,1]x[0,1] 区域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#47-给定两个数组X和Y，构造Cauchy矩阵C-Cij-1-xi-yj"><span class="nav-number">47.</span> <span class="nav-text">47. 给定两个数组X和Y，构造Cauchy矩阵C (Cij =1/(xi - yj))</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#48-打印每个numpy标量类型的最小值和最大值？"><span class="nav-number">48.</span> <span class="nav-text">48. 打印每个numpy标量类型的最小值和最大值？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#49-如何打印一个数组中的所有数值"><span class="nav-number">49.</span> <span class="nav-text">49. 如何打印一个数组中的所有数值?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#50-给定标量时，如何找到数组中最接近标量的值？"><span class="nav-number">50.</span> <span class="nav-text">50. 给定标量时，如何找到数组中最接近标量的值？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#51-创建一个表示位置-x-y-和颜色-r-g-b-的结构化数组"><span class="nav-number">51.</span> <span class="nav-text">51. 创建一个表示位置(x,y)和颜色(r,g,b)的结构化数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#52-对一个表示坐标形状为-100-2-的随机向量，找到点与点的距离"><span class="nav-number">52.</span> <span class="nav-text">52. 对一个表示坐标形状为(100,2)的随机向量，找到点与点的距离</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#53-如何将32位的浮点数-float-转换为对应的整数-integer"><span class="nav-number">53.</span> <span class="nav-text">53. 如何将32位的浮点数(float)转换为对应的整数(integer)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#54-如何读取以下文件"><span class="nav-number">54.</span> <span class="nav-text">54. 如何读取以下文件?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#55-对于numpy数组，enumerate的等价操作是什么？"><span class="nav-number">55.</span> <span class="nav-text">55. 对于numpy数组，enumerate的等价操作是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#56-生成一个通用的二维Gaussian-like数组"><span class="nav-number">56.</span> <span class="nav-text">56. 生成一个通用的二维Gaussian-like数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#57-对一个二维数组，如何在其内部随机放置p个元素"><span class="nav-number">57.</span> <span class="nav-text">57. 对一个二维数组，如何在其内部随机放置p个元素?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#58-减去一个矩阵中的每一行的平均值"><span class="nav-number">58.</span> <span class="nav-text">58. 减去一个矩阵中的每一行的平均值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#59-如何通过第n列对一个数组进行排序"><span class="nav-number">59.</span> <span class="nav-text">59. 如何通过第n列对一个数组进行排序?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#60-如何检查一个二维数组是否有空列？"><span class="nav-number">60.</span> <span class="nav-text">60. 如何检查一个二维数组是否有空列？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#61-从数组中的给定值中找出最近的值"><span class="nav-number">61.</span> <span class="nav-text">61. 从数组中的给定值中找出最近的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#62-如何用迭代器-iterator-计算两个分别具有形状-1-3-和-3-1-的数组"><span class="nav-number">62.</span> <span class="nav-text">62. 如何用迭代器(iterator)计算两个分别具有形状(1,3)和(3,1)的数组?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#63-创建一个具有name属性的数组类"><span class="nav-number">63.</span> <span class="nav-text">63. 创建一个具有name属性的数组类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#64-考虑一个给定的向量，如何对由第二个向量索引的每个元素加1-小心重复的索引"><span class="nav-number">64.</span> <span class="nav-text">64. 考虑一个给定的向量，如何对由第二个向量索引的每个元素加1(小心重复的索引)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#65-根据索引列表-I-，如何将向量-X-的元素累加到数组-F"><span class="nav-number">65.</span> <span class="nav-text">65. 根据索引列表(I)，如何将向量(X)的元素累加到数组(F)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#66-考虑一个-dtype-ubyte-的-w-h-3-图像，计算其唯一颜色的数量"><span class="nav-number">66.</span> <span class="nav-text">66. 考虑一个(dtype=ubyte) 的 (w,h,3)图像，计算其唯一颜色的数量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#67-考虑一个四维数组，如何一次性计算出最后两个轴-axis-的和？"><span class="nav-number">67.</span> <span class="nav-text">67. 考虑一个四维数组，如何一次性计算出最后两个轴(axis)的和？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#68-考虑一个一维向量D，如何使用相同大小的向量S来计算D子集的均值？"><span class="nav-number">68.</span> <span class="nav-text">68. 考虑一个一维向量D，如何使用相同大小的向量S来计算D子集的均值？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#69-如何获得点积-dot-prodcut的对角线"><span class="nav-number">69.</span> <span class="nav-text">69. 如何获得点积 dot prodcut的对角线?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#70-考虑一个向量-1-2-3-4-5-如何建立一个新的向量，在这个新向量中每个值之间有3个连续的零？"><span class="nav-number">70.</span> <span class="nav-text">70. 考虑一个向量[1,2,3,4,5],如何建立一个新的向量，在这个新向量中每个值之间有3个连续的零？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#71-考虑一个维度-5-5-3-的数组，如何将其与一个-5-5-的数组相乘？"><span class="nav-number">71.</span> <span class="nav-text">71. 考虑一个维度(5,5,3)的数组，如何将其与一个(5,5)的数组相乘？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#72-如何对一个数组中任意两行做交换"><span class="nav-number">72.</span> <span class="nav-text">72. 如何对一个数组中任意两行做交换?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#73-考虑一个可以描述10个三角形的triplets，找到可以分割全部三角形的line-segment"><span class="nav-number">73.</span> <span class="nav-text">73. 考虑一个可以描述10个三角形的triplets，找到可以分割全部三角形的line segment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#74-给定一个二进制的数组C，如何产生一个数组A满足np-bincount-A-C"><span class="nav-number">74.</span> <span class="nav-text">74. 给定一个二进制的数组C，如何产生一个数组A满足np.bincount(A)==C</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#75-如何通过滑动窗口计算一个数组的平均数"><span class="nav-number">75.</span> <span class="nav-text">75. 如何通过滑动窗口计算一个数组的平均数?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#76-考虑一个一维数组Z，构建一个二维数组，其第一行为-Z-0-，Z-1-，Z-2-，然后每个后续行移动1-最后一行应该为-Z-3-，Z-2-，Z-1"><span class="nav-number">76.</span> <span class="nav-text">76. 考虑一个一维数组Z，构建一个二维数组，其第一行为(Z[0]，Z[1]，Z[2])，然后每个后续行移动1(最后一行应该为(Z[-3]，Z[-2]，Z[-1])</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#77-如何对布尔值取反，或者原位-in-place-改变浮点数的符号-sign-？"><span class="nav-number">77.</span> <span class="nav-text">77. 如何对布尔值取反，或者原位(in-place)改变浮点数的符号(sign)？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#78-考虑两组点集P0和P1去描述一组线-二维-和一个点p-如何计算点p到每一条线-i-P0-i-P1-i-的距离？"><span class="nav-number">78.</span> <span class="nav-text">78. 考虑两组点集P0和P1去描述一组线(二维)和一个点p,如何计算点p到每一条线 i (P0[i],P1[i])的距离？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#79-考虑两组点集P0和P1去描述一组线-二维-和一组点集P，如何计算每一个点-j-P-j-到每一条线-i-P0-i-P1-i-的距离？"><span class="nav-number">79.</span> <span class="nav-text">79.考虑两组点集P0和P1去描述一组线(二维)和一组点集P，如何计算每一个点 j(P[j]) 到每一条线 i (P0[i],P1[i])的距离？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#80-考虑一个任意数组，编写一个函数来提取形状固定且以给定元素为中心的子部分-必要时使用填充值填充"><span class="nav-number">80.</span> <span class="nav-text">80.考虑一个任意数组，编写一个函数来提取形状固定且以给定元素为中心的子部分(必要时使用填充值填充)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#81-考虑一个数组Z-1-2-3-4-5-6-7-8-9-10-11-12-13-14-如何生成一个数组R-1-2-3-4-2-3-4-5-3-4-5-6-…-11-12-13-14"><span class="nav-number">81.</span> <span class="nav-text">81. 考虑一个数组Z = [1,2,3,4,5,6,7,8,9,10,11,12,13,14],如何生成一个数组R = [[1,2,3,4], [2,3,4,5], [3,4,5,6], …,[11,12,13,14]]?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#82-计算一个矩阵的秩"><span class="nav-number">82.</span> <span class="nav-text">82. 计算一个矩阵的秩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#83-如何找到一个数组中出现频率最高的值？"><span class="nav-number">83.</span> <span class="nav-text">83. 如何找到一个数组中出现频率最高的值？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#84-从一个10x10的矩阵中提取出连续的3x3区块"><span class="nav-number">84.</span> <span class="nav-text">84. 从一个10x10的矩阵中提取出连续的3x3区块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#85-创建一个满足-Z-i-j-Z-j-i-的子类"><span class="nav-number">85.</span> <span class="nav-text">85. 创建一个满足 Z[i,j] == Z[j,i]的子类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#86-考虑p个-nxn-矩阵和一组形状为-n-1-的向量，如何直接计算p个矩阵的乘积-n-1-？"><span class="nav-number">86.</span> <span class="nav-text">86. 考虑p个 nxn 矩阵和一组形状为(n,1)的向量，如何直接计算p个矩阵的乘积(n,1)？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#87-对于一个16x16的数组，如何得到一个区域-block-sum-的和-区域大小为4x4"><span class="nav-number">87.</span> <span class="nav-text">87. 对于一个16x16的数组，如何得到一个区域(block-sum)的和(区域大小为4x4)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#88-如何利用numpy数组实现Game-of-Life"><span class="nav-number">88.</span> <span class="nav-text">88. 如何利用numpy数组实现Game of Life?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#89-如何找到一个数组的第n个最大值"><span class="nav-number">89.</span> <span class="nav-text">89. 如何找到一个数组的第n个最大值?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#90-给定任意个数向量，创建笛卡尔积-每一个元素的每一种组合"><span class="nav-number">90.</span> <span class="nav-text">90. 给定任意个数向量，创建笛卡尔积(每一个元素的每一种组合)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#91-如何从一个正常数组创建记录数组-record-array"><span class="nav-number">91.</span> <span class="nav-text">91. 如何从一个正常数组创建记录数组(record array)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#92-考虑一个大向量Z-用三种不同的方法计算它的立方"><span class="nav-number">92.</span> <span class="nav-text">92. 考虑一个大向量Z, 用三种不同的方法计算它的立方</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#93-考虑两个形状分别为-8-3-和-2-2-的数组A和B-如何在数组A中找到满足包含B中元素的行？-不考虑B中每行元素顺序-？"><span class="nav-number">93.</span> <span class="nav-text">93. 考虑两个形状分别为(8,3) 和(2,2)的数组A和B. 如何在数组A中找到满足包含B中元素的行？(不考虑B中每行元素顺序)？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#94-考虑一个10x3的矩阵，分解出有不全相同值的行-如-2-2-3"><span class="nav-number">94.</span> <span class="nav-text">94. 考虑一个10x3的矩阵，分解出有不全相同值的行 (如 [2,2,3])</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#95-将一个整数向量转换为matrix-binary的表现形式"><span class="nav-number">95.</span> <span class="nav-text">95. 将一个整数向量转换为matrix binary的表现形式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#96-给定一个二维数组，如何提取出唯一的-unique-行"><span class="nav-number">96.</span> <span class="nav-text">96. 给定一个二维数组，如何提取出唯一的(unique)行?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#97-考虑两个向量A和B，写出用einsum等式对应的inner-outer-sum-mul函数"><span class="nav-number">97.</span> <span class="nav-text">97. 考虑两个向量A和B，写出用einsum等式对应的inner, outer, sum, mul函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#98-考虑一个由两个向量描述的路径-X-Y-，如何用等距样例-equidistant-samples-对其进行采样-sample"><span class="nav-number">98.</span> <span class="nav-text">98. 考虑一个由两个向量描述的路径(X,Y)，如何用等距样例(equidistant samples)对其进行采样(sample)?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#99-给定一个整数n和一个二维数组X，从X中选择可以解释为从n度的多项分布中提取的行，即只包含整数且和为n的行"><span class="nav-number">99.</span> <span class="nav-text">99. 给定一个整数n和一个二维数组X，从X中选择可以解释为从n度的多项分布中提取的行，即只包含整数且和为n的行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#100-对于一个一维数组X，计算它boostrapped之后的95-置信区间的平均值"><span class="nav-number">100.</span> <span class="nav-text">100. 对于一个一维数组X，计算它boostrapped之后的95%置信区间的平均值</span></a></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2020 朝着牛逼的道路一路狂奔 All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            朝着牛逼的道路一路狂奔
          </div>
          <div class="panel-body">
            Copyright © 2020 段纪刚 All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>